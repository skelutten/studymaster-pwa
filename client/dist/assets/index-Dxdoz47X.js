function sm(o,i){for(var a=0;a<i.length;a++){const u=i[a];if(typeof u!="string"&&!Array.isArray(u)){for(const c in u)if(c!=="default"&&!(c in o)){const f=Object.getOwnPropertyDescriptor(u,c);f&&Object.defineProperty(o,c,f.get?f:{enumerable:!0,get:()=>u[c]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function a(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(c){if(c.ep)return;c.ep=!0;const f=a(c);fetch(c.href,f)}})();var Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ls(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function im(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var i=o.default;if(typeof i=="function"){var a=function u(){var c=!1;try{c=this instanceof u}catch{}return c?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};a.prototype=i.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(u){var c=Object.getOwnPropertyDescriptor(o,u);Object.defineProperty(a,u,c.get?c:{enumerable:!0,get:function(){return o[u]}})}),a}var Yl={exports:{}},Es={},Jl={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac;function om(){if(Ac)return et;Ac=1;var o=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),_=Symbol.iterator;function N(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function S(T,R,le){this.props=T,this.context=R,this.refs=k,this.updater=le||w}S.prototype.isReactComponent={},S.prototype.setState=function(T,R){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,R,"setState")},S.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function v(){}v.prototype=S.prototype;function j(T,R,le){this.props=T,this.context=R,this.refs=k,this.updater=le||w}var D=j.prototype=new v;D.constructor=j,I(D,S.prototype),D.isPureReactComponent=!0;var O=Array.isArray,B=Object.prototype.hasOwnProperty,W={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function ie(T,R,le){var de,se={},_e=null,Te=null;if(R!=null)for(de in R.ref!==void 0&&(Te=R.ref),R.key!==void 0&&(_e=""+R.key),R)B.call(R,de)&&!H.hasOwnProperty(de)&&(se[de]=R[de]);var Ie=arguments.length-2;if(Ie===1)se.children=le;else if(1<Ie){for(var Me=Array(Ie),Ve=0;Ve<Ie;Ve++)Me[Ve]=arguments[Ve+2];se.children=Me}if(T&&T.defaultProps)for(de in Ie=T.defaultProps,Ie)se[de]===void 0&&(se[de]=Ie[de]);return{$$typeof:o,type:T,key:_e,ref:Te,props:se,_owner:W.current}}function ne(T,R){return{$$typeof:o,type:T.type,key:R,ref:T.ref,props:T.props,_owner:T._owner}}function he(T){return typeof T=="object"&&T!==null&&T.$$typeof===o}function ge(T){var R={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(le){return R[le]})}var U=/\/+/g;function X(T,R){return typeof T=="object"&&T!==null&&T.key!=null?ge(""+T.key):R.toString(36)}function E(T,R,le,de,se){var _e=typeof T;(_e==="undefined"||_e==="boolean")&&(T=null);var Te=!1;if(T===null)Te=!0;else switch(_e){case"string":case"number":Te=!0;break;case"object":switch(T.$$typeof){case o:case i:Te=!0}}if(Te)return Te=T,se=se(Te),T=de===""?"."+X(Te,0):de,O(se)?(le="",T!=null&&(le=T.replace(U,"$&/")+"/"),E(se,R,le,"",function(Ve){return Ve})):se!=null&&(he(se)&&(se=ne(se,le+(!se.key||Te&&Te.key===se.key?"":(""+se.key).replace(U,"$&/")+"/")+T)),R.push(se)),1;if(Te=0,de=de===""?".":de+":",O(T))for(var Ie=0;Ie<T.length;Ie++){_e=T[Ie];var Me=de+X(_e,Ie);Te+=E(_e,R,le,Me,se)}else if(Me=N(T),typeof Me=="function")for(T=Me.call(T),Ie=0;!(_e=T.next()).done;)_e=_e.value,Me=de+X(_e,Ie++),Te+=E(_e,R,le,Me,se);else if(_e==="object")throw R=String(T),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return Te}function ue(T,R,le){if(T==null)return T;var de=[],se=0;return E(T,de,"","",function(_e){return R.call(le,_e,se++)}),de}function Ee(T){if(T._status===-1){var R=T._result;R=R(),R.then(function(le){(T._status===0||T._status===-1)&&(T._status=1,T._result=le)},function(le){(T._status===0||T._status===-1)&&(T._status=2,T._result=le)}),T._status===-1&&(T._status=0,T._result=R)}if(T._status===1)return T._result.default;throw T._result}var fe={current:null},pe={transition:null},Z={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:pe,ReactCurrentOwner:W};function Q(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:ue,forEach:function(T,R,le){ue(T,function(){R.apply(this,arguments)},le)},count:function(T){var R=0;return ue(T,function(){R++}),R},toArray:function(T){return ue(T,function(R){return R})||[]},only:function(T){if(!he(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},et.Component=S,et.Fragment=a,et.Profiler=c,et.PureComponent=j,et.StrictMode=u,et.Suspense=x,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,et.act=Q,et.cloneElement=function(T,R,le){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var de=I({},T.props),se=T.key,_e=T.ref,Te=T._owner;if(R!=null){if(R.ref!==void 0&&(_e=R.ref,Te=W.current),R.key!==void 0&&(se=""+R.key),T.type&&T.type.defaultProps)var Ie=T.type.defaultProps;for(Me in R)B.call(R,Me)&&!H.hasOwnProperty(Me)&&(de[Me]=R[Me]===void 0&&Ie!==void 0?Ie[Me]:R[Me])}var Me=arguments.length-2;if(Me===1)de.children=le;else if(1<Me){Ie=Array(Me);for(var Ve=0;Ve<Me;Ve++)Ie[Ve]=arguments[Ve+2];de.children=Ie}return{$$typeof:o,type:T.type,key:se,ref:_e,props:de,_owner:Te}},et.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:f,_context:T},T.Consumer=T},et.createElement=ie,et.createFactory=function(T){var R=ie.bind(null,T);return R.type=T,R},et.createRef=function(){return{current:null}},et.forwardRef=function(T){return{$$typeof:y,render:T}},et.isValidElement=he,et.lazy=function(T){return{$$typeof:C,_payload:{_status:-1,_result:T},_init:Ee}},et.memo=function(T,R){return{$$typeof:p,type:T,compare:R===void 0?null:R}},et.startTransition=function(T){var R=pe.transition;pe.transition={};try{T()}finally{pe.transition=R}},et.unstable_act=Q,et.useCallback=function(T,R){return fe.current.useCallback(T,R)},et.useContext=function(T){return fe.current.useContext(T)},et.useDebugValue=function(){},et.useDeferredValue=function(T){return fe.current.useDeferredValue(T)},et.useEffect=function(T,R){return fe.current.useEffect(T,R)},et.useId=function(){return fe.current.useId()},et.useImperativeHandle=function(T,R,le){return fe.current.useImperativeHandle(T,R,le)},et.useInsertionEffect=function(T,R){return fe.current.useInsertionEffect(T,R)},et.useLayoutEffect=function(T,R){return fe.current.useLayoutEffect(T,R)},et.useMemo=function(T,R){return fe.current.useMemo(T,R)},et.useReducer=function(T,R,le){return fe.current.useReducer(T,R,le)},et.useRef=function(T){return fe.current.useRef(T)},et.useState=function(T){return fe.current.useState(T)},et.useSyncExternalStore=function(T,R,le){return fe.current.useSyncExternalStore(T,R,le)},et.useTransition=function(){return fe.current.useTransition()},et.version="18.3.1",et}var Tc;function Rs(){return Tc||(Tc=1,Jl.exports=om()),Jl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc;function lm(){if(Dc)return Es;Dc=1;var o=Rs(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(y,x,p){var C,_={},N=null,w=null;p!==void 0&&(N=""+p),x.key!==void 0&&(N=""+x.key),x.ref!==void 0&&(w=x.ref);for(C in x)u.call(x,C)&&!f.hasOwnProperty(C)&&(_[C]=x[C]);if(y&&y.defaultProps)for(C in x=y.defaultProps,x)_[C]===void 0&&(_[C]=x[C]);return{$$typeof:i,type:y,key:N,ref:w,props:_,_owner:c.current}}return Es.Fragment=a,Es.jsx=h,Es.jsxs=h,Es}var Mc;function um(){return Mc||(Mc=1,Yl.exports=lm()),Yl.exports}var r=um(),K=Rs();const lo=Ls(K),dm=sm({__proto__:null,default:lo},[K]);var Yi={},eu={exports:{}},nr={},tu={exports:{}},ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc;function cm(){return Lc||(Lc=1,function(o){function i(pe,Z){var Q=pe.length;pe.push(Z);e:for(;0<Q;){var T=Q-1>>>1,R=pe[T];if(0<c(R,Z))pe[T]=Z,pe[Q]=R,Q=T;else break e}}function a(pe){return pe.length===0?null:pe[0]}function u(pe){if(pe.length===0)return null;var Z=pe[0],Q=pe.pop();if(Q!==Z){pe[0]=Q;e:for(var T=0,R=pe.length,le=R>>>1;T<le;){var de=2*(T+1)-1,se=pe[de],_e=de+1,Te=pe[_e];if(0>c(se,Q))_e<R&&0>c(Te,se)?(pe[T]=Te,pe[_e]=Q,T=_e):(pe[T]=se,pe[de]=Q,T=de);else if(_e<R&&0>c(Te,Q))pe[T]=Te,pe[_e]=Q,T=_e;else break e}}return Z}function c(pe,Z){var Q=pe.sortIndex-Z.sortIndex;return Q!==0?Q:pe.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();o.unstable_now=function(){return h.now()-y}}var x=[],p=[],C=1,_=null,N=3,w=!1,I=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(pe){for(var Z=a(p);Z!==null;){if(Z.callback===null)u(p);else if(Z.startTime<=pe)u(p),Z.sortIndex=Z.expirationTime,i(x,Z);else break;Z=a(p)}}function O(pe){if(k=!1,D(pe),!I)if(a(x)!==null)I=!0,Ee(B);else{var Z=a(p);Z!==null&&fe(O,Z.startTime-pe)}}function B(pe,Z){I=!1,k&&(k=!1,v(ie),ie=-1),w=!0;var Q=N;try{for(D(Z),_=a(x);_!==null&&(!(_.expirationTime>Z)||pe&&!ge());){var T=_.callback;if(typeof T=="function"){_.callback=null,N=_.priorityLevel;var R=T(_.expirationTime<=Z);Z=o.unstable_now(),typeof R=="function"?_.callback=R:_===a(x)&&u(x),D(Z)}else u(x);_=a(x)}if(_!==null)var le=!0;else{var de=a(p);de!==null&&fe(O,de.startTime-Z),le=!1}return le}finally{_=null,N=Q,w=!1}}var W=!1,H=null,ie=-1,ne=5,he=-1;function ge(){return!(o.unstable_now()-he<ne)}function U(){if(H!==null){var pe=o.unstable_now();he=pe;var Z=!0;try{Z=H(!0,pe)}finally{Z?X():(W=!1,H=null)}}else W=!1}var X;if(typeof j=="function")X=function(){j(U)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,ue=E.port2;E.port1.onmessage=U,X=function(){ue.postMessage(null)}}else X=function(){S(U,0)};function Ee(pe){H=pe,W||(W=!0,X())}function fe(pe,Z){ie=S(function(){pe(o.unstable_now())},Z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(pe){pe.callback=null},o.unstable_continueExecution=function(){I||w||(I=!0,Ee(B))},o.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<pe?Math.floor(1e3/pe):5},o.unstable_getCurrentPriorityLevel=function(){return N},o.unstable_getFirstCallbackNode=function(){return a(x)},o.unstable_next=function(pe){switch(N){case 1:case 2:case 3:var Z=3;break;default:Z=N}var Q=N;N=Z;try{return pe()}finally{N=Q}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(pe,Z){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Q=N;N=pe;try{return Z()}finally{N=Q}},o.unstable_scheduleCallback=function(pe,Z,Q){var T=o.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?T+Q:T):Q=T,pe){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Q+R,pe={id:C++,callback:Z,priorityLevel:pe,startTime:Q,expirationTime:R,sortIndex:-1},Q>T?(pe.sortIndex=Q,i(p,pe),a(x)===null&&pe===a(p)&&(k?(v(ie),ie=-1):k=!0,fe(O,Q-T))):(pe.sortIndex=R,i(x,pe),I||w||(I=!0,Ee(B))),pe},o.unstable_shouldYield=ge,o.unstable_wrapCallback=function(pe){var Z=N;return function(){var Q=N;N=Z;try{return pe.apply(this,arguments)}finally{N=Q}}}}(ru)),ru}var Rc;function fm(){return Rc||(Rc=1,tu.exports=cm()),tu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc;function hm(){if(Oc)return nr;Oc=1;var o=Rs(),i=fm();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,c={};function f(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(c[e]=t,e=0;e<t.length;e++)u.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},_={};function N(e){return x.call(_,e)?!0:x.call(C,e)?!1:p.test(e)?_[e]=!0:(C[e]=!0,!1)}function w(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I(e,t,n,s){if(t===null||typeof t>"u"||w(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,n,s,d,g,A){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=g,this.removeEmptyString=A}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function j(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,j);S[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,j);S[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,j);S[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,n,s){var d=S.hasOwnProperty(t)?S[t]:null;(d!==null?d.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I(t,n,d,s)&&(n=null),s||d===null?N(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):d.mustUseProperty?e[d.propertyName]=n===null?d.type===3?!1:"":n:(t=d.attributeName,s=d.attributeNamespace,n===null?e.removeAttribute(t):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var O=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),W=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),ge=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),pe=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,T;function R(e){if(T===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var le=!1;function de(e,t){if(!e||le)return"";le=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(oe){var s=oe}Reflect.construct(e,[],t)}else{try{t.call()}catch(oe){s=oe}e.call(t.prototype)}else{try{throw Error()}catch(oe){s=oe}e()}}catch(oe){if(oe&&s&&typeof oe.stack=="string"){for(var d=oe.stack.split(`
`),g=s.stack.split(`
`),A=d.length-1,F=g.length-1;1<=A&&0<=F&&d[A]!==g[F];)F--;for(;1<=A&&0<=F;A--,F--)if(d[A]!==g[F]){if(A!==1||F!==1)do if(A--,F--,0>F||d[A]!==g[F]){var q=`
`+d[A].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=A&&0<=F);break}}}finally{le=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function se(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function _e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case W:return"Portal";case ne:return"Profiler";case ie:return"StrictMode";case X:return"Suspense";case E:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ge:return(e.displayName||"Context")+".Consumer";case he:return(e._context.displayName||"Context")+".Provider";case U:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ue:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case Ee:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}function Te(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(t);case 8:return t===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Me(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ve(e){var t=Me(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,g=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(A){s=""+A,g.call(this,A)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(A){s=""+A},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nt(e){e._valueTracker||(e._valueTracker=Ve(e))}function it(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Me(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function b(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ce(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ie(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function z(e,t){J(e,t);var n=Ie(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?V(e,t.type,n):t.hasOwnProperty("defaultValue")&&V(e,t.type,Ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function L(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function V(e,t,n){(t!=="number"||Ne(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ye=Array.isArray;function xe(e,t,n,s){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ie(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function re(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Se(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(ye(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ie(n)}}function Ae(e,t){var n=Ie(t.value),s=Ie(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ue(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xe,St=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,d){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hr=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(e){Hr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nt[t]=Nt[e]})});function ut(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nt.hasOwnProperty(e)&&Nt[e]?(""+t).trim():t+"px"}function Ge(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,d=ut(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,d):e[n]=d}}var cn=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pt(e,t){if(t){if(cn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Gr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hr=null;function Fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vt=null,mr=null,Ut=null;function Dr(e){if(e=hs(e)){if(typeof Vt!="function")throw Error(a(280));var t=e.stateNode;t&&(t=fi(t),Vt(e.stateNode,e.type,t))}}function Pe(e){mr?Ut?Ut.push(e):Ut=[e]:mr=e}function Bs(){if(mr){var e=mr,t=Ut;if(Ut=mr=null,Dr(e),t)for(e=0;e<t.length;e++)Dr(t[e])}}function $s(e,t){return e(t)}function Bt(){}var Un=!1;function la(e,t,n){if(Un)return e(t,n);Un=!0;try{return $s(e,t,n)}finally{Un=!1,(mr!==null||Ut!==null)&&(Bt(),Bs())}}function Vr(e,t){var n=e.stateNode;if(n===null)return null;var s=fi(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var kr=!1;if(y)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){kr=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{kr=!1}function Lt(e,t,n,s,d,g,A,F,q){var oe=Array.prototype.slice.call(arguments,3);try{t.apply(n,oe)}catch(be){this.onError(be)}}var hn=!1,Sr=null,Bn=!1,ua=null,da={onError:function(e){hn=!0,Sr=e}};function It(e,t,n,s,d,g,A,F,q){hn=!1,Sr=null,Lt.apply(da,arguments)}function Ws(e,t,n,s,d,g,A,F,q){if(It.apply(this,arguments),hn){if(hn){var oe=Sr;hn=!1,Sr=null}else throw Error(a(198));Bn||(Bn=!0,ua=oe)}}function Kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ca(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qs(e){if(Kr(e)!==e)throw Error(a(188))}function Va(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,s=t;;){var d=n.return;if(d===null)break;var g=d.alternate;if(g===null){if(s=d.return,s!==null){n=s;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===n)return qs(d),e;if(g===s)return qs(d),t;g=g.sibling}throw Error(a(188))}if(n.return!==s.return)n=d,s=g;else{for(var A=!1,F=d.child;F;){if(F===n){A=!0,n=d,s=g;break}if(F===s){A=!0,s=d,n=g;break}F=F.sibling}if(!A){for(F=g.child;F;){if(F===n){A=!0,n=g,s=d;break}if(F===s){A=!0,s=g,n=d;break}F=F.sibling}if(!A)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function Ka(e){return e=Va(e),e!==null?$n(e):null}function $n(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$n(e);if(t!==null)return t;e=e.sibling}return null}var Hs=i.unstable_scheduleCallback,ar=i.unstable_cancelCallback,fa=i.unstable_shouldYield,Qa=i.unstable_requestPaint,ht=i.unstable_now,Gs=i.unstable_getCurrentPriorityLevel,Qr=i.unstable_ImmediatePriority,Za=i.unstable_UserBlockingPriority,Zr=i.unstable_NormalPriority,Vs=i.unstable_LowPriority,Xr=i.unstable_IdlePriority,mn=null,sr=null;function Ks(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(mn,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:ot,vo=Math.log,Mr=Math.LN2;function ot(e){return e>>>=0,e===0?32:31-(vo(e)/Mr|0)|0}var pr=64,Yr=4194304;function Lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jr(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,d=e.suspendedLanes,g=e.pingedLanes,A=n&268435455;if(A!==0){var F=A&~d;F!==0?s=Lr(F):(g&=A,g!==0&&(s=Lr(g)))}else A=n&~d,A!==0?s=Lr(A):g!==0&&(s=Lr(g));if(s===0)return 0;if(t!==0&&t!==s&&(t&d)===0&&(d=s&-s,g=t&-t,d>=g||d===16&&(g&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Kt(t),d=1<<n,s|=e[n],t&=~d;return s}function Xa(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes;0<g;){var A=31-Kt(g),F=1<<A,q=d[A];q===-1?((F&n)===0||(F&s)!==0)&&(d[A]=Xa(F,t)):q<=t&&(e.expiredLanes|=F),g&=~F}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pn(){var e=pr;return pr<<=1,(pr&4194240)===0&&(pr=64),e}function ha(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=n}function Ja(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var d=31-Kt(n),g=1<<d;t[d]=0,s[d]=-1,e[d]=-1,n&=~g}}function ma(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Kt(n),d=1<<s;d&t|e[s]&t&&(e[s]|=t),n&=~d}}var tt=0;function pa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Qs,gn,qn,Rr,ga,ir=!1,or=[],Qt=null,Or=null,Re=null,en=new Map,zr=new Map,Nr=[],Zs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yn(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Re=null;break;case"pointerover":case"pointerout":en.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function Zt(e,t,n,s,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:g,targetContainers:[d]},t!==null&&(t=hs(t),t!==null&&gn(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Hn(e,t,n,s,d){switch(t){case"focusin":return Qt=Zt(Qt,e,t,n,s,d),!0;case"dragenter":return Or=Zt(Or,e,t,n,s,d),!0;case"mouseover":return Re=Zt(Re,e,t,n,s,d),!0;case"pointerover":var g=d.pointerId;return en.set(g,Zt(en.get(g)||null,e,t,n,s,d)),!0;case"gotpointercapture":return g=d.pointerId,zr.set(g,Zt(zr.get(g)||null,e,t,n,s,d)),!0}return!1}function ya(e){var t=Kn(e.target);if(t!==null){var n=Kr(t);if(n!==null){if(t=n.tag,t===13){if(t=ca(n),t!==null){e.blockedOn=t,ga(e.priority,function(){qn(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);hr=s,n.target.dispatchEvent(s),hr=null}else return t=hs(n),t!==null&&gn(t),e.blockedOn=n,!1;t.shift()}return!0}function m(e,t,n){l(e)&&n.delete(t)}function P(){ir=!1,Qt!==null&&l(Qt)&&(Qt=null),Or!==null&&l(Or)&&(Or=null),Re!==null&&l(Re)&&(Re=null),en.forEach(m),zr.forEach(m)}function M(e,t){e.blockedOn===t&&(e.blockedOn=null,ir||(ir=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,P)))}function $(e){function t(d){return M(d,e)}if(0<or.length){M(or[0],e);for(var n=1;n<or.length;n++){var s=or[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Qt!==null&&M(Qt,e),Or!==null&&M(Or,e),Re!==null&&M(Re,e),en.forEach(t),zr.forEach(t),n=0;n<Nr.length;n++)s=Nr[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)ya(n),n.blockedOn===null&&Nr.shift()}var ee=O.ReactCurrentBatchConfig,me=!0;function $e(e,t,n,s){var d=tt,g=ee.transition;ee.transition=null;try{tt=1,Ze(e,t,n,s)}finally{tt=d,ee.transition=g}}function Je(e,t,n,s){var d=tt,g=ee.transition;ee.transition=null;try{tt=4,Ze(e,t,n,s)}finally{tt=d,ee.transition=g}}function Ze(e,t,n,s){if(me){var d=jt(e,t,n,s);if(d===null)$o(e,t,s,lt,n),yn(e,s);else if(Hn(d,e,t,n,s))s.stopPropagation();else if(yn(e,s),t&4&&-1<Zs.indexOf(e)){for(;d!==null;){var g=hs(d);if(g!==null&&Qs(g),g=jt(e,t,n,s),g===null&&$o(e,t,s,lt,n),g===d)break;d=g}d!==null&&s.stopPropagation()}else $o(e,t,s,null,n)}}var lt=null;function jt(e,t,n,s){if(lt=null,e=Fn(s),e=Kn(e),e!==null)if(t=Kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ca(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lt=e,null}function es(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gs()){case Qr:return 1;case Za:return 4;case Zr:case Vs:return 16;case Xr:return 536870912;default:return 16}default:return 16}}var Fr=null,xa=null,va=null;function ts(){if(va)return va;var e,t=xa,n=t.length,s,d="value"in Fr?Fr.value:Fr.textContent,g=d.length;for(e=0;e<n&&t[e]===d[e];e++);var A=n-e;for(s=1;s<=A&&t[n-s]===d[g-s];s++);return va=d.slice(e,1<s?1-s:void 0)}function wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ba(){return!0}function Xs(){return!1}function $t(e){function t(n,s,d,g,A){this._reactName=n,this._targetInst=d,this.type=s,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var F in e)e.hasOwnProperty(F)&&(n=e[F],this[F]=n?n(g):g[F]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ba:Xs,this.isPropagationStopped=Xs,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),t}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=$t(xn),Gn=Q({},xn,{view:0,detail:0}),bo=$t(Gn),ka,ns,Vn,Sa=Q({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(ka=e.screenX-Vn.screenX,ns=e.screenY-Vn.screenY):ns=ka=0,Vn=e),ka)},movementY:function(e){return"movementY"in e?e.movementY:ns}}),Ys=$t(Sa),ko=Q({},Sa,{dataTransfer:0}),So=$t(ko),No=Q({},Gn,{relatedTarget:0}),Na=$t(No),jo=Q({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),_o=$t(jo),Co=Q({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eo=$t(Co),Po=Q({},xn,{data:0}),Js=$t(Po),ei={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ao[e])?!!t[e]:!1}function vn(){return To}var ti=Q({},Gn,{key:function(e){if(e.key){var t=ei[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Io[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ri=$t(ti),ni=Q({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y=$t(ni),ve=Q({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn}),ze=$t(ve),We=Q({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=$t(We),st=Q({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lr=$t(st),Xt=[9,13,27,32],At=y&&"CompositionEvent"in window,Tt=null;y&&"documentMode"in document&&(Tt=document.documentMode);var as=y&&"TextEvent"in window&&!Tt,Ur=y&&(!At||Tt&&8<Tt&&11>=Tt),ai=" ",ju=!1;function _u(e,t){switch(e){case"keyup":return Xt.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function rh(e,t){switch(e){case"compositionend":return Cu(t);case"keypress":return t.which!==32?null:(ju=!0,ai);case"textInput":return e=t.data,e===ai&&ju?null:e;default:return null}}function nh(e,t){if(ja)return e==="compositionend"||!At&&_u(e,t)?(e=ts(),va=xa=Fr=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ur&&t.locale!=="ko"?null:t.data;default:return null}}var ah={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ah[e.type]:t==="textarea"}function Pu(e,t,n,s){Pe(s),t=ui(t,"onChange"),0<t.length&&(n=new rs("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ss=null,is=null;function sh(e){Vu(e,0)}function si(e){var t=Ia(e);if(it(t))return e}function ih(e,t){if(e==="change")return t}var Iu=!1;if(y){var Do;if(y){var Mo="oninput"in document;if(!Mo){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Mo=typeof Au.oninput=="function"}Do=Mo}else Do=!1;Iu=Do&&(!document.documentMode||9<document.documentMode)}function Tu(){ss&&(ss.detachEvent("onpropertychange",Du),is=ss=null)}function Du(e){if(e.propertyName==="value"&&si(is)){var t=[];Pu(t,is,e,Fn(e)),la(sh,t)}}function oh(e,t,n){e==="focusin"?(Tu(),ss=t,is=n,ss.attachEvent("onpropertychange",Du)):e==="focusout"&&Tu()}function lh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(is)}function uh(e,t){if(e==="click")return si(t)}function dh(e,t){if(e==="input"||e==="change")return si(t)}function ch(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jr=typeof Object.is=="function"?Object.is:ch;function os(e,t){if(jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var d=n[s];if(!x.call(t,d)||!jr(e[d],t[d]))return!1}return!0}function Mu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,t){var n=Mu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mu(n)}}function Ru(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ru(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ou(){for(var e=window,t=Ne();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ne(e.document)}return t}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fh(e){var t=Ou(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ru(n.ownerDocument.documentElement,n)){if(s!==null&&Lo(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=n.textContent.length,g=Math.min(s.start,d);s=s.end===void 0?g:Math.min(s.end,d),!e.extend&&g>s&&(d=s,s=g,g=d),d=Lu(n,g);var A=Lu(n,s);d&&A&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==A.node||e.focusOffset!==A.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),g>s?(e.addRange(t),e.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hh=y&&"documentMode"in document&&11>=document.documentMode,_a=null,Ro=null,ls=null,Oo=!1;function zu(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oo||_a==null||_a!==Ne(s)||(s=_a,"selectionStart"in s&&Lo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ls&&os(ls,s)||(ls=s,s=ui(Ro,"onSelect"),0<s.length&&(t=new rs("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=_a)))}function ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ca={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},zo={},Fu={};y&&(Fu=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function oi(e){if(zo[e])return zo[e];if(!Ca[e])return e;var t=Ca[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fu)return zo[e]=t[n];return e}var Uu=oi("animationend"),Bu=oi("animationiteration"),$u=oi("animationstart"),Wu=oi("transitionend"),qu=new Map,Hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){qu.set(e,t),f(t,[e])}for(var Fo=0;Fo<Hu.length;Fo++){var Uo=Hu[Fo],mh=Uo.toLowerCase(),ph=Uo[0].toUpperCase()+Uo.slice(1);wn(mh,"on"+ph)}wn(Uu,"onAnimationEnd"),wn(Bu,"onAnimationIteration"),wn($u,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Wu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gh=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function Gu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Ws(s,t,void 0,e),e.currentTarget=null}function Vu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],d=s.event;s=s.listeners;e:{var g=void 0;if(t)for(var A=s.length-1;0<=A;A--){var F=s[A],q=F.instance,oe=F.currentTarget;if(F=F.listener,q!==g&&d.isPropagationStopped())break e;Gu(d,F,oe),g=q}else for(A=0;A<s.length;A++){if(F=s[A],q=F.instance,oe=F.currentTarget,F=F.listener,q!==g&&d.isPropagationStopped())break e;Gu(d,F,oe),g=q}}}if(Bn)throw e=ua,Bn=!1,ua=null,e}function ct(e,t){var n=t[Ko];n===void 0&&(n=t[Ko]=new Set);var s=e+"__bubble";n.has(s)||(Ku(t,e,2,!1),n.add(s))}function Bo(e,t,n){var s=0;t&&(s|=4),Ku(n,e,s,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function ds(e){if(!e[li]){e[li]=!0,u.forEach(function(n){n!=="selectionchange"&&(gh.has(n)||Bo(n,!1,e),Bo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,Bo("selectionchange",!1,t))}}function Ku(e,t,n,s){switch(es(t)){case 1:var d=$e;break;case 4:d=Je;break;default:d=Ze}n=d.bind(null,t,n,e),d=void 0,!kr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function $o(e,t,n,s,d){var g=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var A=s.tag;if(A===3||A===4){var F=s.stateNode.containerInfo;if(F===d||F.nodeType===8&&F.parentNode===d)break;if(A===4)for(A=s.return;A!==null;){var q=A.tag;if((q===3||q===4)&&(q=A.stateNode.containerInfo,q===d||q.nodeType===8&&q.parentNode===d))return;A=A.return}for(;F!==null;){if(A=Kn(F),A===null)return;if(q=A.tag,q===5||q===6){s=g=A;continue e}F=F.parentNode}}s=s.return}la(function(){var oe=g,be=Fn(n),ke=[];e:{var we=qu.get(e);if(we!==void 0){var De=rs,Oe=e;switch(e){case"keypress":if(wa(n)===0)break e;case"keydown":case"keyup":De=ri;break;case"focusin":Oe="focus",De=Na;break;case"focusout":Oe="blur",De=Na;break;case"beforeblur":case"afterblur":De=Na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=So;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=ze;break;case Uu:case Bu:case $u:De=_o;break;case Wu:De=Qe;break;case"scroll":De=bo;break;case"wheel":De=lr;break;case"copy":case"cut":case"paste":De=Eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Y}var Fe=(t&4)!==0,vt=!Fe&&e==="scroll",te=Fe?we!==null?we+"Capture":null:we;Fe=[];for(var G=oe,ae;G!==null;){ae=G;var Ce=ae.stateNode;if(ae.tag===5&&Ce!==null&&(ae=Ce,te!==null&&(Ce=Vr(G,te),Ce!=null&&Fe.push(cs(G,Ce,ae)))),vt)break;G=G.return}0<Fe.length&&(we=new De(we,Oe,null,n,be),ke.push({event:we,listeners:Fe}))}}if((t&7)===0){e:{if(we=e==="mouseover"||e==="pointerover",De=e==="mouseout"||e==="pointerout",we&&n!==hr&&(Oe=n.relatedTarget||n.fromElement)&&(Kn(Oe)||Oe[tn]))break e;if((De||we)&&(we=be.window===be?be:(we=be.ownerDocument)?we.defaultView||we.parentWindow:window,De?(Oe=n.relatedTarget||n.toElement,De=oe,Oe=Oe?Kn(Oe):null,Oe!==null&&(vt=Kr(Oe),Oe!==vt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(De=null,Oe=oe),De!==Oe)){if(Fe=Ys,Ce="onMouseLeave",te="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=Y,Ce="onPointerLeave",te="onPointerEnter",G="pointer"),vt=De==null?we:Ia(De),ae=Oe==null?we:Ia(Oe),we=new Fe(Ce,G+"leave",De,n,be),we.target=vt,we.relatedTarget=ae,Ce=null,Kn(be)===oe&&(Fe=new Fe(te,G+"enter",Oe,n,be),Fe.target=ae,Fe.relatedTarget=vt,Ce=Fe),vt=Ce,De&&Oe)t:{for(Fe=De,te=Oe,G=0,ae=Fe;ae;ae=Ea(ae))G++;for(ae=0,Ce=te;Ce;Ce=Ea(Ce))ae++;for(;0<G-ae;)Fe=Ea(Fe),G--;for(;0<ae-G;)te=Ea(te),ae--;for(;G--;){if(Fe===te||te!==null&&Fe===te.alternate)break t;Fe=Ea(Fe),te=Ea(te)}Fe=null}else Fe=null;De!==null&&Qu(ke,we,De,Fe,!1),Oe!==null&&vt!==null&&Qu(ke,vt,Oe,Fe,!0)}}e:{if(we=oe?Ia(oe):window,De=we.nodeName&&we.nodeName.toLowerCase(),De==="select"||De==="input"&&we.type==="file")var Be=ih;else if(Eu(we))if(Iu)Be=dh;else{Be=lh;var qe=oh}else(De=we.nodeName)&&De.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Be=uh);if(Be&&(Be=Be(e,oe))){Pu(ke,Be,n,be);break e}qe&&qe(e,we,oe),e==="focusout"&&(qe=we._wrapperState)&&qe.controlled&&we.type==="number"&&V(we,"number",we.value)}switch(qe=oe?Ia(oe):window,e){case"focusin":(Eu(qe)||qe.contentEditable==="true")&&(_a=qe,Ro=oe,ls=null);break;case"focusout":ls=Ro=_a=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,zu(ke,n,be);break;case"selectionchange":if(hh)break;case"keydown":case"keyup":zu(ke,n,be)}var He;if(At)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else ja?_u(e,n)&&(Ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ke="onCompositionStart");Ke&&(Ur&&n.locale!=="ko"&&(ja||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&ja&&(He=ts()):(Fr=be,xa="value"in Fr?Fr.value:Fr.textContent,ja=!0)),qe=ui(oe,Ke),0<qe.length&&(Ke=new Js(Ke,e,null,n,be),ke.push({event:Ke,listeners:qe}),He?Ke.data=He:(He=Cu(n),He!==null&&(Ke.data=He)))),(He=as?rh(e,n):nh(e,n))&&(oe=ui(oe,"onBeforeInput"),0<oe.length&&(be=new Js("onBeforeInput","beforeinput",null,n,be),ke.push({event:be,listeners:oe}),be.data=He))}Vu(ke,t)})}function cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ui(e,t){for(var n=t+"Capture",s=[];e!==null;){var d=e,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Vr(e,n),g!=null&&s.unshift(cs(e,g,d)),g=Vr(e,t),g!=null&&s.push(cs(e,g,d))),e=e.return}return s}function Ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qu(e,t,n,s,d){for(var g=t._reactName,A=[];n!==null&&n!==s;){var F=n,q=F.alternate,oe=F.stateNode;if(q!==null&&q===s)break;F.tag===5&&oe!==null&&(F=oe,d?(q=Vr(n,g),q!=null&&A.unshift(cs(n,q,F))):d||(q=Vr(n,g),q!=null&&A.push(cs(n,q,F)))),n=n.return}A.length!==0&&e.push({event:t,listeners:A})}var yh=/\r\n?/g,xh=/\u0000|\uFFFD/g;function Zu(e){return(typeof e=="string"?e:""+e).replace(yh,`
`).replace(xh,"")}function di(e,t,n){if(t=Zu(t),Zu(e)!==t&&n)throw Error(a(425))}function ci(){}var Wo=null,qo=null;function Ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Go=typeof setTimeout=="function"?setTimeout:void 0,vh=typeof clearTimeout=="function"?clearTimeout:void 0,Xu=typeof Promise=="function"?Promise:void 0,wh=typeof queueMicrotask=="function"?queueMicrotask:typeof Xu<"u"?function(e){return Xu.resolve(null).then(e).catch(bh)}:Go;function bh(e){setTimeout(function(){throw e})}function Vo(e,t){var n=t,s=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(s===0){e.removeChild(d),$(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=d}while(n);$(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Br="__reactFiber$"+Pa,fs="__reactProps$"+Pa,tn="__reactContainer$"+Pa,Ko="__reactEvents$"+Pa,kh="__reactListeners$"+Pa,Sh="__reactHandles$"+Pa;function Kn(e){var t=e[Br];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Br]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yu(e);e!==null;){if(n=e[Br])return n;e=Yu(e)}return t}e=n,n=e.parentNode}return null}function hs(e){return e=e[Br]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ia(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function fi(e){return e[fs]||null}var Qo=[],Aa=-1;function kn(e){return{current:e}}function ft(e){0>Aa||(e.current=Qo[Aa],Qo[Aa]=null,Aa--)}function dt(e,t){Aa++,Qo[Aa]=e.current,e.current=t}var Sn={},Rt=kn(Sn),Yt=kn(!1),Qn=Sn;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Sn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in n)d[g]=t[g];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(e){return e=e.childContextTypes,e!=null}function hi(){ft(Yt),ft(Rt)}function Ju(e,t,n){if(Rt.current!==Sn)throw Error(a(168));dt(Rt,t),dt(Yt,n)}function ed(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var d in s)if(!(d in t))throw Error(a(108,Te(e)||"Unknown",d));return Q({},n,s)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Qn=Rt.current,dt(Rt,e),dt(Yt,Yt.current),!0}function td(e,t,n){var s=e.stateNode;if(!s)throw Error(a(169));n?(e=ed(e,t,Qn),s.__reactInternalMemoizedMergedChildContext=e,ft(Yt),ft(Rt),dt(Rt,e)):ft(Yt),dt(Yt,n)}var rn=null,pi=!1,Zo=!1;function rd(e){rn===null?rn=[e]:rn.push(e)}function Nh(e){pi=!0,rd(e)}function Nn(){if(!Zo&&rn!==null){Zo=!0;var e=0,t=tt;try{var n=rn;for(tt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}rn=null,pi=!1}catch(d){throw rn!==null&&(rn=rn.slice(e+1)),Hs(Qr,Nn),d}finally{tt=t,Zo=!1}}return null}var Da=[],Ma=0,gi=null,yi=0,gr=[],yr=0,Zn=null,nn=1,an="";function Xn(e,t){Da[Ma++]=yi,Da[Ma++]=gi,gi=e,yi=t}function nd(e,t,n){gr[yr++]=nn,gr[yr++]=an,gr[yr++]=Zn,Zn=e;var s=nn;e=an;var d=32-Kt(s)-1;s&=~(1<<d),n+=1;var g=32-Kt(t)+d;if(30<g){var A=d-d%5;g=(s&(1<<A)-1).toString(32),s>>=A,d-=A,nn=1<<32-Kt(t)+d|n<<d|s,an=g+e}else nn=1<<g|n<<d|s,an=e}function Xo(e){e.return!==null&&(Xn(e,1),nd(e,1,0))}function Yo(e){for(;e===gi;)gi=Da[--Ma],Da[Ma]=null,yi=Da[--Ma],Da[Ma]=null;for(;e===Zn;)Zn=gr[--yr],gr[yr]=null,an=gr[--yr],gr[yr]=null,nn=gr[--yr],gr[yr]=null}var ur=null,dr=null,mt=!1,_r=null;function ad(e,t){var n=br(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,dr=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:nn,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=br(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ur=e,dr=null,!0):!1;default:return!1}}function Jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function el(e){if(mt){var t=dr;if(t){var n=t;if(!sd(e,t)){if(Jo(e))throw Error(a(418));t=bn(n.nextSibling);var s=ur;t&&sd(e,t)?ad(s,n):(e.flags=e.flags&-4097|2,mt=!1,ur=e)}}else{if(Jo(e))throw Error(a(418));e.flags=e.flags&-4097|2,mt=!1,ur=e}}}function id(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function xi(e){if(e!==ur)return!1;if(!mt)return id(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ho(e.type,e.memoizedProps)),t&&(t=dr)){if(Jo(e))throw od(),Error(a(418));for(;t;)ad(e,t),t=bn(t.nextSibling)}if(id(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dr=bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=ur?bn(e.stateNode.nextSibling):null;return!0}function od(){for(var e=dr;e;)e=bn(e.nextSibling)}function La(){dr=ur=null,mt=!1}function tl(e){_r===null?_r=[e]:_r.push(e)}var jh=O.ReactCurrentBatchConfig;function ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var s=n.stateNode}if(!s)throw Error(a(147,e));var d=s,g=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===g?t.ref:(t=function(A){var F=d.refs;A===null?delete F[g]:F[g]=A},t._stringRef=g,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ld(e){var t=e._init;return t(e._payload)}function ud(e){function t(te,G){if(e){var ae=te.deletions;ae===null?(te.deletions=[G],te.flags|=16):ae.push(G)}}function n(te,G){if(!e)return null;for(;G!==null;)t(te,G),G=G.sibling;return null}function s(te,G){for(te=new Map;G!==null;)G.key!==null?te.set(G.key,G):te.set(G.index,G),G=G.sibling;return te}function d(te,G){return te=Tn(te,G),te.index=0,te.sibling=null,te}function g(te,G,ae){return te.index=ae,e?(ae=te.alternate,ae!==null?(ae=ae.index,ae<G?(te.flags|=2,G):ae):(te.flags|=2,G)):(te.flags|=1048576,G)}function A(te){return e&&te.alternate===null&&(te.flags|=2),te}function F(te,G,ae,Ce){return G===null||G.tag!==6?(G=Gl(ae,te.mode,Ce),G.return=te,G):(G=d(G,ae),G.return=te,G)}function q(te,G,ae,Ce){var Be=ae.type;return Be===H?be(te,G,ae.props.children,Ce,ae.key):G!==null&&(G.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Ee&&ld(Be)===G.type)?(Ce=d(G,ae.props),Ce.ref=ms(te,G,ae),Ce.return=te,Ce):(Ce=Wi(ae.type,ae.key,ae.props,null,te.mode,Ce),Ce.ref=ms(te,G,ae),Ce.return=te,Ce)}function oe(te,G,ae,Ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==ae.containerInfo||G.stateNode.implementation!==ae.implementation?(G=Vl(ae,te.mode,Ce),G.return=te,G):(G=d(G,ae.children||[]),G.return=te,G)}function be(te,G,ae,Ce,Be){return G===null||G.tag!==7?(G=sa(ae,te.mode,Ce,Be),G.return=te,G):(G=d(G,ae),G.return=te,G)}function ke(te,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Gl(""+G,te.mode,ae),G.return=te,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case B:return ae=Wi(G.type,G.key,G.props,null,te.mode,ae),ae.ref=ms(te,null,G),ae.return=te,ae;case W:return G=Vl(G,te.mode,ae),G.return=te,G;case Ee:var Ce=G._init;return ke(te,Ce(G._payload),ae)}if(ye(G)||Z(G))return G=sa(G,te.mode,ae,null),G.return=te,G;vi(te,G)}return null}function we(te,G,ae,Ce){var Be=G!==null?G.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Be!==null?null:F(te,G,""+ae,Ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case B:return ae.key===Be?q(te,G,ae,Ce):null;case W:return ae.key===Be?oe(te,G,ae,Ce):null;case Ee:return Be=ae._init,we(te,G,Be(ae._payload),Ce)}if(ye(ae)||Z(ae))return Be!==null?null:be(te,G,ae,Ce,null);vi(te,ae)}return null}function De(te,G,ae,Ce,Be){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return te=te.get(ae)||null,F(G,te,""+Ce,Be);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case B:return te=te.get(Ce.key===null?ae:Ce.key)||null,q(G,te,Ce,Be);case W:return te=te.get(Ce.key===null?ae:Ce.key)||null,oe(G,te,Ce,Be);case Ee:var qe=Ce._init;return De(te,G,ae,qe(Ce._payload),Be)}if(ye(Ce)||Z(Ce))return te=te.get(ae)||null,be(G,te,Ce,Be,null);vi(G,Ce)}return null}function Oe(te,G,ae,Ce){for(var Be=null,qe=null,He=G,Ke=G=0,Et=null;He!==null&&Ke<ae.length;Ke++){He.index>Ke?(Et=He,He=null):Et=He.sibling;var at=we(te,He,ae[Ke],Ce);if(at===null){He===null&&(He=Et);break}e&&He&&at.alternate===null&&t(te,He),G=g(at,G,Ke),qe===null?Be=at:qe.sibling=at,qe=at,He=Et}if(Ke===ae.length)return n(te,He),mt&&Xn(te,Ke),Be;if(He===null){for(;Ke<ae.length;Ke++)He=ke(te,ae[Ke],Ce),He!==null&&(G=g(He,G,Ke),qe===null?Be=He:qe.sibling=He,qe=He);return mt&&Xn(te,Ke),Be}for(He=s(te,He);Ke<ae.length;Ke++)Et=De(He,te,Ke,ae[Ke],Ce),Et!==null&&(e&&Et.alternate!==null&&He.delete(Et.key===null?Ke:Et.key),G=g(Et,G,Ke),qe===null?Be=Et:qe.sibling=Et,qe=Et);return e&&He.forEach(function(Dn){return t(te,Dn)}),mt&&Xn(te,Ke),Be}function Fe(te,G,ae,Ce){var Be=Z(ae);if(typeof Be!="function")throw Error(a(150));if(ae=Be.call(ae),ae==null)throw Error(a(151));for(var qe=Be=null,He=G,Ke=G=0,Et=null,at=ae.next();He!==null&&!at.done;Ke++,at=ae.next()){He.index>Ke?(Et=He,He=null):Et=He.sibling;var Dn=we(te,He,at.value,Ce);if(Dn===null){He===null&&(He=Et);break}e&&He&&Dn.alternate===null&&t(te,He),G=g(Dn,G,Ke),qe===null?Be=Dn:qe.sibling=Dn,qe=Dn,He=Et}if(at.done)return n(te,He),mt&&Xn(te,Ke),Be;if(He===null){for(;!at.done;Ke++,at=ae.next())at=ke(te,at.value,Ce),at!==null&&(G=g(at,G,Ke),qe===null?Be=at:qe.sibling=at,qe=at);return mt&&Xn(te,Ke),Be}for(He=s(te,He);!at.done;Ke++,at=ae.next())at=De(He,te,Ke,at.value,Ce),at!==null&&(e&&at.alternate!==null&&He.delete(at.key===null?Ke:at.key),G=g(at,G,Ke),qe===null?Be=at:qe.sibling=at,qe=at);return e&&He.forEach(function(am){return t(te,am)}),mt&&Xn(te,Ke),Be}function vt(te,G,ae,Ce){if(typeof ae=="object"&&ae!==null&&ae.type===H&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case B:e:{for(var Be=ae.key,qe=G;qe!==null;){if(qe.key===Be){if(Be=ae.type,Be===H){if(qe.tag===7){n(te,qe.sibling),G=d(qe,ae.props.children),G.return=te,te=G;break e}}else if(qe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Ee&&ld(Be)===qe.type){n(te,qe.sibling),G=d(qe,ae.props),G.ref=ms(te,qe,ae),G.return=te,te=G;break e}n(te,qe);break}else t(te,qe);qe=qe.sibling}ae.type===H?(G=sa(ae.props.children,te.mode,Ce,ae.key),G.return=te,te=G):(Ce=Wi(ae.type,ae.key,ae.props,null,te.mode,Ce),Ce.ref=ms(te,G,ae),Ce.return=te,te=Ce)}return A(te);case W:e:{for(qe=ae.key;G!==null;){if(G.key===qe)if(G.tag===4&&G.stateNode.containerInfo===ae.containerInfo&&G.stateNode.implementation===ae.implementation){n(te,G.sibling),G=d(G,ae.children||[]),G.return=te,te=G;break e}else{n(te,G);break}else t(te,G);G=G.sibling}G=Vl(ae,te.mode,Ce),G.return=te,te=G}return A(te);case Ee:return qe=ae._init,vt(te,G,qe(ae._payload),Ce)}if(ye(ae))return Oe(te,G,ae,Ce);if(Z(ae))return Fe(te,G,ae,Ce);vi(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,G!==null&&G.tag===6?(n(te,G.sibling),G=d(G,ae),G.return=te,te=G):(n(te,G),G=Gl(ae,te.mode,Ce),G.return=te,te=G),A(te)):n(te,G)}return vt}var Ra=ud(!0),dd=ud(!1),wi=kn(null),bi=null,Oa=null,rl=null;function nl(){rl=Oa=bi=null}function al(e){var t=wi.current;ft(wi),e._currentValue=t}function sl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function za(e,t){bi=e,rl=Oa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(er=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(rl!==e)if(e={context:e,memoizedValue:t,next:null},Oa===null){if(bi===null)throw Error(a(308));Oa=e,bi.dependencies={lanes:0,firstContext:e}}else Oa=Oa.next=e;return t}var Yn=null;function il(e){Yn===null?Yn=[e]:Yn.push(e)}function cd(e,t,n,s){var d=t.interleaved;return d===null?(n.next=n,il(t)):(n.next=d.next,d.next=n),t.interleaved=n,sn(e,s)}function sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function ol(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(rt&2)!==0){var d=s.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),s.pending=t,sn(e,n)}return d=s.interleaved,d===null?(t.next=t,il(s)):(t.next=d.next,d.next=t),s.interleaved=t,sn(e,n)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ma(e,n)}}function hd(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var d=null,g=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};g===null?d=g=A:g=g.next=A,n=n.next}while(n!==null);g===null?d=g=t:g=g.next=t}else d=g=t;n={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Si(e,t,n,s){var d=e.updateQueue;jn=!1;var g=d.firstBaseUpdate,A=d.lastBaseUpdate,F=d.shared.pending;if(F!==null){d.shared.pending=null;var q=F,oe=q.next;q.next=null,A===null?g=oe:A.next=oe,A=q;var be=e.alternate;be!==null&&(be=be.updateQueue,F=be.lastBaseUpdate,F!==A&&(F===null?be.firstBaseUpdate=oe:F.next=oe,be.lastBaseUpdate=q))}if(g!==null){var ke=d.baseState;A=0,be=oe=q=null,F=g;do{var we=F.lane,De=F.eventTime;if((s&we)===we){be!==null&&(be=be.next={eventTime:De,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Oe=e,Fe=F;switch(we=t,De=n,Fe.tag){case 1:if(Oe=Fe.payload,typeof Oe=="function"){ke=Oe.call(De,ke,we);break e}ke=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Fe.payload,we=typeof Oe=="function"?Oe.call(De,ke,we):Oe,we==null)break e;ke=Q({},ke,we);break e;case 2:jn=!0}}F.callback!==null&&F.lane!==0&&(e.flags|=64,we=d.effects,we===null?d.effects=[F]:we.push(F))}else De={eventTime:De,lane:we,tag:F.tag,payload:F.payload,callback:F.callback,next:null},be===null?(oe=be=De,q=ke):be=be.next=De,A|=we;if(F=F.next,F===null){if(F=d.shared.pending,F===null)break;we=F,F=we.next,we.next=null,d.lastBaseUpdate=we,d.shared.pending=null}}while(!0);if(be===null&&(q=ke),d.baseState=q,d.firstBaseUpdate=oe,d.lastBaseUpdate=be,t=d.shared.interleaved,t!==null){d=t;do A|=d.lane,d=d.next;while(d!==t)}else g===null&&(d.shared.lanes=0);ta|=A,e.lanes=A,e.memoizedState=ke}}function md(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],d=s.callback;if(d!==null){if(s.callback=null,s=n,typeof d!="function")throw Error(a(191,d));d.call(s)}}}var ps={},$r=kn(ps),gs=kn(ps),ys=kn(ps);function Jn(e){if(e===ps)throw Error(a(174));return e}function ll(e,t){switch(dt(ys,t),dt(gs,e),dt($r,ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ye(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ye(t,e)}ft($r),dt($r,t)}function Fa(){ft($r),ft(gs),ft(ys)}function pd(e){Jn(ys.current);var t=Jn($r.current),n=Ye(t,e.type);t!==n&&(dt(gs,e),dt($r,n))}function ul(e){gs.current===e&&(ft($r),ft(gs))}var pt=kn(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function cl(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var ji=O.ReactCurrentDispatcher,fl=O.ReactCurrentBatchConfig,ea=0,gt=null,bt=null,_t=null,_i=!1,xs=!1,vs=0,_h=0;function Ot(){throw Error(a(321))}function hl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function ml(e,t,n,s,d,g){if(ea=g,gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?Ih:Ah,e=n(s,d),xs){g=0;do{if(xs=!1,vs=0,25<=g)throw Error(a(301));g+=1,_t=bt=null,t.updateQueue=null,ji.current=Th,e=n(s,d)}while(xs)}if(ji.current=Pi,t=bt!==null&&bt.next!==null,ea=0,_t=bt=gt=null,_i=!1,t)throw Error(a(300));return e}function pl(){var e=vs!==0;return vs=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?gt.memoizedState=_t=e:_t=_t.next=e,_t}function vr(){if(bt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=_t===null?gt.memoizedState:_t.next;if(t!==null)_t=t,bt=e;else{if(e===null)throw Error(a(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},_t===null?gt.memoizedState=_t=e:_t=_t.next=e}return _t}function ws(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=vr(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var s=bt,d=s.baseQueue,g=n.pending;if(g!==null){if(d!==null){var A=d.next;d.next=g.next,g.next=A}s.baseQueue=d=g,n.pending=null}if(d!==null){g=d.next,s=s.baseState;var F=A=null,q=null,oe=g;do{var be=oe.lane;if((ea&be)===be)q!==null&&(q=q.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),s=oe.hasEagerState?oe.eagerState:e(s,oe.action);else{var ke={lane:be,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};q===null?(F=q=ke,A=s):q=q.next=ke,gt.lanes|=be,ta|=be}oe=oe.next}while(oe!==null&&oe!==g);q===null?A=s:q.next=F,jr(s,t.memoizedState)||(er=!0),t.memoizedState=s,t.baseState=A,t.baseQueue=q,n.lastRenderedState=s}if(e=n.interleaved,e!==null){d=e;do g=d.lane,gt.lanes|=g,ta|=g,d=d.next;while(d!==e)}else d===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yl(e){var t=vr(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,d=n.pending,g=t.memoizedState;if(d!==null){n.pending=null;var A=d=d.next;do g=e(g,A.action),A=A.next;while(A!==d);jr(g,t.memoizedState)||(er=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),n.lastRenderedState=g}return[g,s]}function gd(){}function yd(e,t){var n=gt,s=vr(),d=t(),g=!jr(s.memoizedState,d);if(g&&(s.memoizedState=d,er=!0),s=s.queue,xl(wd.bind(null,n,s,e),[e]),s.getSnapshot!==t||g||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,bs(9,vd.bind(null,n,s,d,t),void 0,null),Ct===null)throw Error(a(349));(ea&30)!==0||xd(n,t,d)}return d}function xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vd(e,t,n,s){t.value=n,t.getSnapshot=s,bd(t)&&kd(e)}function wd(e,t,n){return n(function(){bd(t)&&kd(e)})}function bd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jr(e,n)}catch{return!0}}function kd(e){var t=sn(e,1);t!==null&&Ir(t,e,1,-1)}function Sd(e){var t=Wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ph.bind(null,gt,e),[t.memoizedState,e]}function bs(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Nd(){return vr().memoizedState}function Ci(e,t,n,s){var d=Wr();gt.flags|=e,d.memoizedState=bs(1|t,n,void 0,s===void 0?null:s)}function Ei(e,t,n,s){var d=vr();s=s===void 0?null:s;var g=void 0;if(bt!==null){var A=bt.memoizedState;if(g=A.destroy,s!==null&&hl(s,A.deps)){d.memoizedState=bs(t,n,g,s);return}}gt.flags|=e,d.memoizedState=bs(1|t,n,g,s)}function jd(e,t){return Ci(8390656,8,e,t)}function xl(e,t){return Ei(2048,8,e,t)}function _d(e,t){return Ei(4,2,e,t)}function Cd(e,t){return Ei(4,4,e,t)}function Ed(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pd(e,t,n){return n=n!=null?n.concat([e]):null,Ei(4,4,Ed.bind(null,t,e),n)}function vl(){}function Id(e,t){var n=vr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&hl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ad(e,t){var n=vr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&hl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Td(e,t,n){return(ea&21)===0?(e.baseState&&(e.baseState=!1,er=!0),e.memoizedState=n):(jr(n,t)||(n=pn(),gt.lanes|=n,ta|=n,e.baseState=!0),t)}function Ch(e,t){var n=tt;tt=n!==0&&4>n?n:4,e(!0);var s=fl.transition;fl.transition={};try{e(!1),t()}finally{tt=n,fl.transition=s}}function Dd(){return vr().memoizedState}function Eh(e,t,n){var s=In(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Md(e))Ld(t,n);else if(n=cd(e,t,n,s),n!==null){var d=qt();Ir(n,e,s,d),Rd(n,t,s)}}function Ph(e,t,n){var s=In(e),d={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Md(e))Ld(t,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var A=t.lastRenderedState,F=g(A,n);if(d.hasEagerState=!0,d.eagerState=F,jr(F,A)){var q=t.interleaved;q===null?(d.next=d,il(t)):(d.next=q.next,q.next=d),t.interleaved=d;return}}catch{}finally{}n=cd(e,t,d,s),n!==null&&(d=qt(),Ir(n,e,s,d),Rd(n,t,s))}}function Md(e){var t=e.alternate;return e===gt||t!==null&&t===gt}function Ld(e,t){xs=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rd(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,ma(e,n)}}var Pi={readContext:xr,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},Ih={readContext:xr,useCallback:function(e,t){return Wr().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:jd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4194308,4,Ed.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ci(4,2,e,t)},useMemo:function(e,t){var n=Wr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Wr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Eh.bind(null,gt,e),[s.memoizedState,e]},useRef:function(e){var t=Wr();return e={current:e},t.memoizedState=e},useState:Sd,useDebugValue:vl,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=Sd(!1),t=e[0];return e=Ch.bind(null,e[1]),Wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=gt,d=Wr();if(mt){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),Ct===null)throw Error(a(349));(ea&30)!==0||xd(s,t,n)}d.memoizedState=n;var g={value:n,getSnapshot:t};return d.queue=g,jd(wd.bind(null,s,g,e),[e]),s.flags|=2048,bs(9,vd.bind(null,s,g,n,t),void 0,null),n},useId:function(){var e=Wr(),t=Ct.identifierPrefix;if(mt){var n=an,s=nn;n=(s&~(1<<32-Kt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=vs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_h++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ah={readContext:xr,useCallback:Id,useContext:xr,useEffect:xl,useImperativeHandle:Pd,useInsertionEffect:_d,useLayoutEffect:Cd,useMemo:Ad,useReducer:gl,useRef:Nd,useState:function(){return gl(ws)},useDebugValue:vl,useDeferredValue:function(e){var t=vr();return Td(t,bt.memoizedState,e)},useTransition:function(){var e=gl(ws)[0],t=vr().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:yd,useId:Dd,unstable_isNewReconciler:!1},Th={readContext:xr,useCallback:Id,useContext:xr,useEffect:xl,useImperativeHandle:Pd,useInsertionEffect:_d,useLayoutEffect:Cd,useMemo:Ad,useReducer:yl,useRef:Nd,useState:function(){return yl(ws)},useDebugValue:vl,useDeferredValue:function(e){var t=vr();return bt===null?t.memoizedState=e:Td(t,bt.memoizedState,e)},useTransition:function(){var e=yl(ws)[0],t=vr().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:yd,useId:Dd,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ii={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=qt(),d=In(e),g=on(s,d);g.payload=t,n!=null&&(g.callback=n),t=_n(e,g,d),t!==null&&(Ir(t,e,d,s),ki(t,e,d))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=qt(),d=In(e),g=on(s,d);g.tag=1,g.payload=t,n!=null&&(g.callback=n),t=_n(e,g,d),t!==null&&(Ir(t,e,d,s),ki(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),s=In(e),d=on(n,s);d.tag=2,t!=null&&(d.callback=t),t=_n(e,d,s),t!==null&&(Ir(t,e,s,n),ki(t,e,s))}};function Od(e,t,n,s,d,g,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,g,A):t.prototype&&t.prototype.isPureReactComponent?!os(n,s)||!os(d,g):!0}function zd(e,t,n){var s=!1,d=Sn,g=t.contextType;return typeof g=="object"&&g!==null?g=xr(g):(d=Jt(t)?Qn:Rt.current,s=t.contextTypes,g=(s=s!=null)?Ta(e,d):Sn),t=new t(n,g),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ii,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=g),t}function Fd(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function bl(e,t,n,s){var d=e.stateNode;d.props=n,d.state=e.memoizedState,d.refs={},ol(e);var g=t.contextType;typeof g=="object"&&g!==null?d.context=xr(g):(g=Jt(t)?Qn:Rt.current,d.context=Ta(e,g)),d.state=e.memoizedState,g=t.getDerivedStateFromProps,typeof g=="function"&&(wl(e,t,g,n),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Ii.enqueueReplaceState(d,d.state,null),Si(e,n,d,s),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Ua(e,t){try{var n="",s=t;do n+=se(s),s=s.return;while(s);var d=n}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:t,stack:d,digest:null}}function kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dh=typeof WeakMap=="function"?WeakMap:Map;function Ud(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Oi||(Oi=!0,zl=s),Sl(e,t)},n}function Bd(e,t,n){n=on(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var d=t.value;n.payload=function(){return s(d)},n.callback=function(){Sl(e,t)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(n.callback=function(){Sl(e,t),typeof s!="function"&&(En===null?En=new Set([this]):En.add(this));var A=t.stack;this.componentDidCatch(t.value,{componentStack:A!==null?A:""})}),n}function $d(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Dh;var d=new Set;s.set(t,d)}else d=s.get(t),d===void 0&&(d=new Set,s.set(t,d));d.has(n)||(d.add(n),e=Vh.bind(null,e,t,n),t.then(e,e))}function Wd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,n,s,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=on(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Mh=O.ReactCurrentOwner,er=!1;function Wt(e,t,n,s){t.child=e===null?dd(t,null,n,s):Ra(t,e.child,n,s)}function Hd(e,t,n,s,d){n=n.render;var g=t.ref;return za(t,d),s=ml(e,t,n,s,g,d),n=pl(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,ln(e,t,d)):(mt&&n&&Xo(t),t.flags|=1,Wt(e,t,s,d),t.child)}function Gd(e,t,n,s,d){if(e===null){var g=n.type;return typeof g=="function"&&!Hl(g)&&g.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=g,Vd(e,t,g,s,d)):(e=Wi(n.type,null,s,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,(e.lanes&d)===0){var A=g.memoizedProps;if(n=n.compare,n=n!==null?n:os,n(A,s)&&e.ref===t.ref)return ln(e,t,d)}return t.flags|=1,e=Tn(g,s),e.ref=t.ref,e.return=t,t.child=e}function Vd(e,t,n,s,d){if(e!==null){var g=e.memoizedProps;if(os(g,s)&&e.ref===t.ref)if(er=!1,t.pendingProps=s=g,(e.lanes&d)!==0)(e.flags&131072)!==0&&(er=!0);else return t.lanes=e.lanes,ln(e,t,d)}return Nl(e,t,n,s,d)}function Kd(e,t,n){var s=t.pendingProps,d=s.children,g=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt($a,cr),cr|=n;else{if((n&1073741824)===0)return e=g!==null?g.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt($a,cr),cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=g!==null?g.baseLanes:n,dt($a,cr),cr|=s}else g!==null?(s=g.baseLanes|n,t.memoizedState=null):s=n,dt($a,cr),cr|=s;return Wt(e,t,d,n),t.child}function Qd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,s,d){var g=Jt(n)?Qn:Rt.current;return g=Ta(t,g),za(t,d),n=ml(e,t,n,s,g,d),s=pl(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,ln(e,t,d)):(mt&&s&&Xo(t),t.flags|=1,Wt(e,t,n,d),t.child)}function Zd(e,t,n,s,d){if(Jt(n)){var g=!0;mi(t)}else g=!1;if(za(t,d),t.stateNode===null)Ti(e,t),zd(t,n,s),bl(t,n,s,d),s=!0;else if(e===null){var A=t.stateNode,F=t.memoizedProps;A.props=F;var q=A.context,oe=n.contextType;typeof oe=="object"&&oe!==null?oe=xr(oe):(oe=Jt(n)?Qn:Rt.current,oe=Ta(t,oe));var be=n.getDerivedStateFromProps,ke=typeof be=="function"||typeof A.getSnapshotBeforeUpdate=="function";ke||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==s||q!==oe)&&Fd(t,A,s,oe),jn=!1;var we=t.memoizedState;A.state=we,Si(t,s,A,d),q=t.memoizedState,F!==s||we!==q||Yt.current||jn?(typeof be=="function"&&(wl(t,n,be,s),q=t.memoizedState),(F=jn||Od(t,n,F,s,we,q,oe))?(ke||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(t.flags|=4194308)):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=q),A.props=s,A.state=q,A.context=oe,s=F):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{A=t.stateNode,fd(e,t),F=t.memoizedProps,oe=t.type===t.elementType?F:Cr(t.type,F),A.props=oe,ke=t.pendingProps,we=A.context,q=n.contextType,typeof q=="object"&&q!==null?q=xr(q):(q=Jt(n)?Qn:Rt.current,q=Ta(t,q));var De=n.getDerivedStateFromProps;(be=typeof De=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==ke||we!==q)&&Fd(t,A,s,q),jn=!1,we=t.memoizedState,A.state=we,Si(t,s,A,d);var Oe=t.memoizedState;F!==ke||we!==Oe||Yt.current||jn?(typeof De=="function"&&(wl(t,n,De,s),Oe=t.memoizedState),(oe=jn||Od(t,n,oe,s,we,Oe,q)||!1)?(be||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(s,Oe,q),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(s,Oe,q)),typeof A.componentDidUpdate=="function"&&(t.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===e.memoizedProps&&we===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===e.memoizedProps&&we===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Oe),A.props=s,A.state=Oe,A.context=q,s=oe):(typeof A.componentDidUpdate!="function"||F===e.memoizedProps&&we===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===e.memoizedProps&&we===e.memoizedState||(t.flags|=1024),s=!1)}return jl(e,t,n,s,g,d)}function jl(e,t,n,s,d,g){Qd(e,t);var A=(t.flags&128)!==0;if(!s&&!A)return d&&td(t,n,!1),ln(e,t,g);s=t.stateNode,Mh.current=t;var F=A&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&A?(t.child=Ra(t,e.child,null,g),t.child=Ra(t,null,F,g)):Wt(e,t,F,g),t.memoizedState=s.state,d&&td(t,n,!0),t.child}function Xd(e){var t=e.stateNode;t.pendingContext?Ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ju(e,t.context,!1),ll(e,t.containerInfo)}function Yd(e,t,n,s,d){return La(),tl(d),t.flags|=256,Wt(e,t,n,s),t.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,t,n){var s=t.pendingProps,d=pt.current,g=!1,A=(t.flags&128)!==0,F;if((F=A)||(F=e!==null&&e.memoizedState===null?!1:(d&2)!==0),F?(g=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),dt(pt,d&1),e===null)return el(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(A=s.children,e=s.fallback,g?(s=t.mode,g=t.child,A={mode:"hidden",children:A},(s&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=A):g=qi(A,s,0,null),e=sa(e,s,n,null),g.return=t,e.return=t,g.sibling=e,t.child=g,t.child.memoizedState=Cl(n),t.memoizedState=_l,e):El(t,A));if(d=e.memoizedState,d!==null&&(F=d.dehydrated,F!==null))return Lh(e,t,A,s,F,d,n);if(g){g=s.fallback,A=t.mode,d=e.child,F=d.sibling;var q={mode:"hidden",children:s.children};return(A&1)===0&&t.child!==d?(s=t.child,s.childLanes=0,s.pendingProps=q,t.deletions=null):(s=Tn(d,q),s.subtreeFlags=d.subtreeFlags&14680064),F!==null?g=Tn(F,g):(g=sa(g,A,n,null),g.flags|=2),g.return=t,s.return=t,s.sibling=g,t.child=s,s=g,g=t.child,A=e.child.memoizedState,A=A===null?Cl(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},g.memoizedState=A,g.childLanes=e.childLanes&~n,t.memoizedState=_l,s}return g=e.child,e=g.sibling,s=Tn(g,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function El(e,t){return t=qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ai(e,t,n,s){return s!==null&&tl(s),Ra(t,e.child,null,n),e=El(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lh(e,t,n,s,d,g,A){if(n)return t.flags&256?(t.flags&=-257,s=kl(Error(a(422))),Ai(e,t,A,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(g=s.fallback,d=t.mode,s=qi({mode:"visible",children:s.children},d,0,null),g=sa(g,d,A,null),g.flags|=2,s.return=t,g.return=t,s.sibling=g,t.child=s,(t.mode&1)!==0&&Ra(t,e.child,null,A),t.child.memoizedState=Cl(A),t.memoizedState=_l,g);if((t.mode&1)===0)return Ai(e,t,A,null);if(d.data==="$!"){if(s=d.nextSibling&&d.nextSibling.dataset,s)var F=s.dgst;return s=F,g=Error(a(419)),s=kl(g,s,void 0),Ai(e,t,A,s)}if(F=(A&e.childLanes)!==0,er||F){if(s=Ct,s!==null){switch(A&-A){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(s.suspendedLanes|A))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,sn(e,d),Ir(s,e,d,-1))}return ql(),s=kl(Error(a(421))),Ai(e,t,A,s)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Kh.bind(null,e),d._reactRetry=t,null):(e=g.treeContext,dr=bn(d.nextSibling),ur=t,mt=!0,_r=null,e!==null&&(gr[yr++]=nn,gr[yr++]=an,gr[yr++]=Zn,nn=e.id,an=e.overflow,Zn=t),t=El(t,s.children),t.flags|=4096,t)}function ec(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),sl(e.return,t,n)}function Pl(e,t,n,s,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=n,g.tailMode=d)}function tc(e,t,n){var s=t.pendingProps,d=s.revealOrder,g=s.tail;if(Wt(e,t,s.children,n),s=pt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ec(e,n,t);else if(e.tag===19)ec(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(dt(pt,s),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&Ni(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),Pl(t,!1,d,n,g);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Ni(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}Pl(t,!0,n,null,g);break;case"together":Pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ti(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ta|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=Tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rh(e,t,n){switch(t.tag){case 3:Xd(t),La();break;case 5:pd(t);break;case 1:Jt(t.type)&&mi(t);break;case 4:ll(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,d=t.memoizedProps.value;dt(wi,s._currentValue),s._currentValue=d;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(dt(pt,pt.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Jd(e,t,n):(dt(pt,pt.current&1),e=ln(e,t,n),e!==null?e.sibling:null);dt(pt,pt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return tc(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),dt(pt,pt.current),s)break;return null;case 22:case 23:return t.lanes=0,Kd(e,t,n)}return ln(e,t,n)}var rc,Il,nc,ac;rc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Il=function(){},nc=function(e,t,n,s){var d=e.memoizedProps;if(d!==s){e=t.stateNode,Jn($r.current);var g=null;switch(n){case"input":d=b(e,d),s=b(e,s),g=[];break;case"select":d=Q({},d,{value:void 0}),s=Q({},s,{value:void 0}),g=[];break;case"textarea":d=re(e,d),s=re(e,s),g=[];break;default:typeof d.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ci)}Pt(n,s);var A;n=null;for(oe in d)if(!s.hasOwnProperty(oe)&&d.hasOwnProperty(oe)&&d[oe]!=null)if(oe==="style"){var F=d[oe];for(A in F)F.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(c.hasOwnProperty(oe)?g||(g=[]):(g=g||[]).push(oe,null));for(oe in s){var q=s[oe];if(F=d?.[oe],s.hasOwnProperty(oe)&&q!==F&&(q!=null||F!=null))if(oe==="style")if(F){for(A in F)!F.hasOwnProperty(A)||q&&q.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in q)q.hasOwnProperty(A)&&F[A]!==q[A]&&(n||(n={}),n[A]=q[A])}else n||(g||(g=[]),g.push(oe,n)),n=q;else oe==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,F=F?F.__html:void 0,q!=null&&F!==q&&(g=g||[]).push(oe,q)):oe==="children"?typeof q!="string"&&typeof q!="number"||(g=g||[]).push(oe,""+q):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(c.hasOwnProperty(oe)?(q!=null&&oe==="onScroll"&&ct("scroll",e),g||F===q||(g=[])):(g=g||[]).push(oe,q))}n&&(g=g||[]).push("style",n);var oe=g;(t.updateQueue=oe)&&(t.flags|=4)}},ac=function(e,t,n,s){n!==s&&(t.flags|=4)};function ks(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,s|=d.subtreeFlags&14680064,s|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Oh(e,t,n){var s=t.pendingProps;switch(Yo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return Jt(t.type)&&hi(),zt(t),null;case 3:return s=t.stateNode,Fa(),ft(Yt),ft(Rt),cl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_r!==null&&(Bl(_r),_r=null))),Il(e,t),zt(t),null;case 5:ul(t);var d=Jn(ys.current);if(n=t.type,e!==null&&t.stateNode!=null)nc(e,t,n,s,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(a(166));return zt(t),null}if(e=Jn($r.current),xi(t)){s=t.stateNode,n=t.type;var g=t.memoizedProps;switch(s[Br]=t,s[fs]=g,e=(t.mode&1)!==0,n){case"dialog":ct("cancel",s),ct("close",s);break;case"iframe":case"object":case"embed":ct("load",s);break;case"video":case"audio":for(d=0;d<us.length;d++)ct(us[d],s);break;case"source":ct("error",s);break;case"img":case"image":case"link":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"input":ce(s,g),ct("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!g.multiple},ct("invalid",s);break;case"textarea":Se(s,g),ct("invalid",s)}Pt(n,g),d=null;for(var A in g)if(g.hasOwnProperty(A)){var F=g[A];A==="children"?typeof F=="string"?s.textContent!==F&&(g.suppressHydrationWarning!==!0&&di(s.textContent,F,e),d=["children",F]):typeof F=="number"&&s.textContent!==""+F&&(g.suppressHydrationWarning!==!0&&di(s.textContent,F,e),d=["children",""+F]):c.hasOwnProperty(A)&&F!=null&&A==="onScroll"&&ct("scroll",s)}switch(n){case"input":nt(s),L(s,g,!0);break;case"textarea":nt(s),je(s);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(s.onclick=ci)}s=d,t.updateQueue=s,s!==null&&(t.flags|=4)}else{A=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ue(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=A.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=A.createElement(n,{is:s.is}):(e=A.createElement(n),n==="select"&&(A=e,s.multiple?A.multiple=!0:s.size&&(A.size=s.size))):e=A.createElementNS(e,n),e[Br]=t,e[fs]=s,rc(e,t,!1,!1),t.stateNode=e;e:{switch(A=Gr(n,s),n){case"dialog":ct("cancel",e),ct("close",e),d=s;break;case"iframe":case"object":case"embed":ct("load",e),d=s;break;case"video":case"audio":for(d=0;d<us.length;d++)ct(us[d],e);d=s;break;case"source":ct("error",e),d=s;break;case"img":case"image":case"link":ct("error",e),ct("load",e),d=s;break;case"details":ct("toggle",e),d=s;break;case"input":ce(e,s),d=b(e,s),ct("invalid",e);break;case"option":d=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},d=Q({},s,{value:void 0}),ct("invalid",e);break;case"textarea":Se(e,s),d=re(e,s),ct("invalid",e);break;default:d=s}Pt(n,d),F=d;for(g in F)if(F.hasOwnProperty(g)){var q=F[g];g==="style"?Ge(e,q):g==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&St(e,q)):g==="children"?typeof q=="string"?(n!=="textarea"||q!=="")&&Gt(e,q):typeof q=="number"&&Gt(e,""+q):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(c.hasOwnProperty(g)?q!=null&&g==="onScroll"&&ct("scroll",e):q!=null&&D(e,g,q,A))}switch(n){case"input":nt(e),L(e,s,!1);break;case"textarea":nt(e),je(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ie(s.value));break;case"select":e.multiple=!!s.multiple,g=s.value,g!=null?xe(e,!!s.multiple,g,!1):s.defaultValue!=null&&xe(e,!!s.multiple,s.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=ci)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zt(t),null;case 6:if(e&&t.stateNode!=null)ac(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(n=Jn(ys.current),Jn($r.current),xi(t)){if(s=t.stateNode,n=t.memoizedProps,s[Br]=t,(g=s.nodeValue!==n)&&(e=ur,e!==null))switch(e.tag){case 3:di(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(s.nodeValue,n,(e.mode&1)!==0)}g&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Br]=t,t.stateNode=s}return zt(t),null;case 13:if(ft(pt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&dr!==null&&(t.mode&1)!==0&&(t.flags&128)===0)od(),La(),t.flags|=98560,g=!1;else if(g=xi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!g)throw Error(a(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[Br]=t}else La(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;zt(t),g=!1}else _r!==null&&(Bl(_r),_r=null),g=!0;if(!g)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(pt.current&1)!==0?kt===0&&(kt=3):ql())),t.updateQueue!==null&&(t.flags|=4),zt(t),null);case 4:return Fa(),Il(e,t),e===null&&ds(t.stateNode.containerInfo),zt(t),null;case 10:return al(t.type._context),zt(t),null;case 17:return Jt(t.type)&&hi(),zt(t),null;case 19:if(ft(pt),g=t.memoizedState,g===null)return zt(t),null;if(s=(t.flags&128)!==0,A=g.rendering,A===null)if(s)ks(g,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(A=Ni(e),A!==null){for(t.flags|=128,ks(g,!1),s=A.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)g=n,e=s,g.flags&=14680066,A=g.alternate,A===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=A.childLanes,g.lanes=A.lanes,g.child=A.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=A.memoizedProps,g.memoizedState=A.memoizedState,g.updateQueue=A.updateQueue,g.type=A.type,e=A.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dt(pt,pt.current&1|2),t.child}e=e.sibling}g.tail!==null&&ht()>Wa&&(t.flags|=128,s=!0,ks(g,!1),t.lanes=4194304)}else{if(!s)if(e=Ni(A),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ks(g,!0),g.tail===null&&g.tailMode==="hidden"&&!A.alternate&&!mt)return zt(t),null}else 2*ht()-g.renderingStartTime>Wa&&n!==1073741824&&(t.flags|=128,s=!0,ks(g,!1),t.lanes=4194304);g.isBackwards?(A.sibling=t.child,t.child=A):(n=g.last,n!==null?n.sibling=A:t.child=A,g.last=A)}return g.tail!==null?(t=g.tail,g.rendering=t,g.tail=t.sibling,g.renderingStartTime=ht(),t.sibling=null,n=pt.current,dt(pt,s?n&1|2:n&1),t):(zt(t),null);case 22:case 23:return Wl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(cr&1073741824)!==0&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function zh(e,t){switch(Yo(t),t.tag){case 1:return Jt(t.type)&&hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fa(),ft(Yt),ft(Rt),cl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ul(t),null;case 13:if(ft(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));La()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(pt),null;case 4:return Fa(),null;case 10:return al(t.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var Di=!1,Ft=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ba(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){yt(e,t,s)}else n.current=null}function Al(e,t,n){try{n()}catch(s){yt(e,t,s)}}var sc=!1;function Uh(e,t){if(Wo=me,e=Ou(),Lo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var d=s.anchorOffset,g=s.focusNode;s=s.focusOffset;try{n.nodeType,g.nodeType}catch{n=null;break e}var A=0,F=-1,q=-1,oe=0,be=0,ke=e,we=null;t:for(;;){for(var De;ke!==n||d!==0&&ke.nodeType!==3||(F=A+d),ke!==g||s!==0&&ke.nodeType!==3||(q=A+s),ke.nodeType===3&&(A+=ke.nodeValue.length),(De=ke.firstChild)!==null;)we=ke,ke=De;for(;;){if(ke===e)break t;if(we===n&&++oe===d&&(F=A),we===g&&++be===s&&(q=A),(De=ke.nextSibling)!==null)break;ke=we,we=ke.parentNode}ke=De}n=F===-1||q===-1?null:{start:F,end:q}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:e,selectionRange:n},me=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var Oe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Fe=Oe.memoizedProps,vt=Oe.memoizedState,te=t.stateNode,G=te.getSnapshotBeforeUpdate(t.elementType===t.type?Fe:Cr(t.type,Fe),vt);te.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ae=t.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ce){yt(t,t.return,Ce)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return Oe=sc,sc=!1,Oe}function Ss(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&e)===e){var g=d.destroy;d.destroy=void 0,g!==void 0&&Al(t,n,g)}d=d.next}while(d!==s)}}function Mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Tl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ic(e){var t=e.alternate;t!==null&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Br],delete t[fs],delete t[Ko],delete t[kh],delete t[Sh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oc(e){return e.tag===5||e.tag===3||e.tag===4}function lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ci));else if(s!==4&&(e=e.child,e!==null))for(Dl(e,t,n),e=e.sibling;e!==null;)Dl(e,t,n),e=e.sibling}function Ml(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ml(e,t,n),e=e.sibling;e!==null;)Ml(e,t,n),e=e.sibling}var Dt=null,Er=!1;function Cn(e,t,n){for(n=n.child;n!==null;)uc(e,t,n),n=n.sibling}function uc(e,t,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(mn,n)}catch{}switch(n.tag){case 5:Ft||Ba(n,t);case 6:var s=Dt,d=Er;Dt=null,Cn(e,t,n),Dt=s,Er=d,Dt!==null&&(Er?(e=Dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Er?(e=Dt,n=n.stateNode,e.nodeType===8?Vo(e.parentNode,n):e.nodeType===1&&Vo(e,n),$(e)):Vo(Dt,n.stateNode));break;case 4:s=Dt,d=Er,Dt=n.stateNode.containerInfo,Er=!0,Cn(e,t,n),Dt=s,Er=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){d=s=s.next;do{var g=d,A=g.destroy;g=g.tag,A!==void 0&&((g&2)!==0||(g&4)!==0)&&Al(n,t,A),d=d.next}while(d!==s)}Cn(e,t,n);break;case 1:if(!Ft&&(Ba(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(F){yt(n,t,F)}Cn(e,t,n);break;case 21:Cn(e,t,n);break;case 22:n.mode&1?(Ft=(s=Ft)||n.memoizedState!==null,Cn(e,t,n),Ft=s):Cn(e,t,n);break;default:Cn(e,t,n)}}function dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fh),t.forEach(function(s){var d=Qh.bind(null,e,s);n.has(s)||(n.add(s),s.then(d,d))})}}function Pr(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var d=n[s];try{var g=e,A=t,F=A;e:for(;F!==null;){switch(F.tag){case 5:Dt=F.stateNode,Er=!1;break e;case 3:Dt=F.stateNode.containerInfo,Er=!0;break e;case 4:Dt=F.stateNode.containerInfo,Er=!0;break e}F=F.return}if(Dt===null)throw Error(a(160));uc(g,A,d),Dt=null,Er=!1;var q=d.alternate;q!==null&&(q.return=null),d.return=null}catch(oe){yt(d,t,oe)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cc(t,e),t=t.sibling}function cc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),qr(e),s&4){try{Ss(3,e,e.return),Mi(3,e)}catch(Fe){yt(e,e.return,Fe)}try{Ss(5,e,e.return)}catch(Fe){yt(e,e.return,Fe)}}break;case 1:Pr(t,e),qr(e),s&512&&n!==null&&Ba(n,n.return);break;case 5:if(Pr(t,e),qr(e),s&512&&n!==null&&Ba(n,n.return),e.flags&32){var d=e.stateNode;try{Gt(d,"")}catch(Fe){yt(e,e.return,Fe)}}if(s&4&&(d=e.stateNode,d!=null)){var g=e.memoizedProps,A=n!==null?n.memoizedProps:g,F=e.type,q=e.updateQueue;if(e.updateQueue=null,q!==null)try{F==="input"&&g.type==="radio"&&g.name!=null&&J(d,g),Gr(F,A);var oe=Gr(F,g);for(A=0;A<q.length;A+=2){var be=q[A],ke=q[A+1];be==="style"?Ge(d,ke):be==="dangerouslySetInnerHTML"?St(d,ke):be==="children"?Gt(d,ke):D(d,be,ke,oe)}switch(F){case"input":z(d,g);break;case"textarea":Ae(d,g);break;case"select":var we=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var De=g.value;De!=null?xe(d,!!g.multiple,De,!1):we!==!!g.multiple&&(g.defaultValue!=null?xe(d,!!g.multiple,g.defaultValue,!0):xe(d,!!g.multiple,g.multiple?[]:"",!1))}d[fs]=g}catch(Fe){yt(e,e.return,Fe)}}break;case 6:if(Pr(t,e),qr(e),s&4){if(e.stateNode===null)throw Error(a(162));d=e.stateNode,g=e.memoizedProps;try{d.nodeValue=g}catch(Fe){yt(e,e.return,Fe)}}break;case 3:if(Pr(t,e),qr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{$(t.containerInfo)}catch(Fe){yt(e,e.return,Fe)}break;case 4:Pr(t,e),qr(e);break;case 13:Pr(t,e),qr(e),d=e.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Ol=ht())),s&4&&dc(e);break;case 22:if(be=n!==null&&n.memoizedState!==null,e.mode&1?(Ft=(oe=Ft)||be,Pr(t,e),Ft=oe):Pr(t,e),qr(e),s&8192){if(oe=e.memoizedState!==null,(e.stateNode.isHidden=oe)&&!be&&(e.mode&1)!==0)for(Le=e,be=e.child;be!==null;){for(ke=Le=be;Le!==null;){switch(we=Le,De=we.child,we.tag){case 0:case 11:case 14:case 15:Ss(4,we,we.return);break;case 1:Ba(we,we.return);var Oe=we.stateNode;if(typeof Oe.componentWillUnmount=="function"){s=we,n=we.return;try{t=s,Oe.props=t.memoizedProps,Oe.state=t.memoizedState,Oe.componentWillUnmount()}catch(Fe){yt(s,n,Fe)}}break;case 5:Ba(we,we.return);break;case 22:if(we.memoizedState!==null){mc(ke);continue}}De!==null?(De.return=we,Le=De):mc(ke)}be=be.sibling}e:for(be=null,ke=e;;){if(ke.tag===5){if(be===null){be=ke;try{d=ke.stateNode,oe?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(F=ke.stateNode,q=ke.memoizedProps.style,A=q!=null&&q.hasOwnProperty("display")?q.display:null,F.style.display=ut("display",A))}catch(Fe){yt(e,e.return,Fe)}}}else if(ke.tag===6){if(be===null)try{ke.stateNode.nodeValue=oe?"":ke.memoizedProps}catch(Fe){yt(e,e.return,Fe)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===e)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===e)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===e)break e;be===ke&&(be=null),ke=ke.return}be===ke&&(be=null),ke.sibling.return=ke.return,ke=ke.sibling}}break;case 19:Pr(t,e),qr(e),s&4&&dc(e);break;case 21:break;default:Pr(t,e),qr(e)}}function qr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oc(n)){var s=n;break e}n=n.return}throw Error(a(160))}switch(s.tag){case 5:var d=s.stateNode;s.flags&32&&(Gt(d,""),s.flags&=-33);var g=lc(e);Ml(e,g,d);break;case 3:case 4:var A=s.stateNode.containerInfo,F=lc(e);Dl(e,F,A);break;default:throw Error(a(161))}}catch(q){yt(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bh(e,t,n){Le=e,fc(e)}function fc(e,t,n){for(var s=(e.mode&1)!==0;Le!==null;){var d=Le,g=d.child;if(d.tag===22&&s){var A=d.memoizedState!==null||Di;if(!A){var F=d.alternate,q=F!==null&&F.memoizedState!==null||Ft;F=Di;var oe=Ft;if(Di=A,(Ft=q)&&!oe)for(Le=d;Le!==null;)A=Le,q=A.child,A.tag===22&&A.memoizedState!==null?pc(d):q!==null?(q.return=A,Le=q):pc(d);for(;g!==null;)Le=g,fc(g),g=g.sibling;Le=d,Di=F,Ft=oe}hc(e)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,Le=g):hc(e)}}function hc(e){for(;Le!==null;){var t=Le;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ft||Mi(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ft)if(n===null)s.componentDidMount();else{var d=t.elementType===t.type?n.memoizedProps:Cr(t.type,n.memoizedProps);s.componentDidUpdate(d,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var g=t.updateQueue;g!==null&&md(t,g,s);break;case 3:var A=t.updateQueue;if(A!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}md(t,A,n)}break;case 5:var F=t.stateNode;if(n===null&&t.flags&4){n=F;var q=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&n.focus();break;case"img":q.src&&(n.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var oe=t.alternate;if(oe!==null){var be=oe.memoizedState;if(be!==null){var ke=be.dehydrated;ke!==null&&$(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Ft||t.flags&512&&Tl(t)}catch(we){yt(t,t.return,we)}}if(t===e){Le=null;break}if(n=t.sibling,n!==null){n.return=t.return,Le=n;break}Le=t.return}}function mc(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Le=n;break}Le=t.return}}function pc(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mi(4,t)}catch(q){yt(t,n,q)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var d=t.return;try{s.componentDidMount()}catch(q){yt(t,d,q)}}var g=t.return;try{Tl(t)}catch(q){yt(t,g,q)}break;case 5:var A=t.return;try{Tl(t)}catch(q){yt(t,A,q)}}}catch(q){yt(t,t.return,q)}if(t===e){Le=null;break}var F=t.sibling;if(F!==null){F.return=t.return,Le=F;break}Le=t.return}}var $h=Math.ceil,Li=O.ReactCurrentDispatcher,Ll=O.ReactCurrentOwner,wr=O.ReactCurrentBatchConfig,rt=0,Ct=null,wt=null,Mt=0,cr=0,$a=kn(0),kt=0,Ns=null,ta=0,Ri=0,Rl=0,js=null,tr=null,Ol=0,Wa=1/0,un=null,Oi=!1,zl=null,En=null,zi=!1,Pn=null,Fi=0,_s=0,Fl=null,Ui=-1,Bi=0;function qt(){return(rt&6)!==0?ht():Ui!==-1?Ui:Ui=ht()}function In(e){return(e.mode&1)===0?1:(rt&2)!==0&&Mt!==0?Mt&-Mt:jh.transition!==null?(Bi===0&&(Bi=pn()),Bi):(e=tt,e!==0||(e=window.event,e=e===void 0?16:es(e.type)),e)}function Ir(e,t,n,s){if(50<_s)throw _s=0,Fl=null,Error(a(185));Wn(e,n,s),((rt&2)===0||e!==Ct)&&(e===Ct&&((rt&2)===0&&(Ri|=n),kt===4&&An(e,Mt)),rr(e,s),n===1&&rt===0&&(t.mode&1)===0&&(Wa=ht()+500,pi&&Nn()))}function rr(e,t){var n=e.callbackNode;wo(e,t);var s=Jr(e,e===Ct?Mt:0);if(s===0)n!==null&&ar(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ar(n),t===1)e.tag===0?Nh(yc.bind(null,e)):rd(yc.bind(null,e)),wh(function(){(rt&6)===0&&Nn()}),n=null;else{switch(pa(s)){case 1:n=Qr;break;case 4:n=Za;break;case 16:n=Zr;break;case 536870912:n=Xr;break;default:n=Zr}n=jc(n,gc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gc(e,t){if(Ui=-1,Bi=0,(rt&6)!==0)throw Error(a(327));var n=e.callbackNode;if(qa()&&e.callbackNode!==n)return null;var s=Jr(e,e===Ct?Mt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=$i(e,s);else{t=s;var d=rt;rt|=2;var g=vc();(Ct!==e||Mt!==t)&&(un=null,Wa=ht()+500,na(e,t));do try{Hh();break}catch(F){xc(e,F)}while(!0);nl(),Li.current=g,rt=d,wt!==null?t=0:(Ct=null,Mt=0,t=kt)}if(t!==0){if(t===2&&(d=Ya(e),d!==0&&(s=d,t=Ul(e,d))),t===1)throw n=Ns,na(e,0),An(e,s),rr(e,ht()),n;if(t===6)An(e,s);else{if(d=e.current.alternate,(s&30)===0&&!Wh(d)&&(t=$i(e,s),t===2&&(g=Ya(e),g!==0&&(s=g,t=Ul(e,g))),t===1))throw n=Ns,na(e,0),An(e,s),rr(e,ht()),n;switch(e.finishedWork=d,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:aa(e,tr,un);break;case 3:if(An(e,s),(s&130023424)===s&&(t=Ol+500-ht(),10<t)){if(Jr(e,0)!==0)break;if(d=e.suspendedLanes,(d&s)!==s){qt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Go(aa.bind(null,e,tr,un),t);break}aa(e,tr,un);break;case 4:if(An(e,s),(s&4194240)===s)break;for(t=e.eventTimes,d=-1;0<s;){var A=31-Kt(s);g=1<<A,A=t[A],A>d&&(d=A),s&=~g}if(s=d,s=ht()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*$h(s/1960))-s,10<s){e.timeoutHandle=Go(aa.bind(null,e,tr,un),s);break}aa(e,tr,un);break;case 5:aa(e,tr,un);break;default:throw Error(a(329))}}}return rr(e,ht()),e.callbackNode===n?gc.bind(null,e):null}function Ul(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(na(e,t).flags|=256),e=$i(e,t),e!==2&&(t=tr,tr=n,t!==null&&Bl(t)),e}function Bl(e){tr===null?tr=e:tr.push.apply(tr,e)}function Wh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var d=n[s],g=d.getSnapshot;d=d.value;try{if(!jr(g(),d))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~Rl,t&=~Ri,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),s=1<<n;e[n]=-1,t&=~s}}function yc(e){if((rt&6)!==0)throw Error(a(327));qa();var t=Jr(e,0);if((t&1)===0)return rr(e,ht()),null;var n=$i(e,t);if(e.tag!==0&&n===2){var s=Ya(e);s!==0&&(t=s,n=Ul(e,s))}if(n===1)throw n=Ns,na(e,0),An(e,t),rr(e,ht()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aa(e,tr,un),rr(e,ht()),null}function $l(e,t){var n=rt;rt|=1;try{return e(t)}finally{rt=n,rt===0&&(Wa=ht()+500,pi&&Nn())}}function ra(e){Pn!==null&&Pn.tag===0&&(rt&6)===0&&qa();var t=rt;rt|=1;var n=wr.transition,s=tt;try{if(wr.transition=null,tt=1,e)return e()}finally{tt=s,wr.transition=n,rt=t,(rt&6)===0&&Nn()}}function Wl(){cr=$a.current,ft($a)}function na(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vh(n)),wt!==null)for(n=wt.return;n!==null;){var s=n;switch(Yo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hi();break;case 3:Fa(),ft(Yt),ft(Rt),cl();break;case 5:ul(s);break;case 4:Fa();break;case 13:ft(pt);break;case 19:ft(pt);break;case 10:al(s.type._context);break;case 22:case 23:Wl()}n=n.return}if(Ct=e,wt=e=Tn(e.current,null),Mt=cr=t,kt=0,Ns=null,Rl=Ri=ta=0,tr=js=null,Yn!==null){for(t=0;t<Yn.length;t++)if(n=Yn[t],s=n.interleaved,s!==null){n.interleaved=null;var d=s.next,g=n.pending;if(g!==null){var A=g.next;g.next=d,s.next=A}n.pending=s}Yn=null}return e}function xc(e,t){do{var n=wt;try{if(nl(),ji.current=Pi,_i){for(var s=gt.memoizedState;s!==null;){var d=s.queue;d!==null&&(d.pending=null),s=s.next}_i=!1}if(ea=0,_t=bt=gt=null,xs=!1,vs=0,Ll.current=null,n===null||n.return===null){kt=1,Ns=t,wt=null;break}e:{var g=e,A=n.return,F=n,q=t;if(t=Mt,F.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=q,be=F,ke=be.tag;if((be.mode&1)===0&&(ke===0||ke===11||ke===15)){var we=be.alternate;we?(be.updateQueue=we.updateQueue,be.memoizedState=we.memoizedState,be.lanes=we.lanes):(be.updateQueue=null,be.memoizedState=null)}var De=Wd(A);if(De!==null){De.flags&=-257,qd(De,A,F,g,t),De.mode&1&&$d(g,oe,t),t=De,q=oe;var Oe=t.updateQueue;if(Oe===null){var Fe=new Set;Fe.add(q),t.updateQueue=Fe}else Oe.add(q);break e}else{if((t&1)===0){$d(g,oe,t),ql();break e}q=Error(a(426))}}else if(mt&&F.mode&1){var vt=Wd(A);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),qd(vt,A,F,g,t),tl(Ua(q,F));break e}}g=q=Ua(q,F),kt!==4&&(kt=2),js===null?js=[g]:js.push(g),g=A;do{switch(g.tag){case 3:g.flags|=65536,t&=-t,g.lanes|=t;var te=Ud(g,q,t);hd(g,te);break e;case 1:F=q;var G=g.type,ae=g.stateNode;if((g.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(En===null||!En.has(ae)))){g.flags|=65536,t&=-t,g.lanes|=t;var Ce=Bd(g,F,t);hd(g,Ce);break e}}g=g.return}while(g!==null)}bc(n)}catch(Be){t=Be,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function vc(){var e=Li.current;return Li.current=Pi,e===null?Pi:e}function ql(){(kt===0||kt===3||kt===2)&&(kt=4),Ct===null||(ta&268435455)===0&&(Ri&268435455)===0||An(Ct,Mt)}function $i(e,t){var n=rt;rt|=2;var s=vc();(Ct!==e||Mt!==t)&&(un=null,na(e,t));do try{qh();break}catch(d){xc(e,d)}while(!0);if(nl(),rt=n,Li.current=s,wt!==null)throw Error(a(261));return Ct=null,Mt=0,kt}function qh(){for(;wt!==null;)wc(wt)}function Hh(){for(;wt!==null&&!fa();)wc(wt)}function wc(e){var t=Nc(e.alternate,e,cr);e.memoizedProps=e.pendingProps,t===null?bc(e):wt=t,Ll.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Oh(n,t,cr),n!==null){wt=n;return}}else{if(n=zh(n,t),n!==null){n.flags&=32767,wt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,wt=null;return}}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);kt===0&&(kt=5)}function aa(e,t,n){var s=tt,d=wr.transition;try{wr.transition=null,tt=1,Gh(e,t,n,s)}finally{wr.transition=d,tt=s}return null}function Gh(e,t,n,s){do qa();while(Pn!==null);if((rt&6)!==0)throw Error(a(327));n=e.finishedWork;var d=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var g=n.lanes|n.childLanes;if(Ja(e,g),e===Ct&&(wt=Ct=null,Mt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||zi||(zi=!0,jc(Zr,function(){return qa(),null})),g=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||g){g=wr.transition,wr.transition=null;var A=tt;tt=1;var F=rt;rt|=4,Ll.current=null,Uh(e,n),cc(n,e),fh(qo),me=!!Wo,qo=Wo=null,e.current=n,Bh(n),Qa(),rt=F,tt=A,wr.transition=g}else e.current=n;if(zi&&(zi=!1,Pn=e,Fi=d),g=e.pendingLanes,g===0&&(En=null),Ks(n.stateNode),rr(e,ht()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)d=t[n],s(d.value,{componentStack:d.stack,digest:d.digest});if(Oi)throw Oi=!1,e=zl,zl=null,e;return(Fi&1)!==0&&e.tag!==0&&qa(),g=e.pendingLanes,(g&1)!==0?e===Fl?_s++:(_s=0,Fl=e):_s=0,Nn(),null}function qa(){if(Pn!==null){var e=pa(Fi),t=wr.transition,n=tt;try{if(wr.transition=null,tt=16>e?16:e,Pn===null)var s=!1;else{if(e=Pn,Pn=null,Fi=0,(rt&6)!==0)throw Error(a(331));var d=rt;for(rt|=4,Le=e.current;Le!==null;){var g=Le,A=g.child;if((Le.flags&16)!==0){var F=g.deletions;if(F!==null){for(var q=0;q<F.length;q++){var oe=F[q];for(Le=oe;Le!==null;){var be=Le;switch(be.tag){case 0:case 11:case 15:Ss(8,be,g)}var ke=be.child;if(ke!==null)ke.return=be,Le=ke;else for(;Le!==null;){be=Le;var we=be.sibling,De=be.return;if(ic(be),be===oe){Le=null;break}if(we!==null){we.return=De,Le=we;break}Le=De}}}var Oe=g.alternate;if(Oe!==null){var Fe=Oe.child;if(Fe!==null){Oe.child=null;do{var vt=Fe.sibling;Fe.sibling=null,Fe=vt}while(Fe!==null)}}Le=g}}if((g.subtreeFlags&2064)!==0&&A!==null)A.return=g,Le=A;else e:for(;Le!==null;){if(g=Le,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ss(9,g,g.return)}var te=g.sibling;if(te!==null){te.return=g.return,Le=te;break e}Le=g.return}}var G=e.current;for(Le=G;Le!==null;){A=Le;var ae=A.child;if((A.subtreeFlags&2064)!==0&&ae!==null)ae.return=A,Le=ae;else e:for(A=G;Le!==null;){if(F=Le,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Mi(9,F)}}catch(Be){yt(F,F.return,Be)}if(F===A){Le=null;break e}var Ce=F.sibling;if(Ce!==null){Ce.return=F.return,Le=Ce;break e}Le=F.return}}if(rt=d,Nn(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(mn,e)}catch{}s=!0}return s}finally{tt=n,wr.transition=t}}return!1}function kc(e,t,n){t=Ua(n,t),t=Ud(e,t,1),e=_n(e,t,1),t=qt(),e!==null&&(Wn(e,1,t),rr(e,t))}function yt(e,t,n){if(e.tag===3)kc(e,e,n);else for(;t!==null;){if(t.tag===3){kc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(En===null||!En.has(s))){e=Ua(n,e),e=Bd(t,e,1),t=_n(t,e,1),e=qt(),t!==null&&(Wn(t,1,e),rr(t,e));break}}t=t.return}}function Vh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&n,Ct===e&&(Mt&n)===n&&(kt===4||kt===3&&(Mt&130023424)===Mt&&500>ht()-Ol?na(e,0):Rl|=n),rr(e,t)}function Sc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Yr,Yr<<=1,(Yr&130023424)===0&&(Yr=4194304)));var n=qt();e=sn(e,t),e!==null&&(Wn(e,t,n),rr(e,n))}function Kh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sc(e,n)}function Qh(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}s!==null&&s.delete(t),Sc(e,n)}var Nc;Nc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)er=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return er=!1,Rh(e,t,n);er=(e.flags&131072)!==0}else er=!1,mt&&(t.flags&1048576)!==0&&nd(t,yi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ti(e,t),e=t.pendingProps;var d=Ta(t,Rt.current);za(t,n),d=ml(null,t,s,e,d,n);var g=pl();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(s)?(g=!0,mi(t)):g=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ol(t),d.updater=Ii,t.stateNode=d,d._reactInternals=t,bl(t,s,e,n),t=jl(null,t,s,!0,g,n)):(t.tag=0,mt&&g&&Xo(t),Wt(null,t,d,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ti(e,t),e=t.pendingProps,d=s._init,s=d(s._payload),t.type=s,d=t.tag=Xh(s),e=Cr(s,e),d){case 0:t=Nl(null,t,s,e,n);break e;case 1:t=Zd(null,t,s,e,n);break e;case 11:t=Hd(null,t,s,e,n);break e;case 14:t=Gd(null,t,s,Cr(s.type,e),n);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Cr(s,d),Nl(e,t,s,d,n);case 1:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Cr(s,d),Zd(e,t,s,d,n);case 3:e:{if(Xd(t),e===null)throw Error(a(387));s=t.pendingProps,g=t.memoizedState,d=g.element,fd(e,t),Si(t,s,null,n);var A=t.memoizedState;if(s=A.element,g.isDehydrated)if(g={element:s,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){d=Ua(Error(a(423)),t),t=Yd(e,t,s,n,d);break e}else if(s!==d){d=Ua(Error(a(424)),t),t=Yd(e,t,s,n,d);break e}else for(dr=bn(t.stateNode.containerInfo.firstChild),ur=t,mt=!0,_r=null,n=dd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),s===d){t=ln(e,t,n);break e}Wt(e,t,s,n)}t=t.child}return t;case 5:return pd(t),e===null&&el(t),s=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,A=d.children,Ho(s,d)?A=null:g!==null&&Ho(s,g)&&(t.flags|=32),Qd(e,t),Wt(e,t,A,n),t.child;case 6:return e===null&&el(t),null;case 13:return Jd(e,t,n);case 4:return ll(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ra(t,null,s,n):Wt(e,t,s,n),t.child;case 11:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Cr(s,d),Hd(e,t,s,d,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,d=t.pendingProps,g=t.memoizedProps,A=d.value,dt(wi,s._currentValue),s._currentValue=A,g!==null)if(jr(g.value,A)){if(g.children===d.children&&!Yt.current){t=ln(e,t,n);break e}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var F=g.dependencies;if(F!==null){A=g.child;for(var q=F.firstContext;q!==null;){if(q.context===s){if(g.tag===1){q=on(-1,n&-n),q.tag=2;var oe=g.updateQueue;if(oe!==null){oe=oe.shared;var be=oe.pending;be===null?q.next=q:(q.next=be.next,be.next=q),oe.pending=q}}g.lanes|=n,q=g.alternate,q!==null&&(q.lanes|=n),sl(g.return,n,t),F.lanes|=n;break}q=q.next}}else if(g.tag===10)A=g.type===t.type?null:g.child;else if(g.tag===18){if(A=g.return,A===null)throw Error(a(341));A.lanes|=n,F=A.alternate,F!==null&&(F.lanes|=n),sl(A,n,t),A=g.sibling}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===t){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}Wt(e,t,d.children,n),t=t.child}return t;case 9:return d=t.type,s=t.pendingProps.children,za(t,n),d=xr(d),s=s(d),t.flags|=1,Wt(e,t,s,n),t.child;case 14:return s=t.type,d=Cr(s,t.pendingProps),d=Cr(s.type,d),Gd(e,t,s,d,n);case 15:return Vd(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,d=t.pendingProps,d=t.elementType===s?d:Cr(s,d),Ti(e,t),t.tag=1,Jt(s)?(e=!0,mi(t)):e=!1,za(t,n),zd(t,s,d),bl(t,s,d,n),jl(null,t,s,!0,e,n);case 19:return tc(e,t,n);case 22:return Kd(e,t,n)}throw Error(a(156,t.tag))};function jc(e,t){return Hs(e,t)}function Zh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,n,s){return new Zh(e,t,n,s)}function Hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xh(e){if(typeof e=="function")return Hl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===U)return 11;if(e===ue)return 14}return 2}function Tn(e,t){var n=e.alternate;return n===null?(n=br(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wi(e,t,n,s,d,g){var A=2;if(s=e,typeof e=="function")Hl(e)&&(A=1);else if(typeof e=="string")A=5;else e:switch(e){case H:return sa(n.children,d,g,t);case ie:A=8,d|=8;break;case ne:return e=br(12,n,t,d|2),e.elementType=ne,e.lanes=g,e;case X:return e=br(13,n,t,d),e.elementType=X,e.lanes=g,e;case E:return e=br(19,n,t,d),e.elementType=E,e.lanes=g,e;case fe:return qi(n,d,g,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case he:A=10;break e;case ge:A=9;break e;case U:A=11;break e;case ue:A=14;break e;case Ee:A=16,s=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=br(A,n,t,d),t.elementType=e,t.type=s,t.lanes=g,t}function sa(e,t,n,s){return e=br(7,e,s,t),e.lanes=n,e}function qi(e,t,n,s){return e=br(22,e,s,t),e.elementType=fe,e.lanes=n,e.stateNode={isHidden:!1},e}function Gl(e,t,n){return e=br(6,e,null,t),e.lanes=n,e}function Vl(e,t,n){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yh(e,t,n,s,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=s,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Kl(e,t,n,s,d,g,A,F,q){return e=new Yh(e,t,n,F,q),t===1?(t=1,g===!0&&(t|=8)):t=0,g=br(3,null,null,t),e.current=g,g.stateNode=e,g.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ol(g),e}function Jh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function _c(e){if(!e)return Sn;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(Jt(n))return ed(e,n,t)}return t}function Cc(e,t,n,s,d,g,A,F,q){return e=Kl(n,s,!0,e,d,g,A,F,q),e.context=_c(null),n=e.current,s=qt(),d=In(n),g=on(s,d),g.callback=t??null,_n(n,g,d),e.current.lanes=d,Wn(e,d,s),rr(e,s),e}function Hi(e,t,n,s){var d=t.current,g=qt(),A=In(d);return n=_c(n),t.context===null?t.context=n:t.pendingContext=n,t=on(g,A),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=_n(d,t,A),e!==null&&(Ir(e,d,A,g),ki(e,d,A)),A}function Gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ql(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function em(){return null}var Pc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}Vi.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Hi(e,t,null,null)},Vi.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ra(function(){Hi(null,e,null,null)}),t[tn]=null}};function Vi(e){this._internalRoot=e}Vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nr.length&&t!==0&&t<Nr[n].priority;n++);Nr.splice(n,0,e),n===0&&ya(e)}};function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ic(){}function tm(e,t,n,s,d){if(d){if(typeof s=="function"){var g=s;s=function(){var oe=Gi(A);g.call(oe)}}var A=Cc(t,s,e,0,null,!1,!1,"",Ic);return e._reactRootContainer=A,e[tn]=A.current,ds(e.nodeType===8?e.parentNode:e),ra(),A}for(;d=e.lastChild;)e.removeChild(d);if(typeof s=="function"){var F=s;s=function(){var oe=Gi(q);F.call(oe)}}var q=Kl(e,0,!1,null,null,!1,!1,"",Ic);return e._reactRootContainer=q,e[tn]=q.current,ds(e.nodeType===8?e.parentNode:e),ra(function(){Hi(t,q,n,s)}),q}function Qi(e,t,n,s,d){var g=n._reactRootContainer;if(g){var A=g;if(typeof d=="function"){var F=d;d=function(){var q=Gi(A);F.call(q)}}Hi(t,A,e,d)}else A=tm(n,t,e,d,s);return Gi(A)}Qs=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lr(t.pendingLanes);n!==0&&(ma(t,n|1),rr(t,ht()),(rt&6)===0&&(Wa=ht()+500,Nn()))}break;case 13:ra(function(){var s=sn(e,1);if(s!==null){var d=qt();Ir(s,e,1,d)}}),Ql(e,1)}},gn=function(e){if(e.tag===13){var t=sn(e,134217728);if(t!==null){var n=qt();Ir(t,e,134217728,n)}Ql(e,134217728)}},qn=function(e){if(e.tag===13){var t=In(e),n=sn(e,t);if(n!==null){var s=qt();Ir(n,e,t,s)}Ql(e,t)}},Rr=function(){return tt},ga=function(e,t){var n=tt;try{return tt=e,t()}finally{tt=n}},Vt=function(e,t,n){switch(t){case"input":if(z(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var d=fi(s);if(!d)throw Error(a(90));it(s),z(s,d)}}}break;case"textarea":Ae(e,n);break;case"select":t=n.value,t!=null&&xe(e,!!n.multiple,t,!1)}},$s=$l,Bt=ra;var rm={usingClientEntryPoint:!1,Events:[hs,Ia,fi,Pe,Bs,$l]},Cs={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nm={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ka(e),e===null?null:e.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||em,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{mn=Zi.inject(nm),sr=Zi}catch{}}return nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm,nr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xl(t))throw Error(a(200));return Jh(e,t,null,n)},nr.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,s="",d=Pc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Kl(e,1,!1,null,null,n,!1,s,d),e[tn]=t.current,ds(e.nodeType===8?e.parentNode:e),new Zl(t)},nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Ka(t),e=e===null?null:e.stateNode,e},nr.flushSync=function(e){return ra(e)},nr.hydrate=function(e,t,n){if(!Ki(t))throw Error(a(200));return Qi(null,e,t,!0,n)},nr.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var s=n!=null&&n.hydratedSources||null,d=!1,g="",A=Pc;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),t=Cc(t,null,e,1,n??null,d,!1,g,A),e[tn]=t.current,ds(e),s)for(e=0;e<s.length;e++)n=s[e],d=n._getVersion,d=d(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,d]:t.mutableSourceEagerHydrationData.push(n,d);return new Vi(t)},nr.render=function(e,t,n){if(!Ki(t))throw Error(a(200));return Qi(null,e,t,!1,n)},nr.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(a(40));return e._reactRootContainer?(ra(function(){Qi(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1},nr.unstable_batchedUpdates=$l,nr.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ki(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Qi(e,t,n,!1,s)},nr.version="18.3.1-next-f1338f8080-20240426",nr}var zc;function Tf(){if(zc)return eu.exports;zc=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(i){console.error(i)}}return o(),eu.exports=hm(),eu.exports}var Fc;function mm(){if(Fc)return Yi;Fc=1;var o=Tf();return Yi.createRoot=o.createRoot,Yi.hydrateRoot=o.hydrateRoot,Yi}var pm=mm();const gm=Ls(pm);class uo{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){const a={listener:i};return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const wu=typeof window>"u"||"Deno"in window;function Tr(){}function ym(o,i){return typeof o=="function"?o(i):o}function xm(o){return typeof o=="number"&&o>=0&&o!==1/0}function vm(o,i){return Math.max(o+(i||0)-Date.now(),0)}function Ji(o,i,a){return co(o)?typeof i=="function"?{...a,queryKey:o,queryFn:i}:{...i,queryKey:o}:o}function Mn(o,i,a){return co(o)?[{...i,queryKey:o},a]:[o||{},i]}function Uc(o,i){const{type:a="all",exact:u,fetchStatus:c,predicate:f,queryKey:h,stale:y}=o;if(co(h)){if(u){if(i.queryHash!==bu(h,i.options))return!1}else if(!no(i.queryKey,h))return!1}if(a!=="all"){const x=i.isActive();if(a==="active"&&!x||a==="inactive"&&x)return!1}return!(typeof y=="boolean"&&i.isStale()!==y||typeof c<"u"&&c!==i.state.fetchStatus||f&&!f(i))}function Bc(o,i){const{exact:a,fetching:u,predicate:c,mutationKey:f}=o;if(co(f)){if(!i.options.mutationKey)return!1;if(a){if(oa(i.options.mutationKey)!==oa(f))return!1}else if(!no(i.options.mutationKey,f))return!1}return!(typeof u=="boolean"&&i.state.status==="loading"!==u||c&&!c(i))}function bu(o,i){return(i?.queryKeyHashFn||oa)(o)}function oa(o){return JSON.stringify(o,(i,a)=>mu(a)?Object.keys(a).sort().reduce((u,c)=>(u[c]=a[c],u),{}):a)}function no(o,i){return Df(o,i)}function Df(o,i){return o===i?!0:typeof o!=typeof i?!1:o&&i&&typeof o=="object"&&typeof i=="object"?!Object.keys(i).some(a=>!Df(o[a],i[a])):!1}function Mf(o,i){if(o===i)return o;const a=$c(o)&&$c(i);if(a||mu(o)&&mu(i)){const u=a?o.length:Object.keys(o).length,c=a?i:Object.keys(i),f=c.length,h=a?[]:{};let y=0;for(let x=0;x<f;x++){const p=a?x:c[x];h[p]=Mf(o[p],i[p]),h[p]===o[p]&&y++}return u===f&&y===u?o:h}return i}function $c(o){return Array.isArray(o)&&o.length===Object.keys(o).length}function mu(o){if(!Wc(o))return!1;const i=o.constructor;if(typeof i>"u")return!0;const a=i.prototype;return!(!Wc(a)||!a.hasOwnProperty("isPrototypeOf"))}function Wc(o){return Object.prototype.toString.call(o)==="[object Object]"}function co(o){return Array.isArray(o)}function Lf(o){return new Promise(i=>{setTimeout(i,o)})}function qc(o){Lf(0).then(o)}function wm(){if(typeof AbortController=="function")return new AbortController}function bm(o,i,a){return a.isDataEqual!=null&&a.isDataEqual(o,i)?o:typeof a.structuralSharing=="function"?a.structuralSharing(o,i):a.structuralSharing!==!1?Mf(o,i):i}class km extends uo{constructor(){super(),this.setup=i=>{if(!wu&&window.addEventListener){const a=()=>i();return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),()=>{window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}}setEventListener(i){var a;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(u=>{typeof u=="boolean"?this.setFocused(u):this.onFocus()})}setFocused(i){this.focused!==i&&(this.focused=i,this.onFocus())}onFocus(){this.listeners.forEach(({listener:i})=>{i()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const pu=new km,Hc=["online","offline"];class Sm extends uo{constructor(){super(),this.setup=i=>{if(!wu&&window.addEventListener){const a=()=>i();return Hc.forEach(u=>{window.addEventListener(u,a,!1)}),()=>{Hc.forEach(u=>{window.removeEventListener(u,a)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}}setEventListener(i){var a;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(u=>{typeof u=="boolean"?this.setOnline(u):this.onOnline()})}setOnline(i){this.online!==i&&(this.online=i,this.onOnline())}onOnline(){this.listeners.forEach(({listener:i})=>{i()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ao=new Sm;function Nm(o){return Math.min(1e3*2**o,3e4)}function ku(o){return(o??"online")==="online"?ao.isOnline():!0}class Rf{constructor(i){this.revert=i?.revert,this.silent=i?.silent}}function nu(o){return o instanceof Rf}function Of(o){let i=!1,a=0,u=!1,c,f,h;const y=new Promise((S,v)=>{f=S,h=v}),x=S=>{u||(w(new Rf(S)),o.abort==null||o.abort())},p=()=>{i=!0},C=()=>{i=!1},_=()=>!pu.isFocused()||o.networkMode!=="always"&&!ao.isOnline(),N=S=>{u||(u=!0,o.onSuccess==null||o.onSuccess(S),c?.(),f(S))},w=S=>{u||(u=!0,o.onError==null||o.onError(S),c?.(),h(S))},I=()=>new Promise(S=>{c=v=>{const j=u||!_();return j&&S(v),j},o.onPause==null||o.onPause()}).then(()=>{c=void 0,u||o.onContinue==null||o.onContinue()}),k=()=>{if(u)return;let S;try{S=o.fn()}catch(v){S=Promise.reject(v)}Promise.resolve(S).then(N).catch(v=>{var j,D;if(u)return;const O=(j=o.retry)!=null?j:3,B=(D=o.retryDelay)!=null?D:Nm,W=typeof B=="function"?B(a,v):B,H=O===!0||typeof O=="number"&&a<O||typeof O=="function"&&O(a,v);if(i||!H){w(v);return}a++,o.onFail==null||o.onFail(a,v),Lf(W).then(()=>{if(_())return I()}).then(()=>{i?w(v):k()})})};return ku(o.networkMode)?k():I().then(k),{promise:y,cancel:x,continue:()=>c?.()?y:Promise.resolve(),cancelRetry:p,continueRetry:C}}const Su=console;function jm(){let o=[],i=0,a=C=>{C()},u=C=>{C()};const c=C=>{let _;i++;try{_=C()}finally{i--,i||y()}return _},f=C=>{i?o.push(C):qc(()=>{a(C)})},h=C=>(..._)=>{f(()=>{C(..._)})},y=()=>{const C=o;o=[],C.length&&qc(()=>{u(()=>{C.forEach(_=>{a(_)})})})};return{batch:c,batchCalls:h,schedule:f,setNotifyFunction:C=>{a=C},setBatchNotifyFunction:C=>{u=C}}}const Ht=jm();class zf{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xm(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(i){this.cacheTime=Math.max(this.cacheTime||0,i??(wu?1/0:300*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class _m extends zf{constructor(i){super(),this.abortSignalConsumed=!1,this.defaultOptions=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.cache=i.cache,this.logger=i.logger||Su,this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.initialState=i.state||Cm(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(i){this.options={...this.defaultOptions,...i},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(i,a){const u=bm(this.state.data,i,this.options);return this.dispatch({data:u,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),u}setState(i,a){this.dispatch({type:"setState",state:i,setStateOptions:a})}cancel(i){var a;const u=this.promise;return(a=this.retryer)==null||a.cancel(i),u?u.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(i=>i.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(i=>i.getCurrentResult().isStale)}isStaleByTime(i=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!vm(this.state.dataUpdatedAt,i)}onFocus(){var i;const a=this.observers.find(u=>u.shouldFetchOnWindowFocus());a&&a.refetch({cancelRefetch:!1}),(i=this.retryer)==null||i.continue()}onOnline(){var i;const a=this.observers.find(u=>u.shouldFetchOnReconnect());a&&a.refetch({cancelRefetch:!1}),(i=this.retryer)==null||i.continue()}addObserver(i){this.observers.includes(i)||(this.observers.push(i),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:i}))}removeObserver(i){this.observers.includes(i)&&(this.observers=this.observers.filter(a=>a!==i),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:i}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(i,a){var u,c;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&a!=null&&a.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var f;return(f=this.retryer)==null||f.continueRetry(),this.promise}}if(i&&this.setOptions(i),!this.options.queryFn){const w=this.observers.find(I=>I.options.queryFn);w&&this.setOptions(w.options)}const h=wm(),y={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>{if(h)return this.abortSignalConsumed=!0,h.signal}})};x(y);const p=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(y)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),C={fetchOptions:a,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:p};if(x(C),(u=this.options.behavior)==null||u.onFetch(C),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=C.fetchOptions)==null?void 0:c.meta)){var _;this.dispatch({type:"fetch",meta:(_=C.fetchOptions)==null?void 0:_.meta})}const N=w=>{if(nu(w)&&w.silent||this.dispatch({type:"error",error:w}),!nu(w)){var I,k,S,v;(I=(k=this.cache.config).onError)==null||I.call(k,w,this),(S=(v=this.cache.config).onSettled)==null||S.call(v,this.state.data,w,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Of({fn:C.fetchFn,abort:h?.abort.bind(h),onSuccess:w=>{var I,k,S,v;if(typeof w>"u"){N(new Error(this.queryHash+" data is undefined"));return}this.setData(w),(I=(k=this.cache.config).onSuccess)==null||I.call(k,w,this),(S=(v=this.cache.config).onSettled)==null||S.call(v,w,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:N,onFail:(w,I)=>{this.dispatch({type:"failed",failureCount:w,error:I})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:C.options.retry,retryDelay:C.options.retryDelay,networkMode:C.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(i){const a=u=>{var c,f;switch(i.type){case"failed":return{...u,fetchFailureCount:i.failureCount,fetchFailureReason:i.error};case"pause":return{...u,fetchStatus:"paused"};case"continue":return{...u,fetchStatus:"fetching"};case"fetch":return{...u,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(c=i.meta)!=null?c:null,fetchStatus:ku(this.options.networkMode)?"fetching":"paused",...!u.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...u,data:i.data,dataUpdateCount:u.dataUpdateCount+1,dataUpdatedAt:(f=i.dataUpdatedAt)!=null?f:Date.now(),error:null,isInvalidated:!1,status:"success",...!i.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const h=i.error;return nu(h)&&h.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...u,error:h,errorUpdateCount:u.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:u.fetchFailureCount+1,fetchFailureReason:h,fetchStatus:"idle",status:"error"};case"invalidate":return{...u,isInvalidated:!0};case"setState":return{...u,...i.state}}};this.state=a(this.state),Ht.batch(()=>{this.observers.forEach(u=>{u.onQueryUpdate(i)}),this.cache.notify({query:this,type:"updated",action:i})})}}function Cm(o){const i=typeof o.initialData=="function"?o.initialData():o.initialData,a=typeof i<"u",u=a?typeof o.initialDataUpdatedAt=="function"?o.initialDataUpdatedAt():o.initialDataUpdatedAt:0;return{data:i,dataUpdateCount:0,dataUpdatedAt:a?u??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"loading",fetchStatus:"idle"}}class Em extends uo{constructor(i){super(),this.config=i||{},this.queries=[],this.queriesMap={}}build(i,a,u){var c;const f=a.queryKey,h=(c=a.queryHash)!=null?c:bu(f,a);let y=this.get(h);return y||(y=new _m({cache:this,logger:i.getLogger(),queryKey:f,queryHash:h,options:i.defaultQueryOptions(a),state:u,defaultOptions:i.getQueryDefaults(f)}),this.add(y)),y}add(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"added",query:i}))}remove(i){const a=this.queriesMap[i.queryHash];a&&(i.destroy(),this.queries=this.queries.filter(u=>u!==i),a===i&&delete this.queriesMap[i.queryHash],this.notify({type:"removed",query:i}))}clear(){Ht.batch(()=>{this.queries.forEach(i=>{this.remove(i)})})}get(i){return this.queriesMap[i]}getAll(){return this.queries}find(i,a){const[u]=Mn(i,a);return typeof u.exact>"u"&&(u.exact=!0),this.queries.find(c=>Uc(u,c))}findAll(i,a){const[u]=Mn(i,a);return Object.keys(u).length>0?this.queries.filter(c=>Uc(u,c)):this.queries}notify(i){Ht.batch(()=>{this.listeners.forEach(({listener:a})=>{a(i)})})}onFocus(){Ht.batch(()=>{this.queries.forEach(i=>{i.onFocus()})})}onOnline(){Ht.batch(()=>{this.queries.forEach(i=>{i.onOnline()})})}}class Pm extends zf{constructor(i){super(),this.defaultOptions=i.defaultOptions,this.mutationId=i.mutationId,this.mutationCache=i.mutationCache,this.logger=i.logger||Su,this.observers=[],this.state=i.state||Im(),this.setOptions(i.options),this.scheduleGc()}setOptions(i){this.options={...this.defaultOptions,...i},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(i){this.dispatch({type:"setState",state:i})}addObserver(i){this.observers.includes(i)||(this.observers.push(i),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:i}))}removeObserver(i){this.observers=this.observers.filter(a=>a!==i),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:i})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var i,a;return(i=(a=this.retryer)==null?void 0:a.continue())!=null?i:this.execute()}async execute(){const i=()=>{var H;return this.retryer=Of({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(ie,ne)=>{this.dispatch({type:"failed",failureCount:ie,error:ne})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(H=this.options.retry)!=null?H:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},a=this.state.status==="loading";try{var u,c,f,h,y,x,p,C;if(!a){var _,N,w,I;this.dispatch({type:"loading",variables:this.options.variables}),await((_=(N=this.mutationCache.config).onMutate)==null?void 0:_.call(N,this.state.variables,this));const ie=await((w=(I=this.options).onMutate)==null?void 0:w.call(I,this.state.variables));ie!==this.state.context&&this.dispatch({type:"loading",context:ie,variables:this.state.variables})}const H=await i();return await((u=(c=this.mutationCache.config).onSuccess)==null?void 0:u.call(c,H,this.state.variables,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,H,this.state.variables,this.state.context)),await((y=(x=this.mutationCache.config).onSettled)==null?void 0:y.call(x,H,null,this.state.variables,this.state.context,this)),await((p=(C=this.options).onSettled)==null?void 0:p.call(C,H,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:H}),H}catch(H){try{var k,S,v,j,D,O,B,W;throw await((k=(S=this.mutationCache.config).onError)==null?void 0:k.call(S,H,this.state.variables,this.state.context,this)),await((v=(j=this.options).onError)==null?void 0:v.call(j,H,this.state.variables,this.state.context)),await((D=(O=this.mutationCache.config).onSettled)==null?void 0:D.call(O,void 0,H,this.state.variables,this.state.context,this)),await((B=(W=this.options).onSettled)==null?void 0:B.call(W,void 0,H,this.state.variables,this.state.context)),H}finally{this.dispatch({type:"error",error:H})}}}dispatch(i){const a=u=>{switch(i.type){case"failed":return{...u,failureCount:i.failureCount,failureReason:i.error};case"pause":return{...u,isPaused:!0};case"continue":return{...u,isPaused:!1};case"loading":return{...u,context:i.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ku(this.options.networkMode),status:"loading",variables:i.variables};case"success":return{...u,data:i.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...u,data:void 0,error:i.error,failureCount:u.failureCount+1,failureReason:i.error,isPaused:!1,status:"error"};case"setState":return{...u,...i.state}}};this.state=a(this.state),Ht.batch(()=>{this.observers.forEach(u=>{u.onMutationUpdate(i)}),this.mutationCache.notify({mutation:this,type:"updated",action:i})})}}function Im(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Am extends uo{constructor(i){super(),this.config=i||{},this.mutations=[],this.mutationId=0}build(i,a,u){const c=new Pm({mutationCache:this,logger:i.getLogger(),mutationId:++this.mutationId,options:i.defaultMutationOptions(a),state:u,defaultOptions:a.mutationKey?i.getMutationDefaults(a.mutationKey):void 0});return this.add(c),c}add(i){this.mutations.push(i),this.notify({type:"added",mutation:i})}remove(i){this.mutations=this.mutations.filter(a=>a!==i),this.notify({type:"removed",mutation:i})}clear(){Ht.batch(()=>{this.mutations.forEach(i=>{this.remove(i)})})}getAll(){return this.mutations}find(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(a=>Bc(i,a))}findAll(i){return this.mutations.filter(a=>Bc(i,a))}notify(i){Ht.batch(()=>{this.listeners.forEach(({listener:a})=>{a(i)})})}resumePausedMutations(){var i;return this.resuming=((i=this.resuming)!=null?i:Promise.resolve()).then(()=>{const a=this.mutations.filter(u=>u.state.isPaused);return Ht.batch(()=>a.reduce((u,c)=>u.then(()=>c.continue().catch(Tr)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Tm(){return{onFetch:o=>{o.fetchFn=()=>{var i,a,u,c,f,h;const y=(i=o.fetchOptions)==null||(a=i.meta)==null?void 0:a.refetchPage,x=(u=o.fetchOptions)==null||(c=u.meta)==null?void 0:c.fetchMore,p=x?.pageParam,C=x?.direction==="forward",_=x?.direction==="backward",N=((f=o.state.data)==null?void 0:f.pages)||[],w=((h=o.state.data)==null?void 0:h.pageParams)||[];let I=w,k=!1;const S=W=>{Object.defineProperty(W,"signal",{enumerable:!0,get:()=>{var H;if((H=o.signal)!=null&&H.aborted)k=!0;else{var ie;(ie=o.signal)==null||ie.addEventListener("abort",()=>{k=!0})}return o.signal}})},v=o.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+o.options.queryHash+"'")),j=(W,H,ie,ne)=>(I=ne?[H,...I]:[...I,H],ne?[ie,...W]:[...W,ie]),D=(W,H,ie,ne)=>{if(k)return Promise.reject("Cancelled");if(typeof ie>"u"&&!H&&W.length)return Promise.resolve(W);const he={queryKey:o.queryKey,pageParam:ie,meta:o.options.meta};S(he);const ge=v(he);return Promise.resolve(ge).then(X=>j(W,ie,X,ne))};let O;if(!N.length)O=D([]);else if(C){const W=typeof p<"u",H=W?p:Gc(o.options,N);O=D(N,W,H)}else if(_){const W=typeof p<"u",H=W?p:Dm(o.options,N);O=D(N,W,H,!0)}else{I=[];const W=typeof o.options.getNextPageParam>"u";O=(y&&N[0]?y(N[0],0,N):!0)?D([],W,w[0]):Promise.resolve(j([],w[0],N[0]));for(let ie=1;ie<N.length;ie++)O=O.then(ne=>{if(y&&N[ie]?y(N[ie],ie,N):!0){const ge=W?w[ie]:Gc(o.options,ne);return D(ne,W,ge)}return Promise.resolve(j(ne,w[ie],N[ie]))})}return O.then(W=>({pages:W,pageParams:I}))}}}}function Gc(o,i){return o.getNextPageParam==null?void 0:o.getNextPageParam(i[i.length-1],i)}function Dm(o,i){return o.getPreviousPageParam==null?void 0:o.getPreviousPageParam(i[0],i)}class Mm{constructor(i={}){this.queryCache=i.queryCache||new Em,this.mutationCache=i.mutationCache||new Am,this.logger=i.logger||Su,this.defaultOptions=i.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=pu.subscribe(()=>{pu.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ao.subscribe(()=>{ao.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var i,a;this.mountCount--,this.mountCount===0&&((i=this.unsubscribeFocus)==null||i.call(this),this.unsubscribeFocus=void 0,(a=this.unsubscribeOnline)==null||a.call(this),this.unsubscribeOnline=void 0)}isFetching(i,a){const[u]=Mn(i,a);return u.fetchStatus="fetching",this.queryCache.findAll(u).length}isMutating(i){return this.mutationCache.findAll({...i,fetching:!0}).length}getQueryData(i,a){var u;return(u=this.queryCache.find(i,a))==null?void 0:u.state.data}ensureQueryData(i,a,u){const c=Ji(i,a,u),f=this.getQueryData(c.queryKey);return f?Promise.resolve(f):this.fetchQuery(c)}getQueriesData(i){return this.getQueryCache().findAll(i).map(({queryKey:a,state:u})=>{const c=u.data;return[a,c]})}setQueryData(i,a,u){const c=this.queryCache.find(i),f=c?.state.data,h=ym(a,f);if(typeof h>"u")return;const y=Ji(i),x=this.defaultQueryOptions(y);return this.queryCache.build(this,x).setData(h,{...u,manual:!0})}setQueriesData(i,a,u){return Ht.batch(()=>this.getQueryCache().findAll(i).map(({queryKey:c})=>[c,this.setQueryData(c,a,u)]))}getQueryState(i,a){var u;return(u=this.queryCache.find(i,a))==null?void 0:u.state}removeQueries(i,a){const[u]=Mn(i,a),c=this.queryCache;Ht.batch(()=>{c.findAll(u).forEach(f=>{c.remove(f)})})}resetQueries(i,a,u){const[c,f]=Mn(i,a,u),h=this.queryCache,y={type:"active",...c};return Ht.batch(()=>(h.findAll(c).forEach(x=>{x.reset()}),this.refetchQueries(y,f)))}cancelQueries(i,a,u){const[c,f={}]=Mn(i,a,u);typeof f.revert>"u"&&(f.revert=!0);const h=Ht.batch(()=>this.queryCache.findAll(c).map(y=>y.cancel(f)));return Promise.all(h).then(Tr).catch(Tr)}invalidateQueries(i,a,u){const[c,f]=Mn(i,a,u);return Ht.batch(()=>{var h,y;if(this.queryCache.findAll(c).forEach(p=>{p.invalidate()}),c.refetchType==="none")return Promise.resolve();const x={...c,type:(h=(y=c.refetchType)!=null?y:c.type)!=null?h:"active"};return this.refetchQueries(x,f)})}refetchQueries(i,a,u){const[c,f]=Mn(i,a,u),h=Ht.batch(()=>this.queryCache.findAll(c).filter(x=>!x.isDisabled()).map(x=>{var p;return x.fetch(void 0,{...f,cancelRefetch:(p=f?.cancelRefetch)!=null?p:!0,meta:{refetchPage:c.refetchPage}})}));let y=Promise.all(h).then(Tr);return f!=null&&f.throwOnError||(y=y.catch(Tr)),y}fetchQuery(i,a,u){const c=Ji(i,a,u),f=this.defaultQueryOptions(c);typeof f.retry>"u"&&(f.retry=!1);const h=this.queryCache.build(this,f);return h.isStaleByTime(f.staleTime)?h.fetch(f):Promise.resolve(h.state.data)}prefetchQuery(i,a,u){return this.fetchQuery(i,a,u).then(Tr).catch(Tr)}fetchInfiniteQuery(i,a,u){const c=Ji(i,a,u);return c.behavior=Tm(),this.fetchQuery(c)}prefetchInfiniteQuery(i,a,u){return this.fetchInfiniteQuery(i,a,u).then(Tr).catch(Tr)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(i){this.defaultOptions=i}setQueryDefaults(i,a){const u=this.queryDefaults.find(c=>oa(i)===oa(c.queryKey));u?u.defaultOptions=a:this.queryDefaults.push({queryKey:i,defaultOptions:a})}getQueryDefaults(i){if(!i)return;const a=this.queryDefaults.find(u=>no(i,u.queryKey));return a?.defaultOptions}setMutationDefaults(i,a){const u=this.mutationDefaults.find(c=>oa(i)===oa(c.mutationKey));u?u.defaultOptions=a:this.mutationDefaults.push({mutationKey:i,defaultOptions:a})}getMutationDefaults(i){if(!i)return;const a=this.mutationDefaults.find(u=>no(i,u.mutationKey));return a?.defaultOptions}defaultQueryOptions(i){if(i!=null&&i._defaulted)return i;const a={...this.defaultOptions.queries,...this.getQueryDefaults(i?.queryKey),...i,_defaulted:!0};return!a.queryHash&&a.queryKey&&(a.queryHash=bu(a.queryKey,a)),typeof a.refetchOnReconnect>"u"&&(a.refetchOnReconnect=a.networkMode!=="always"),typeof a.useErrorBoundary>"u"&&(a.useErrorBoundary=!!a.suspense),a}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...this.defaultOptions.mutations,...this.getMutationDefaults(i?.mutationKey),...i,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var Vc=Tf(),au={exports:{}},su={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc;function Lm(){if(Kc)return su;Kc=1;var o=Rs();function i(_,N){return _===N&&(_!==0||1/_===1/N)||_!==_&&N!==N}var a=typeof Object.is=="function"?Object.is:i,u=o.useState,c=o.useEffect,f=o.useLayoutEffect,h=o.useDebugValue;function y(_,N){var w=N(),I=u({inst:{value:w,getSnapshot:N}}),k=I[0].inst,S=I[1];return f(function(){k.value=w,k.getSnapshot=N,x(k)&&S({inst:k})},[_,w,N]),c(function(){return x(k)&&S({inst:k}),_(function(){x(k)&&S({inst:k})})},[_]),h(w),w}function x(_){var N=_.getSnapshot;_=_.value;try{var w=N();return!a(_,w)}catch{return!0}}function p(_,N){return N()}var C=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:y;return su.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:C,su}var Qc;function Rm(){return Qc||(Qc=1,au.exports=Lm()),au.exports}const Zc=K.createContext(void 0),Om=K.createContext(!1);function zm(o,i){return o||(i&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Zc),window.ReactQueryClientContext):Zc)}const Fm=({client:o,children:i,context:a,contextSharing:u=!1})=>{K.useEffect(()=>(o.mount(),()=>{o.unmount()}),[o]);const c=zm(a,u);return K.createElement(Om.Provider,{value:!a&&u},K.createElement(c.Provider,{value:o},i))};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ts(){return Ts=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u])}return o},Ts.apply(this,arguments)}var Ln;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Ln||(Ln={}));const Xc="popstate";function Um(o){o===void 0&&(o={});function i(u,c){let{pathname:f,search:h,hash:y}=u.location;return gu("",{pathname:f,search:h,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(u,c){return typeof c=="string"?c:so(c)}return $m(i,a,null,o)}function xt(o,i){if(o===!1||o===null||typeof o>"u")throw new Error(i)}function Ff(o,i){if(!o){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Bm(){return Math.random().toString(36).substr(2,8)}function Yc(o,i){return{usr:o.state,key:o.key,idx:i}}function gu(o,i,a,u){return a===void 0&&(a=null),Ts({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof i=="string"?Ga(i):i,{state:a,key:i&&i.key||u||Bm()})}function so(o){let{pathname:i="/",search:a="",hash:u=""}=o;return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),u&&u!=="#"&&(i+=u.charAt(0)==="#"?u:"#"+u),i}function Ga(o){let i={};if(o){let a=o.indexOf("#");a>=0&&(i.hash=o.substr(a),o=o.substr(0,a));let u=o.indexOf("?");u>=0&&(i.search=o.substr(u),o=o.substr(0,u)),o&&(i.pathname=o)}return i}function $m(o,i,a,u){u===void 0&&(u={});let{window:c=document.defaultView,v5Compat:f=!1}=u,h=c.history,y=Ln.Pop,x=null,p=C();p==null&&(p=0,h.replaceState(Ts({},h.state,{idx:p}),""));function C(){return(h.state||{idx:null}).idx}function _(){y=Ln.Pop;let S=C(),v=S==null?null:S-p;p=S,x&&x({action:y,location:k.location,delta:v})}function N(S,v){y=Ln.Push;let j=gu(k.location,S,v);p=C()+1;let D=Yc(j,p),O=k.createHref(j);try{h.pushState(D,"",O)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;c.location.assign(O)}f&&x&&x({action:y,location:k.location,delta:1})}function w(S,v){y=Ln.Replace;let j=gu(k.location,S,v);p=C();let D=Yc(j,p),O=k.createHref(j);h.replaceState(D,"",O),f&&x&&x({action:y,location:k.location,delta:0})}function I(S){let v=c.location.origin!=="null"?c.location.origin:c.location.href,j=typeof S=="string"?S:so(S);return j=j.replace(/ $/,"%20"),xt(v,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,v)}let k={get action(){return y},get location(){return o(c,h)},listen(S){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(Xc,_),x=S,()=>{c.removeEventListener(Xc,_),x=null}},createHref(S){return i(c,S)},createURL:I,encodeLocation(S){let v=I(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:N,replace:w,go(S){return h.go(S)}};return k}var Jc;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(Jc||(Jc={}));function Wm(o,i,a){return a===void 0&&(a="/"),qm(o,i,a)}function qm(o,i,a,u){let c=typeof i=="string"?Ga(i):i,f=Ha(c.pathname||"/",a);if(f==null)return null;let h=Uf(o);Hm(h);let y=null;for(let x=0;y==null&&x<h.length;++x){let p=r0(f);y=e0(h[x],p)}return y}function Uf(o,i,a,u){i===void 0&&(i=[]),a===void 0&&(a=[]),u===void 0&&(u="");let c=(f,h,y)=>{let x={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};x.relativePath.startsWith("/")&&(xt(x.relativePath.startsWith(u),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+u+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(u.length));let p=Rn([u,x.relativePath]),C=a.concat(x);f.children&&f.children.length>0&&(xt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Uf(f.children,i,C,p)),!(f.path==null&&!f.index)&&i.push({path:p,score:Ym(p,f.index),routesMeta:C})};return o.forEach((f,h)=>{var y;if(f.path===""||!((y=f.path)!=null&&y.includes("?")))c(f,h);else for(let x of Bf(f.path))c(f,h,x)}),i}function Bf(o){let i=o.split("/");if(i.length===0)return[];let[a,...u]=i,c=a.endsWith("?"),f=a.replace(/\?$/,"");if(u.length===0)return c?[f,""]:[f];let h=Bf(u.join("/")),y=[];return y.push(...h.map(x=>x===""?f:[f,x].join("/"))),c&&y.push(...h),y.map(x=>o.startsWith("/")&&x===""?"/":x)}function Hm(o){o.sort((i,a)=>i.score!==a.score?a.score-i.score:Jm(i.routesMeta.map(u=>u.childrenIndex),a.routesMeta.map(u=>u.childrenIndex)))}const Gm=/^:[\w-]+$/,Vm=3,Km=2,Qm=1,Zm=10,Xm=-2,ef=o=>o==="*";function Ym(o,i){let a=o.split("/"),u=a.length;return a.some(ef)&&(u+=Xm),i&&(u+=Km),a.filter(c=>!ef(c)).reduce((c,f)=>c+(Gm.test(f)?Vm:f===""?Qm:Zm),u)}function Jm(o,i){return o.length===i.length&&o.slice(0,-1).every((u,c)=>u===i[c])?o[o.length-1]-i[i.length-1]:0}function e0(o,i,a){let{routesMeta:u}=o,c={},f="/",h=[];for(let y=0;y<u.length;++y){let x=u[y],p=y===u.length-1,C=f==="/"?i:i.slice(f.length)||"/",_=yu({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},C),N=x.route;if(!_)return null;Object.assign(c,_.params),h.push({params:c,pathname:Rn([f,_.pathname]),pathnameBase:i0(Rn([f,_.pathnameBase])),route:N}),_.pathnameBase!=="/"&&(f=Rn([f,_.pathnameBase]))}return h}function yu(o,i){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[a,u]=t0(o.path,o.caseSensitive,o.end),c=i.match(a);if(!c)return null;let f=c[0],h=f.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:u.reduce((p,C,_)=>{let{paramName:N,isOptional:w}=C;if(N==="*"){let k=y[_]||"";h=f.slice(0,f.length-k.length).replace(/(.)\/+$/,"$1")}const I=y[_];return w&&!I?p[N]=void 0:p[N]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:o}}function t0(o,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),Ff(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let u=[],c="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,y,x)=>(u.push({paramName:y,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(u.push({paramName:"*"}),c+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":o!==""&&o!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),u]}function r0(o){try{return o.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Ff(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),o}}function Ha(o,i){if(i==="/")return o;if(!o.toLowerCase().startsWith(i.toLowerCase()))return null;let a=i.endsWith("/")?i.length-1:i.length,u=o.charAt(a);return u&&u!=="/"?null:o.slice(a)||"/"}function n0(o,i){i===void 0&&(i="/");let{pathname:a,search:u="",hash:c=""}=typeof o=="string"?Ga(o):o;return{pathname:a?a.startsWith("/")?a:a0(a,i):i,search:o0(u),hash:l0(c)}}function a0(o,i){let a=i.replace(/\/+$/,"").split("/");return o.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function iu(o,i,a,u){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s0(o){return o.filter((i,a)=>a===0||i.route.path&&i.route.path.length>0)}function $f(o,i){let a=s0(o);return i?a.map((u,c)=>c===a.length-1?u.pathname:u.pathnameBase):a.map(u=>u.pathnameBase)}function Wf(o,i,a,u){u===void 0&&(u=!1);let c;typeof o=="string"?c=Ga(o):(c=Ts({},o),xt(!c.pathname||!c.pathname.includes("?"),iu("?","pathname","search",c)),xt(!c.pathname||!c.pathname.includes("#"),iu("#","pathname","hash",c)),xt(!c.search||!c.search.includes("#"),iu("#","search","hash",c)));let f=o===""||c.pathname==="",h=f?"/":c.pathname,y;if(h==null)y=a;else{let _=i.length-1;if(!u&&h.startsWith("..")){let N=h.split("/");for(;N[0]==="..";)N.shift(),_-=1;c.pathname=N.join("/")}y=_>=0?i[_]:"/"}let x=n0(c,y),p=h&&h!=="/"&&h.endsWith("/"),C=(f||h===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(p||C)&&(x.pathname+="/"),x}const Rn=o=>o.join("/").replace(/\/\/+/g,"/"),i0=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),o0=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,l0=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function u0(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const qf=["post","put","patch","delete"];new Set(qf);const d0=["get",...qf];new Set(d0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u])}return o},Ds.apply(this,arguments)}const fo=K.createContext(null),Hf=K.createContext(null),On=K.createContext(null),ho=K.createContext(null),dn=K.createContext({outlet:null,matches:[],isDataRoute:!1}),Gf=K.createContext(null);function c0(o,i){let{relative:a}=i===void 0?{}:i;Os()||xt(!1);let{basename:u,navigator:c}=K.useContext(On),{hash:f,pathname:h,search:y}=po(o,{relative:a}),x=h;return u!=="/"&&(x=h==="/"?u:Rn([u,h])),c.createHref({pathname:x,search:y,hash:f})}function Os(){return K.useContext(ho)!=null}function zs(){return Os()||xt(!1),K.useContext(ho).location}function Vf(o){K.useContext(On).static||K.useLayoutEffect(o)}function mo(){let{isDataRoute:o}=K.useContext(dn);return o?C0():f0()}function f0(){Os()||xt(!1);let o=K.useContext(fo),{basename:i,future:a,navigator:u}=K.useContext(On),{matches:c}=K.useContext(dn),{pathname:f}=zs(),h=JSON.stringify($f(c,a.v7_relativeSplatPath)),y=K.useRef(!1);return Vf(()=>{y.current=!0}),K.useCallback(function(p,C){if(C===void 0&&(C={}),!y.current)return;if(typeof p=="number"){u.go(p);return}let _=Wf(p,JSON.parse(h),f,C.relative==="path");o==null&&i!=="/"&&(_.pathname=_.pathname==="/"?i:Rn([i,_.pathname])),(C.replace?u.replace:u.push)(_,C.state,C)},[i,u,h,f,o])}const h0=K.createContext(null);function m0(o){let i=K.useContext(dn).outlet;return i&&K.createElement(h0.Provider,{value:o},i)}function p0(){let{matches:o}=K.useContext(dn),i=o[o.length-1];return i?i.params:{}}function po(o,i){let{relative:a}=i===void 0?{}:i,{future:u}=K.useContext(On),{matches:c}=K.useContext(dn),{pathname:f}=zs(),h=JSON.stringify($f(c,u.v7_relativeSplatPath));return K.useMemo(()=>Wf(o,JSON.parse(h),f,a==="path"),[o,h,f,a])}function g0(o,i){return y0(o,i)}function y0(o,i,a,u){Os()||xt(!1);let{navigator:c}=K.useContext(On),{matches:f}=K.useContext(dn),h=f[f.length-1],y=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let p=zs(),C;if(i){var _;let S=typeof i=="string"?Ga(i):i;x==="/"||(_=S.pathname)!=null&&_.startsWith(x)||xt(!1),C=S}else C=p;let N=C.pathname||"/",w=N;if(x!=="/"){let S=x.replace(/^\//,"").split("/");w="/"+N.replace(/^\//,"").split("/").slice(S.length).join("/")}let I=Wm(o,{pathname:w}),k=k0(I&&I.map(S=>Object.assign({},S,{params:Object.assign({},y,S.params),pathname:Rn([x,c.encodeLocation?c.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?x:Rn([x,c.encodeLocation?c.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),f,a,u);return i&&k?K.createElement(ho.Provider,{value:{location:Ds({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Ln.Pop}},k):k}function x0(){let o=_0(),i=u0(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),a=o instanceof Error?o.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},i),a?K.createElement("pre",{style:c},a):null,null)}const v0=K.createElement(x0,null);class w0 extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){console.error("React Router caught the following error during render",i,a)}render(){return this.state.error!==void 0?K.createElement(dn.Provider,{value:this.props.routeContext},K.createElement(Gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b0(o){let{routeContext:i,match:a,children:u}=o,c=K.useContext(fo);return c&&c.static&&c.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=a.route.id),K.createElement(dn.Provider,{value:i},u)}function k0(o,i,a,u){var c;if(i===void 0&&(i=[]),a===void 0&&(a=null),u===void 0&&(u=null),o==null){var f;if(!a)return null;if(a.errors)o=a.matches;else if((f=u)!=null&&f.v7_partialHydration&&i.length===0&&!a.initialized&&a.matches.length>0)o=a.matches;else return null}let h=o,y=(c=a)==null?void 0:c.errors;if(y!=null){let C=h.findIndex(_=>_.route.id&&y?.[_.route.id]!==void 0);C>=0||xt(!1),h=h.slice(0,Math.min(h.length,C+1))}let x=!1,p=-1;if(a&&u&&u.v7_partialHydration)for(let C=0;C<h.length;C++){let _=h[C];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=C),_.route.id){let{loaderData:N,errors:w}=a,I=_.route.loader&&N[_.route.id]===void 0&&(!w||w[_.route.id]===void 0);if(_.route.lazy||I){x=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((C,_,N)=>{let w,I=!1,k=null,S=null;a&&(w=y&&_.route.id?y[_.route.id]:void 0,k=_.route.errorElement||v0,x&&(p<0&&N===0?(E0("route-fallback"),I=!0,S=null):p===N&&(I=!0,S=_.route.hydrateFallbackElement||null)));let v=i.concat(h.slice(0,N+1)),j=()=>{let D;return w?D=k:I?D=S:_.route.Component?D=K.createElement(_.route.Component,null):_.route.element?D=_.route.element:D=C,K.createElement(b0,{match:_,routeContext:{outlet:C,matches:v,isDataRoute:a!=null},children:D})};return a&&(_.route.ErrorBoundary||_.route.errorElement||N===0)?K.createElement(w0,{location:a.location,revalidation:a.revalidation,component:k,error:w,children:j(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):j()},null)}var Kf=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(Kf||{}),Qf=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(Qf||{});function S0(o){let i=K.useContext(fo);return i||xt(!1),i}function N0(o){let i=K.useContext(Hf);return i||xt(!1),i}function j0(o){let i=K.useContext(dn);return i||xt(!1),i}function Zf(o){let i=j0(),a=i.matches[i.matches.length-1];return a.route.id||xt(!1),a.route.id}function _0(){var o;let i=K.useContext(Gf),a=N0(),u=Zf();return i!==void 0?i:(o=a.errors)==null?void 0:o[u]}function C0(){let{router:o}=S0(Kf.UseNavigateStable),i=Zf(Qf.UseNavigateStable),a=K.useRef(!1);return Vf(()=>{a.current=!0}),K.useCallback(function(c,f){f===void 0&&(f={}),a.current&&(typeof c=="number"?o.navigate(c):o.navigate(c,Ds({fromRouteId:i},f)))},[o,i])}const tf={};function E0(o,i,a){tf[o]||(tf[o]=!0)}function P0(o,i){o?.v7_startTransition,o?.v7_relativeSplatPath}function I0(o){return m0(o.context)}function Ar(o){xt(!1)}function A0(o){let{basename:i="/",children:a=null,location:u,navigationType:c=Ln.Pop,navigator:f,static:h=!1,future:y}=o;Os()&&xt(!1);let x=i.replace(/^\/*/,"/"),p=K.useMemo(()=>({basename:x,navigator:f,static:h,future:Ds({v7_relativeSplatPath:!1},y)}),[x,y,f,h]);typeof u=="string"&&(u=Ga(u));let{pathname:C="/",search:_="",hash:N="",state:w=null,key:I="default"}=u,k=K.useMemo(()=>{let S=Ha(C,x);return S==null?null:{location:{pathname:S,search:_,hash:N,state:w,key:I},navigationType:c}},[x,C,_,N,w,I,c]);return k==null?null:K.createElement(On.Provider,{value:p},K.createElement(ho.Provider,{children:a,value:k}))}function T0(o){let{children:i,location:a}=o;return g0(xu(i),a)}new Promise(()=>{});function xu(o,i){i===void 0&&(i=[]);let a=[];return K.Children.forEach(o,(u,c)=>{if(!K.isValidElement(u))return;let f=[...i,c];if(u.type===K.Fragment){a.push.apply(a,xu(u.props.children,f));return}u.type!==Ar&&xt(!1),!u.props.index||!u.props.children||xt(!1);let h={id:u.props.id||f.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(h.children=xu(u.props.children,f)),a.push(h)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function io(){return io=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u])}return o},io.apply(this,arguments)}function Xf(o,i){if(o==null)return{};var a={},u=Object.keys(o),c,f;for(f=0;f<u.length;f++)c=u[f],!(i.indexOf(c)>=0)&&(a[c]=o[c]);return a}function D0(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function M0(o,i){return o.button===0&&(!i||i==="_self")&&!D0(o)}const L0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],O0="6";try{window.__reactRouterVersion=O0}catch{}const z0=K.createContext({isTransitioning:!1}),F0="startTransition",rf=dm[F0];function U0(o){let{basename:i,children:a,future:u,window:c}=o,f=K.useRef();f.current==null&&(f.current=Um({window:c,v5Compat:!0}));let h=f.current,[y,x]=K.useState({action:h.action,location:h.location}),{v7_startTransition:p}=u||{},C=K.useCallback(_=>{p&&rf?rf(()=>x(_)):x(_)},[x,p]);return K.useLayoutEffect(()=>h.listen(C),[h,C]),K.useEffect(()=>P0(u),[u]),K.createElement(A0,{basename:i,children:a,location:y.location,navigationType:y.action,navigator:h,future:u})}const B0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Is=K.forwardRef(function(i,a){let{onClick:u,relative:c,reloadDocument:f,replace:h,state:y,target:x,to:p,preventScrollReset:C,viewTransition:_}=i,N=Xf(i,L0),{basename:w}=K.useContext(On),I,k=!1;if(typeof p=="string"&&$0.test(p)&&(I=p,B0))try{let D=new URL(window.location.href),O=p.startsWith("//")?new URL(D.protocol+p):new URL(p),B=Ha(O.pathname,w);O.origin===D.origin&&B!=null?p=B+O.search+O.hash:k=!0}catch{}let S=c0(p,{relative:c}),v=H0(p,{replace:h,state:y,target:x,preventScrollReset:C,relative:c,viewTransition:_});function j(D){u&&u(D),D.defaultPrevented||v(D)}return K.createElement("a",io({},N,{href:I||S,onClick:k||f?u:j,ref:a,target:x}))}),W0=K.forwardRef(function(i,a){let{"aria-current":u="page",caseSensitive:c=!1,className:f="",end:h=!1,style:y,to:x,viewTransition:p,children:C}=i,_=Xf(i,R0),N=po(x,{relative:_.relative}),w=zs(),I=K.useContext(Hf),{navigator:k,basename:S}=K.useContext(On),v=I!=null&&G0(N)&&p===!0,j=k.encodeLocation?k.encodeLocation(N).pathname:N.pathname,D=w.pathname,O=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;c||(D=D.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&S&&(O=Ha(O,S)||O);const B=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let W=D===j||!h&&D.startsWith(j)&&D.charAt(B)==="/",H=O!=null&&(O===j||!h&&O.startsWith(j)&&O.charAt(j.length)==="/"),ie={isActive:W,isPending:H,isTransitioning:v},ne=W?u:void 0,he;typeof f=="function"?he=f(ie):he=[f,W?"active":null,H?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let ge=typeof y=="function"?y(ie):y;return K.createElement(Is,io({},_,{"aria-current":ne,className:he,ref:a,style:ge,to:x,viewTransition:p}),typeof C=="function"?C(ie):C)});var vu;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(vu||(vu={}));var nf;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(nf||(nf={}));function q0(o){let i=K.useContext(fo);return i||xt(!1),i}function H0(o,i){let{target:a,replace:u,state:c,preventScrollReset:f,relative:h,viewTransition:y}=i===void 0?{}:i,x=mo(),p=zs(),C=po(o,{relative:h});return K.useCallback(_=>{if(M0(_,a)){_.preventDefault();let N=u!==void 0?u:so(p)===so(C);x(o,{replace:N,state:c,preventScrollReset:f,relative:h,viewTransition:y})}},[p,x,C,u,c,a,o,f,h,y])}function G0(o,i){i===void 0&&(i={});let a=K.useContext(z0);a==null&&xt(!1);let{basename:u}=q0(vu.useViewTransitionState),c=po(o,{relative:i.relative});if(!a.isTransitioning)return!1;let f=Ha(a.currentLocation.pathname,u)||a.currentLocation.pathname,h=Ha(a.nextLocation.pathname,u)||a.nextLocation.pathname;return yu(c.pathname,h)!=null||yu(c.pathname,f)!=null}const V0={},af=o=>{let i;const a=new Set,u=(C,_)=>{const N=typeof C=="function"?C(i):C;if(!Object.is(N,i)){const w=i;i=_??(typeof N!="object"||N===null)?N:Object.assign({},i,N),a.forEach(I=>I(i,w))}},c=()=>i,x={setState:u,getState:c,getInitialState:()=>p,subscribe:C=>(a.add(C),()=>a.delete(C)),destroy:()=>{(V0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},p=i=o(u,c,x);return x},K0=o=>o?af(o):af;var ou={exports:{}},lu={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf;function Q0(){if(sf)return lu;sf=1;var o=Rs(),i=Rm();function a(p,C){return p===C&&(p!==0||1/p===1/C)||p!==p&&C!==C}var u=typeof Object.is=="function"?Object.is:a,c=i.useSyncExternalStore,f=o.useRef,h=o.useEffect,y=o.useMemo,x=o.useDebugValue;return lu.useSyncExternalStoreWithSelector=function(p,C,_,N,w){var I=f(null);if(I.current===null){var k={hasValue:!1,value:null};I.current=k}else k=I.current;I=y(function(){function v(W){if(!j){if(j=!0,D=W,W=N(W),w!==void 0&&k.hasValue){var H=k.value;if(w(H,W))return O=H}return O=W}if(H=O,u(D,W))return H;var ie=N(W);return w!==void 0&&w(H,ie)?(D=W,H):(D=W,O=ie)}var j=!1,D,O,B=_===void 0?null:_;return[function(){return v(C())},B===null?void 0:function(){return v(B())}]},[C,_,N,w]);var S=c(p,I[0],I[1]);return h(function(){k.hasValue=!0,k.value=S},[S]),x(S),S},lu}var of;function Z0(){return of||(of=1,ou.exports=Q0()),ou.exports}var X0=Z0();const Y0=Ls(X0),Yf={},{useDebugValue:J0}=lo,{useSyncExternalStoreWithSelector:ep}=Y0;let lf=!1;const tp=o=>o;function rp(o,i=tp,a){(Yf?"production":void 0)!=="production"&&a&&!lf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),lf=!0);const u=ep(o.subscribe,o.getState,o.getServerState||o.getInitialState,i,a);return J0(u),u}const np=o=>{(Yf?"production":void 0)!=="production"&&typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const i=typeof o=="function"?K0(o):o,a=(u,c)=>rp(i,u,c);return Object.assign(a,i),a},go=o=>np,ap={};function sp(o,i){let a;try{a=o()}catch{return}return{getItem:c=>{var f;const h=x=>x===null?null:JSON.parse(x,void 0),y=(f=a.getItem(c))!=null?f:null;return y instanceof Promise?y.then(h):h(y)},setItem:(c,f)=>a.setItem(c,JSON.stringify(f,void 0)),removeItem:c=>a.removeItem(c)}}const Ms=o=>i=>{try{const a=o(i);return a instanceof Promise?a:{then(u){return Ms(u)(a)},catch(u){return this}}}catch(a){return{then(u){return this},catch(u){return Ms(u)(a)}}}},ip=(o,i)=>(a,u,c)=>{let f={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,v)=>({...v,...S}),...i},h=!1;const y=new Set,x=new Set;let p;try{p=f.getStorage()}catch{}if(!p)return o((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),a(...S)},u,c);const C=Ms(f.serialize),_=()=>{const S=f.partialize({...u()});let v;const j=C({state:S,version:f.version}).then(D=>p.setItem(f.name,D)).catch(D=>{v=D});if(v)throw v;return j},N=c.setState;c.setState=(S,v)=>{N(S,v),_()};const w=o((...S)=>{a(...S),_()},u,c);let I;const k=()=>{var S;if(!p)return;h=!1,y.forEach(j=>j(u()));const v=((S=f.onRehydrateStorage)==null?void 0:S.call(f,u()))||void 0;return Ms(p.getItem.bind(p))(f.name).then(j=>{if(j)return f.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==f.version){if(f.migrate)return f.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var D;return I=f.merge(j,(D=u())!=null?D:w),a(I,!0),_()}).then(()=>{v?.(I,void 0),h=!0,x.forEach(j=>j(I))}).catch(j=>{v?.(void 0,j)})};return c.persist={setOptions:S=>{f={...f,...S},S.getStorage&&(p=S.getStorage())},clearStorage:()=>{p?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>k(),hasHydrated:()=>h,onHydrate:S=>(y.add(S),()=>{y.delete(S)}),onFinishHydration:S=>(x.add(S),()=>{x.delete(S)})},k(),I||w},op=(o,i)=>(a,u,c)=>{let f={storage:sp(()=>localStorage),partialize:k=>k,version:0,merge:(k,S)=>({...S,...k}),...i},h=!1;const y=new Set,x=new Set;let p=f.storage;if(!p)return o((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),a(...k)},u,c);const C=()=>{const k=f.partialize({...u()});return p.setItem(f.name,{state:k,version:f.version})},_=c.setState;c.setState=(k,S)=>{_(k,S),C()};const N=o((...k)=>{a(...k),C()},u,c);c.getInitialState=()=>N;let w;const I=()=>{var k,S;if(!p)return;h=!1,y.forEach(j=>{var D;return j((D=u())!=null?D:N)});const v=((S=f.onRehydrateStorage)==null?void 0:S.call(f,(k=u())!=null?k:N))||void 0;return Ms(p.getItem.bind(p))(f.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==f.version){if(f.migrate)return[!0,f.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var D;const[O,B]=j;if(w=f.merge(B,(D=u())!=null?D:N),a(w,!0),O)return C()}).then(()=>{v?.(w,void 0),w=u(),h=!0,x.forEach(j=>j(w))}).catch(j=>{v?.(void 0,j)})};return c.persist={setOptions:k=>{f={...f,...k},k.storage&&(p=k.storage)},clearStorage:()=>{p?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>I(),hasHydrated:()=>h,onHydrate:k=>(y.add(k),()=>{y.delete(k)}),onFinishHydration:k=>(x.add(k),()=>{x.delete(k)})},f.skipHydration||I(),w||N},lp=(o,i)=>"getStorage"in i||"serialize"in i||"deserialize"in i?((ap?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ip(o,i)):op(o,i),yo=lp,Jf=go()(yo((o,i)=>({theme:"system",systemTheme:"light",setTheme:a=>{o({theme:a});const{systemTheme:u}=i();(a==="system"?u:a)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleTheme:()=>{const{theme:a}=i(),u=a==="light"?"dark":"light";i().setTheme(u)},initializeTheme:()=>{const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o({systemTheme:a}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",f=>{const h=f.matches?"dark":"light";o({systemTheme:h});const{theme:y}=i();y==="system"&&(h==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))});const{theme:u}=i();(u==="system"?a:u)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),{name:"theme-storage",partialize:o=>({theme:o.theme})})),zn=go()(yo((o,i)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(a,u)=>{o({isLoading:!0,error:null});try{if(a==="demo"||a===""){const c={id:"1",email:"demo@studymaster.app",username:"DemoUser",level:5,totalXp:2500,coins:150,gems:25,createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}};localStorage.setItem("authToken","demo-token"),o({user:c,isAuthenticated:!0,isLoading:!1,error:null});return}try{const c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:u})});if(!c.ok)throw new Error("Login failed");const{user:f,token:h}=await c.json();localStorage.setItem("authToken",h),o({user:f,isAuthenticated:!0,isLoading:!1,error:null})}catch{console.warn("API not available, using mock authentication");const f={id:Math.random().toString(36).substr(2,9),email:a,username:a.split("@")[0],level:1,totalXp:0,coins:100,gems:10,createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}};localStorage.setItem("authToken",`mock-token-${f.id}`),o({user:f,isAuthenticated:!0,isLoading:!1,error:null})}}catch(c){o({error:c instanceof Error?c.message:"Login failed",isLoading:!1})}},register:async(a,u,c)=>{o({isLoading:!0,error:null});try{try{const f=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,username:u,password:c})});if(!f.ok)throw new Error("Registration failed");const{user:h,token:y}=await f.json();localStorage.setItem("authToken",y),o({user:h,isAuthenticated:!0,isLoading:!1,error:null})}catch{console.warn("API not available, using mock authentication for registration");const h={id:Math.random().toString(36).substr(2,9),email:a,username:u,level:1,totalXp:0,coins:100,gems:10,createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}};localStorage.setItem("authToken",`mock-token-${h.id}`),o({user:h,isAuthenticated:!0,isLoading:!1,error:null})}}catch(f){o({error:f instanceof Error?f.message:"Registration failed",isLoading:!1})}},logout:()=>{localStorage.removeItem("authToken"),o({user:null,isAuthenticated:!1,error:null})},updateUser:a=>{const{user:u}=i();u&&o({user:{...u,...a}})},clearError:()=>{o({error:null})},initializeAuth:()=>{const a=localStorage.getItem("authToken"),{user:u,isAuthenticated:c}=i();u&&c||a&&(a==="demo-token"?o({isAuthenticated:!0,user:{id:"1",email:"demo@studymaster.app",username:"DemoUser",level:5,totalXp:2500,coins:150,gems:25,createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}}}):a.startsWith("mock-token-")?u||(localStorage.removeItem("authToken"),o({isAuthenticated:!1,user:null})):(localStorage.removeItem("authToken"),o({isAuthenticated:!1,user:null})))}}),{name:"auth-storage",partialize:o=>({user:o.user,isAuthenticated:o.isAuthenticated}),onRehydrateStorage:()=>o=>{o&&localStorage.getItem("authToken")&&!o.user&&o.initializeAuth()}})),up=({onMenuClick:o})=>{const{theme:i,toggleTheme:a}=Jf(),{user:u,logout:c}=zn();return r.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:o,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),r.jsx("div",{className:"flex-shrink-0 flex items-center ml-4 lg:ml-0",children:r.jsx("h1",{className:"text-xl font-bold text-gradient",children:"StudyMaster"})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:a,className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:i==="dark"?r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-200",children:u?.username}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["Level ",u?.level]})]}),r.jsx("button",{onClick:c,className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",title:"Logout",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})]})})})},uu=[{id:"1",name:"First Steps",description:"Complete your first study session",icon:"🎯",category:"study_milestones",requirements:[{type:"sessions_completed",value:1,operator:"gte"}],xpReward:50,coinReward:10,isSecret:!1,rarity:"common"},{id:"2",name:"Streak Master",description:"Maintain a 7-day study streak",icon:"🔥",category:"streaks",requirements:[{type:"current_streak",value:7,operator:"gte"}],xpReward:200,coinReward:50,isSecret:!1,rarity:"rare"},{id:"3",name:"Perfect Score",description:"Get 100% accuracy in a 20+ card session",icon:"💯",category:"accuracy",requirements:[{type:"session_accuracy",value:100,operator:"eq"},{type:"session_cards",value:20,operator:"gte"}],xpReward:150,coinReward:30,isSecret:!1,rarity:"rare"},{id:"4",name:"Speed Demon",description:"Complete 50 cards in under 10 minutes",icon:"⚡",category:"special",requirements:[{type:"cards_in_session",value:50,operator:"gte"},{type:"session_time",value:600,operator:"lte"}],xpReward:300,coinReward:75,isSecret:!1,rarity:"epic"},{id:"5",name:"Scholar",description:"Study 1000 cards total",icon:"📚",category:"study_milestones",requirements:[{type:"total_cards",value:1e3,operator:"gte"}],xpReward:500,coinReward:100,isSecret:!1,rarity:"epic"},{id:"6",name:"Legend",description:"Reach level 20",icon:"👑",category:"special",requirements:[{type:"user_level",value:20,operator:"gte"}],xpReward:1e3,coinReward:500,isSecret:!1,rarity:"legendary"}],du=[{id:"1",title:"Daily Grind",description:"Study 25 cards today",type:"daily",requirements:[{type:"cards_studied_today",target:25,description:"Study 25 cards"}],rewards:[{type:"xp",amount:50},{type:"coins",amount:10}],startDate:new Date().toISOString(),endDate:new Date(Date.now()+1440*60*1e3).toISOString(),isActive:!0,participantCount:1247},{id:"2",title:"Weekly Warrior",description:"Complete 200 cards this week",type:"weekly",requirements:[{type:"cards_studied_week",target:200,description:"Study 200 cards this week"}],rewards:[{type:"xp",amount:200},{type:"coins",amount:50},{type:"gems",amount:5}],startDate:new Date(Date.now()-4320*60*1e3).toISOString(),endDate:new Date(Date.now()+5760*60*1e3).toISOString(),isActive:!0,participantCount:892},{id:"3",title:"Accuracy Master",description:"Maintain 90%+ accuracy for 5 sessions",type:"weekly",requirements:[{type:"accuracy_sessions",target:5,description:"Complete 5 sessions with 90%+ accuracy"}],rewards:[{type:"xp",amount:300},{type:"coins",amount:75},{type:"badge",itemId:"accuracy_master"}],startDate:new Date(Date.now()-2880*60*1e3).toISOString(),endDate:new Date(Date.now()+7200*60*1e3).toISOString(),isActive:!0,participantCount:456}],cu={xp_weekly:{id:"xp_weekly",type:"xp",period:"weekly",entries:[{userId:"1",username:"DemoUser",score:2500,rank:1,change:0},{userId:"2",username:"StudyMaster",score:2350,rank:2,change:1},{userId:"3",username:"FlashcardPro",score:2200,rank:3,change:-1},{userId:"4",username:"LearnFast",score:2100,rank:4,change:2},{userId:"5",username:"MemoryKing",score:2050,rank:5,change:-1},{userId:"6",username:"QuizWhiz",score:1980,rank:6,change:0},{userId:"7",username:"CardShark",score:1920,rank:7,change:3},{userId:"8",username:"BrainBoost",score:1850,rank:8,change:-2},{userId:"9",username:"StudyBuddy",score:1800,rank:9,change:1},{userId:"10",username:"FlashGenius",score:1750,rank:10,change:-1}],updatedAt:new Date().toISOString()},streak_all_time:{id:"streak_all_time",type:"streak",period:"all_time",entries:[{userId:"2",username:"StudyMaster",score:45,rank:1,change:0},{userId:"3",username:"FlashcardPro",score:38,rank:2,change:0},{userId:"4",username:"LearnFast",score:32,rank:3,change:1},{userId:"1",username:"DemoUser",score:28,rank:4,change:-1},{userId:"5",username:"MemoryKing",score:25,rank:5,change:0},{userId:"6",username:"QuizWhiz",score:22,rank:6,change:2},{userId:"7",username:"CardShark",score:20,rank:7,change:-1},{userId:"8",username:"BrainBoost",score:18,rank:8,change:-1},{userId:"9",username:"StudyBuddy",score:15,rank:9,change:0},{userId:"10",username:"FlashGenius",score:12,rank:10,change:0}],updatedAt:new Date().toISOString()}},uf=o=>Math.floor(Math.sqrt(o/100))+1,df=o=>Math.pow(o,2)*100,eo=()=>({totalCards:0,cardsStudiedToday:0,cardsStudiedThisWeek:0,cardsStudiedThisMonth:0,averageAccuracy:0,totalStudyTime:0,studyTimeToday:0,studyTimeThisWeek:0,decksCreated:0,decksCompleted:0,longestStreak:0,currentStreak:0,gold:0,diamonds:0,level:1,xp:0,xpToNextLevel:100}),cf=()=>({totalCards:1250,cardsStudiedToday:45,cardsStudiedThisWeek:180,cardsStudiedThisMonth:720,averageAccuracy:87.5,totalStudyTime:2400,studyTimeToday:35,studyTimeThisWeek:240,decksCreated:8,decksCompleted:3,longestStreak:28,currentStreak:12,gold:100,diamonds:10,level:8,xp:6400,xpToNextLevel:8100}),Fs=go()(yo((o,i)=>({userStats:eo(),isFirstTimeUser:!0,isInitialized:!1,achievements:uu,userAchievements:[],userStreak:null,activeChallenges:du,userChallengeParticipations:[],leaderboards:cu,updateUserStats:a=>{o(u=>{const c={...u.userStats,...a};return a.xp!==void 0&&(c.level=uf(c.xp),c.xpToNextLevel=df(c.level)),{userStats:c,isFirstTimeUser:!1,isInitialized:!0}})},addUserAchievement:a=>{const{userAchievements:u}=i();u.find(c=>c.achievementId===a)||o(c=>({userAchievements:[...c.userAchievements,{id:Date.now().toString(),userId:"1",achievementId:a,earnedAt:new Date().toISOString()}]}))},updateStreak:a=>{o(u=>({userStreak:u.userStreak?{...u.userStreak,...a}:null}))},joinChallenge:a=>{const{userChallengeParticipations:u}=i();u.find(c=>c.challengeId===a)||o(c=>({userChallengeParticipations:[...c.userChallengeParticipations,{id:Date.now().toString(),userId:"1",challengeId:a,progress:{},completed:!1,joinedAt:new Date().toISOString(),milestoneProgress:{},weeklyProgress:[],currentStreak:0,bestWeek:0}]}))},updateChallengeProgress:(a,u)=>{o(c=>({userChallengeParticipations:c.userChallengeParticipations.map(f=>f.challengeId===a?{...f,progress:{...f.progress,...u}}:f)}))},claimChallengeReward:a=>{const{activeChallenges:u,userChallengeParticipations:c}=i(),f=u.find(y=>y.id===a),h=c.find(y=>y.challengeId===a);if(f&&h&&h.completed){let y=0,x=0;f.rewards.forEach(p=>{p.type==="xp"&&p.amount?y+=p.amount:p.type==="coins"&&p.amount&&(x+=p.amount)}),o(p=>({userStats:{...p.userStats,totalCards:p.userStats.totalCards+y/10},userChallengeParticipations:p.userChallengeParticipations.filter(C=>C.challengeId!==a)}))}},initializeMockData:()=>{o({userStats:cf(),achievements:uu,activeChallenges:du,leaderboards:cu,userAchievements:[{id:"1",userId:"1",achievementId:"1",earnedAt:new Date(Date.now()-14400*60*1e3).toISOString()},{id:"2",userId:"1",achievementId:"2",earnedAt:new Date(Date.now()-7200*60*1e3).toISOString()}],userStreak:{id:"1",userId:"1",currentStreak:12,longestStreak:28,lastStudyDate:new Date().toISOString(),freezeCount:2,createdAt:new Date(Date.now()-720*60*60*1e3).toISOString()},userChallengeParticipations:[{id:"1",userId:"1",challengeId:"1",progress:{cards_studied_today:45},completed:!0,joinedAt:new Date().toISOString(),completedAt:new Date().toISOString(),milestoneProgress:{milestone_1:!0},weeklyProgress:[],currentStreak:5,bestWeek:1},{id:"2",userId:"1",challengeId:"2",progress:{cards_studied_week:180},completed:!1,joinedAt:new Date(Date.now()-4320*60*1e3).toISOString(),milestoneProgress:{milestone_1:!0,milestone_2:!1},weeklyProgress:[{week:1,startDate:new Date(Date.now()-10080*60*1e3).toISOString(),endDate:new Date().toISOString(),progress:{cards_studied_week:180},completed:!0,completedAt:new Date().toISOString(),storyUnlocked:!0}],currentStreak:3,bestWeek:1}],isFirstTimeUser:!1,isInitialized:!0})},initializeNewUser:()=>{o({userStats:eo(),userAchievements:[],userStreak:null,userChallengeParticipations:[],isFirstTimeUser:!1,isInitialized:!0})},resetAllUserData:()=>{o({userStats:eo(),userAchievements:[],userStreak:null,userChallengeParticipations:[],isFirstTimeUser:!0,isInitialized:!0})},addCurrency:(a,u)=>{o(c=>({userStats:{...c.userStats,gold:c.userStats.gold+a,diamonds:c.userStats.diamonds+u}}))},spendCurrency:(a,u)=>{const{userStats:c}=i();return c.gold>=a&&c.diamonds>=u?(o(f=>({userStats:{...f.userStats,gold:f.userStats.gold-a,diamonds:f.userStats.diamonds-u}})),!0):!1},initializeUserData:(a=!1)=>{i().isInitialized||o(a?{userStats:cf(),achievements:uu,activeChallenges:du,leaderboards:cu,userAchievements:[{id:"1",userId:"1",achievementId:"1",earnedAt:new Date(Date.now()-14400*60*1e3).toISOString()},{id:"2",userId:"1",achievementId:"2",earnedAt:new Date(Date.now()-7200*60*1e3).toISOString()}],userStreak:{id:"1",userId:"1",currentStreak:12,longestStreak:28,lastStudyDate:new Date().toISOString(),freezeCount:2,createdAt:new Date(Date.now()-720*60*60*1e3).toISOString()},userChallengeParticipations:[{id:"1",userId:"1",challengeId:"1",progress:{cards_studied_today:45},completed:!0,joinedAt:new Date().toISOString(),completedAt:new Date().toISOString()},{id:"2",userId:"1",challengeId:"2",progress:{cards_studied_week:180},completed:!1,joinedAt:new Date(Date.now()-4320*60*1e3).toISOString()}],isFirstTimeUser:!1,isInitialized:!0}:{userStats:eo(),userAchievements:[],userStreak:null,userChallengeParticipations:[],isFirstTimeUser:!1,isInitialized:!0})},updateMilestoneProgress:(a,u,c)=>{o(f=>({userChallengeParticipations:f.userChallengeParticipations.map(h=>h.challengeId===a?{...h,milestoneProgress:{...h.milestoneProgress,[u]:c}}:h)}))},updateWeeklyProgress:(a,u)=>{o(c=>({userChallengeParticipations:c.userChallengeParticipations.map(f=>f.challengeId===a?{...f,weeklyProgress:f.weeklyProgress?[...f.weeklyProgress.filter(h=>h.week!==u.week),u]:[u]}:f)}))},updateChallengeStreak:(a,u)=>{o(c=>({userChallengeParticipations:c.userChallengeParticipations.map(f=>f.challengeId===a?{...f,currentStreak:u}:f)}))},unlockStoryChapter:(a,u)=>{o(c=>({userChallengeParticipations:c.userChallengeParticipations.map(f=>f.challengeId===a?{...f,weeklyProgress:f.weeklyProgress?.map(h=>h.week===u?{...h,storyUnlocked:!0}:h)||[]}:f)}))},claimMilestoneReward:(a,u)=>{const{activeChallenges:c}=i();c.find(h=>h.id===a)&&o(h=>({userChallengeParticipations:h.userChallengeParticipations.map(y=>y.challengeId===a?{...y,milestoneProgress:{...y.milestoneProgress,[`${u}_claimed`]:!0}}:y)}))},contributeToCommunityGoal:(a,u)=>{console.log(`Contributing ${u} to community goal ${a}`),o(c=>({userStats:{...c.userStats}}))},awardStudyXP:(a,u)=>{let c=a;c+=u;const f=Math.floor(u/10)*10;c+=f,c>0&&o(h=>{const y=h.userStats.xp+c,x=uf(y),p=df(x);return console.log(`🎉 XP Awarded: +${c} XP (${a} cards, ${u} correct, ${f} milestone bonus)`),console.log(`📊 Total XP: ${h.userStats.xp} → ${y} (Level ${h.userStats.level} → ${x})`),{userStats:{...h.userStats,xp:y,level:x,xpToNextLevel:p,totalCards:h.userStats.totalCards+a,cardsStudiedToday:h.userStats.cardsStudiedToday+a}}})}}),{name:"gamification-storage",partialize:o=>({userStats:o.userStats,userAchievements:o.userAchievements,userStreak:o.userStreak,userChallengeParticipations:o.userChallengeParticipations,isFirstTimeUser:o.isFirstTimeUser,isInitialized:o.isInitialized})})),dp=({isOpen:o,onClose:i})=>{const{userStats:a}=Fs(),u=[{name:"Home",href:"/",icon:"🏠"},{name:"Study",href:"/study",icon:"📚"},{name:"Decks",href:"/decks",icon:"📋"},{name:"Global Stats",href:"/global-stats",icon:"🌍"},{name:"Profile",href:"/profile",icon:"👤"},{name:"Leaderboard",href:"/leaderboard",icon:"🏆"},{name:"Challenges",href:"/challenges",icon:"🎯"}],c=x=>x>=1e6?`${(x/1e6).toFixed(1)}M`:x>=1e3?`${(x/1e3).toFixed(1)}K`:x.toString(),f=a.level*1e3,h=(a.level+1)*1e3,y=(a.xp-f)/(h-f)*100;return r.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transform ${o?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0`,children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h1",{className:"text-xl font-bold text-gradient",children:"StudyMaster"}),r.jsx("button",{onClick:i,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("nav",{className:"flex-1 mt-8 overflow-y-auto",children:r.jsx("div",{className:"px-4 space-y-2",children:u.map(x=>r.jsxs(W0,{to:x.href,onClick:i,className:({isActive:p})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${p?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[r.jsx("span",{className:"mr-3 text-lg",children:x.icon}),x.name]},x.name))})}),r.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"XP"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c(a.xp)})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Streak"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[a.currentStreak," ",a.currentStreak===1?"day":"days"]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,Math.max(0,y))}%`}})}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Level ",a.level," → Level ",a.level+1]}),r.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:[c(a.xp-f)," / ",c(h-f)," XP"]})]})})]})]})},cp=({isOpen:o,onClose:i,mode:a,onModeChange:u})=>{const[c,f]=K.useState(""),[h,y]=K.useState(""),[x,p]=K.useState(""),{login:C,register:_,isLoading:N,error:w}=zn(),I=async S=>{S.preventDefault();try{a==="login"?await C(c,x):await _(c,h,x),i(),f(""),y(""),p("")}catch{}},k=async()=>{try{await C("demo",""),i()}catch{}};return o?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:i}),r.jsx("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4",children:a==="login"?"Sign In":"Create Account"}),w&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:w}),r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsx("div",{children:r.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:S=>f(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})}),a==="register"&&r.jsx("div",{children:r.jsx("input",{type:"text",placeholder:"Username",value:h,onChange:S=>y(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"password",placeholder:"Password",value:x,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})}),r.jsx("button",{type:"submit",disabled:N,className:"w-full btn btn-primary",children:N?"Loading...":a==="login"?"Sign In":"Create Account"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:k,className:"w-full btn btn-secondary",disabled:N,children:"Demo Login"})}),r.jsx("div",{className:"mt-4 text-sm",children:a==="login"?r.jsxs("span",{children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>u("register"),className:"text-blue-600 hover:text-blue-500",children:"Create one"})]}):r.jsxs("span",{children:["Already have an account?"," ",r.jsx("button",{onClick:()=>u("login"),className:"text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})})]})}):null},fp=()=>{const[o,i]=K.useState(!1),[a,u]=K.useState(!1),[c,f]=K.useState("login"),{isAuthenticated:h}=zn(),y=()=>{f("login"),u(!0)},x=()=>{f("register"),u(!0)};return h?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o&&r.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>i(!1)}),r.jsx(dp,{isOpen:o,onClose:()=>i(!1)}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsx(up,{onMenuClick:()=>i(!0)}),r.jsx("main",{className:"py-6",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx(I0,{})})})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"max-w-md w-full space-y-8 p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gradient mb-4",children:"StudyMaster"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Master your learning with spaced repetition and gamification"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{onClick:y,className:"btn btn-primary btn-lg w-full",children:"Sign In"}),r.jsx("button",{onClick:x,className:"btn btn-secondary btn-lg w-full",children:"Create Account"})]})]})})}),r.jsx(cp,{isOpen:a,onClose:()=>u(!1),mode:c,onModeChange:f})]})};function As(o,i,a={type:"basic"},u=[]){return{frontContent:o,backContent:i,cardType:a,mediaRefs:u,state:"new",queue:0,due:0,ivl:0,factor:2500,reps:0,lapses:0,left:0,learningStep:0,graduationInterval:1,easyInterval:4,totalStudyTime:0,averageAnswerTime:0,flags:0,originalDue:0,originalDeck:"",xpAwarded:0,difficultyRating:3}}function to(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fu={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var ff;function hp(){return ff||(ff=1,function(o,i){(function(a){o.exports=a()})(function(){return function a(u,c,f){function h(p,C){if(!c[p]){if(!u[p]){var _=typeof to=="function"&&to;if(!C&&_)return _(p,!0);if(y)return y(p,!0);var N=new Error("Cannot find module '"+p+"'");throw N.code="MODULE_NOT_FOUND",N}var w=c[p]={exports:{}};u[p][0].call(w.exports,function(I){var k=u[p][1][I];return h(k||I)},w,w.exports,a,u,c,f)}return c[p].exports}for(var y=typeof to=="function"&&to,x=0;x<f.length;x++)h(f[x]);return h}({1:[function(a,u,c){var f=a("./utils"),h=a("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(x){for(var p,C,_,N,w,I,k,S=[],v=0,j=x.length,D=j,O=f.getTypeOf(x)!=="string";v<x.length;)D=j-v,_=O?(p=x[v++],C=v<j?x[v++]:0,v<j?x[v++]:0):(p=x.charCodeAt(v++),C=v<j?x.charCodeAt(v++):0,v<j?x.charCodeAt(v++):0),N=p>>2,w=(3&p)<<4|C>>4,I=1<D?(15&C)<<2|_>>6:64,k=2<D?63&_:64,S.push(y.charAt(N)+y.charAt(w)+y.charAt(I)+y.charAt(k));return S.join("")},c.decode=function(x){var p,C,_,N,w,I,k=0,S=0,v="data:";if(x.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var j,D=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===y.charAt(64)&&D--,x.charAt(x.length-2)===y.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(j=h.uint8array?new Uint8Array(0|D):new Array(0|D);k<x.length;)p=y.indexOf(x.charAt(k++))<<2|(N=y.indexOf(x.charAt(k++)))>>4,C=(15&N)<<4|(w=y.indexOf(x.charAt(k++)))>>2,_=(3&w)<<6|(I=y.indexOf(x.charAt(k++))),j[S++]=p,w!==64&&(j[S++]=C),I!==64&&(j[S++]=_);return j}},{"./support":30,"./utils":32}],2:[function(a,u,c){var f=a("./external"),h=a("./stream/DataWorker"),y=a("./stream/Crc32Probe"),x=a("./stream/DataLengthProbe");function p(C,_,N,w,I){this.compressedSize=C,this.uncompressedSize=_,this.crc32=N,this.compression=w,this.compressedContent=I}p.prototype={getContentWorker:function(){var C=new h(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),_=this;return C.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),C},getCompressedWorker:function(){return new h(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(C,_,N){return C.pipe(new y).pipe(new x("uncompressedSize")).pipe(_.compressWorker(N)).pipe(new x("compressedSize")).withStreamInfo("compression",_)},u.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,u,c){var f=a("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},c.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,u,c){var f=a("./utils"),h=function(){for(var y,x=[],p=0;p<256;p++){y=p;for(var C=0;C<8;C++)y=1&y?3988292384^y>>>1:y>>>1;x[p]=y}return x}();u.exports=function(y,x){return y!==void 0&&y.length?f.getTypeOf(y)!=="string"?function(p,C,_,N){var w=h,I=N+_;p^=-1;for(var k=N;k<I;k++)p=p>>>8^w[255&(p^C[k])];return-1^p}(0|x,y,y.length,0):function(p,C,_,N){var w=h,I=N+_;p^=-1;for(var k=N;k<I;k++)p=p>>>8^w[255&(p^C.charCodeAt(k))];return-1^p}(0|x,y,y.length,0):0}},{"./utils":32}],5:[function(a,u,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(a,u,c){var f=null;f=typeof Promise<"u"?Promise:a("lie"),u.exports={Promise:f}},{lie:37}],7:[function(a,u,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=a("pako"),y=a("./utils"),x=a("./stream/GenericWorker"),p=f?"uint8array":"array";function C(_,N){x.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=N,this.meta={}}c.magic="\b\0",y.inherits(C,x),C.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(p,_.data),!1)},C.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},C.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},C.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(N){_.push({data:N,meta:_.meta})}},c.compressWorker=function(_){return new C("Deflate",_)},c.uncompressWorker=function(){return new C("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,u,c){function f(w,I){var k,S="";for(k=0;k<I;k++)S+=String.fromCharCode(255&w),w>>>=8;return S}function h(w,I,k,S,v,j){var D,O,B=w.file,W=w.compression,H=j!==p.utf8encode,ie=y.transformTo("string",j(B.name)),ne=y.transformTo("string",p.utf8encode(B.name)),he=B.comment,ge=y.transformTo("string",j(he)),U=y.transformTo("string",p.utf8encode(he)),X=ne.length!==B.name.length,E=U.length!==he.length,ue="",Ee="",fe="",pe=B.dir,Z=B.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};I&&!k||(Q.crc32=w.crc32,Q.compressedSize=w.compressedSize,Q.uncompressedSize=w.uncompressedSize);var T=0;I&&(T|=8),H||!X&&!E||(T|=2048);var R=0,le=0;pe&&(R|=16),v==="UNIX"?(le=798,R|=function(se,_e){var Te=se;return se||(Te=_e?16893:33204),(65535&Te)<<16}(B.unixPermissions,pe)):(le=20,R|=function(se){return 63&(se||0)}(B.dosPermissions)),D=Z.getUTCHours(),D<<=6,D|=Z.getUTCMinutes(),D<<=5,D|=Z.getUTCSeconds()/2,O=Z.getUTCFullYear()-1980,O<<=4,O|=Z.getUTCMonth()+1,O<<=5,O|=Z.getUTCDate(),X&&(Ee=f(1,1)+f(C(ie),4)+ne,ue+="up"+f(Ee.length,2)+Ee),E&&(fe=f(1,1)+f(C(ge),4)+U,ue+="uc"+f(fe.length,2)+fe);var de="";return de+=`
\0`,de+=f(T,2),de+=W.magic,de+=f(D,2),de+=f(O,2),de+=f(Q.crc32,4),de+=f(Q.compressedSize,4),de+=f(Q.uncompressedSize,4),de+=f(ie.length,2),de+=f(ue.length,2),{fileRecord:_.LOCAL_FILE_HEADER+de+ie+ue,dirRecord:_.CENTRAL_FILE_HEADER+f(le,2)+de+f(ge.length,2)+"\0\0\0\0"+f(R,4)+f(S,4)+ie+ue+ge}}var y=a("../utils"),x=a("../stream/GenericWorker"),p=a("../utf8"),C=a("../crc32"),_=a("../signature");function N(w,I,k,S){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=k,this.encodeFileName=S,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(N,x),N.prototype.push=function(w){var I=w.meta.percent||0,k=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,x.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:k?(I+100*(k-S-1))/k:100}}))},N.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var I=this.streamFiles&&!w.file.dir;if(I){var k=h(w,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},N.prototype.closedSource=function(w){this.accumulate=!1;var I=this.streamFiles&&!w.file.dir,k=h(w,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),I)this.push({data:function(S){return _.DATA_DESCRIPTOR+f(S.crc32,4)+f(S.compressedSize,4)+f(S.uncompressedSize,4)}(w),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},N.prototype.flush=function(){for(var w=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var k=this.bytesWritten-w,S=function(v,j,D,O,B){var W=y.transformTo("string",B(O));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(v,2)+f(v,2)+f(j,4)+f(D,4)+f(W.length,2)+W}(this.dirRecords.length,k,w,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},N.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},N.prototype.registerPrevious=function(w){this._sources.push(w);var I=this;return w.on("data",function(k){I.processChunk(k)}),w.on("end",function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()}),w.on("error",function(k){I.error(k)}),this},N.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},N.prototype.error=function(w){var I=this._sources;if(!x.prototype.error.call(this,w))return!1;for(var k=0;k<I.length;k++)try{I[k].error(w)}catch{}return!0},N.prototype.lock=function(){x.prototype.lock.call(this);for(var w=this._sources,I=0;I<w.length;I++)w[I].lock()},u.exports=N},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,u,c){var f=a("../compressions"),h=a("./ZipFileWorker");c.generateWorker=function(y,x,p){var C=new h(x.streamFiles,p,x.platform,x.encodeFileName),_=0;try{y.forEach(function(N,w){_++;var I=function(j,D){var O=j||D,B=f[O];if(!B)throw new Error(O+" is not a valid compression method !");return B}(w.options.compression,x.compression),k=w.options.compressionOptions||x.compressionOptions||{},S=w.dir,v=w.date;w._compressWorker(I,k).withStreamInfo("file",{name:N,dir:S,date:v,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(C)}),C.entriesCount=_}catch(N){C.error(N)}return C}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,u,c){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new f;for(var y in this)typeof this[y]!="function"&&(h[y]=this[y]);return h}}(f.prototype=a("./object")).loadAsync=a("./load"),f.support=a("./support"),f.defaults=a("./defaults"),f.version="3.10.1",f.loadAsync=function(h,y){return new f().loadAsync(h,y)},f.external=a("./external"),u.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,u,c){var f=a("./utils"),h=a("./external"),y=a("./utf8"),x=a("./zipEntries"),p=a("./stream/Crc32Probe"),C=a("./nodejsUtils");function _(N){return new h.Promise(function(w,I){var k=N.decompressed.getContentWorker().pipe(new p);k.on("error",function(S){I(S)}).on("end",function(){k.streamInfo.crc32!==N.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}u.exports=function(N,w){var I=this;return w=f.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),C.isNode&&C.isStream(N)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",N,!0,w.optimizedBinaryString,w.base64).then(function(k){var S=new x(w);return S.load(k),S}).then(function(k){var S=[h.Promise.resolve(k)],v=k.files;if(w.checkCRC32)for(var j=0;j<v.length;j++)S.push(_(v[j]));return h.Promise.all(S)}).then(function(k){for(var S=k.shift(),v=S.files,j=0;j<v.length;j++){var D=v[j],O=D.fileNameStr,B=f.resolve(D.fileNameStr);I.file(B,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:w.createFolders}),D.dir||(I.file(B).unsafeOriginalName=O)}return S.zipComment.length&&(I.comment=S.zipComment),I})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,u,c){var f=a("../utils"),h=a("../stream/GenericWorker");function y(x,p){h.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(p)}f.inherits(y,h),y.prototype._bindStream=function(x){var p=this;(this._stream=x).pause(),x.on("data",function(C){p.push({data:C,meta:{percent:0}})}).on("error",function(C){p.isPaused?this.generatedError=C:p.error(C)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},y.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},u.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,u,c){var f=a("readable-stream").Readable;function h(y,x,p){f.call(this,x),this._helper=y;var C=this;y.on("data",function(_,N){C.push(_)||C._helper.pause(),p&&p(N)}).on("error",function(_){C.emit("error",_)}).on("end",function(){C.push(null)})}a("../utils").inherits(h,f),h.prototype._read=function(){this._helper.resume()},u.exports=h},{"../utils":32,"readable-stream":16}],14:[function(a,u,c){u.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,h);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,h)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var h=new Buffer(f);return h.fill(0),h},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(a,u,c){function f(B,W,H){var ie,ne=y.getTypeOf(W),he=y.extend(H||{},C);he.date=he.date||new Date,he.compression!==null&&(he.compression=he.compression.toUpperCase()),typeof he.unixPermissions=="string"&&(he.unixPermissions=parseInt(he.unixPermissions,8)),he.unixPermissions&&16384&he.unixPermissions&&(he.dir=!0),he.dosPermissions&&16&he.dosPermissions&&(he.dir=!0),he.dir&&(B=v(B)),he.createFolders&&(ie=S(B))&&j.call(this,ie,!0);var ge=ne==="string"&&he.binary===!1&&he.base64===!1;H&&H.binary!==void 0||(he.binary=!ge),(W instanceof _&&W.uncompressedSize===0||he.dir||!W||W.length===0)&&(he.base64=!1,he.binary=!0,W="",he.compression="STORE",ne="string");var U=null;U=W instanceof _||W instanceof x?W:I.isNode&&I.isStream(W)?new k(B,W):y.prepareContent(B,W,he.binary,he.optimizedBinaryString,he.base64);var X=new N(B,U,he);this.files[B]=X}var h=a("./utf8"),y=a("./utils"),x=a("./stream/GenericWorker"),p=a("./stream/StreamHelper"),C=a("./defaults"),_=a("./compressedObject"),N=a("./zipObject"),w=a("./generate"),I=a("./nodejsUtils"),k=a("./nodejs/NodejsStreamInputAdapter"),S=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var W=B.lastIndexOf("/");return 0<W?B.substring(0,W):""},v=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},j=function(B,W){return W=W!==void 0?W:C.createFolders,B=v(B),this.files[B]||f.call(this,B,null,{dir:!0,createFolders:W}),this.files[B]};function D(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var W,H,ie;for(W in this.files)ie=this.files[W],(H=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&B(H,ie)},filter:function(B){var W=[];return this.forEach(function(H,ie){B(H,ie)&&W.push(ie)}),W},file:function(B,W,H){if(arguments.length!==1)return B=this.root+B,f.call(this,B,W,H),this;if(D(B)){var ie=B;return this.filter(function(he,ge){return!ge.dir&&ie.test(he)})}var ne=this.files[this.root+B];return ne&&!ne.dir?ne:null},folder:function(B){if(!B)return this;if(D(B))return this.filter(function(ne,he){return he.dir&&B.test(ne)});var W=this.root+B,H=j.call(this,W),ie=this.clone();return ie.root=H.name,ie},remove:function(B){B=this.root+B;var W=this.files[B];if(W||(B.slice(-1)!=="/"&&(B+="/"),W=this.files[B]),W&&!W.dir)delete this.files[B];else for(var H=this.filter(function(ne,he){return he.name.slice(0,B.length)===B}),ie=0;ie<H.length;ie++)delete this.files[H[ie].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var W,H={};try{if((H=y.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=H.type.toLowerCase(),H.compression=H.compression.toUpperCase(),H.type==="binarystring"&&(H.type="string"),!H.type)throw new Error("No output type specified.");y.checkSupport(H.type),H.platform!=="darwin"&&H.platform!=="freebsd"&&H.platform!=="linux"&&H.platform!=="sunos"||(H.platform="UNIX"),H.platform==="win32"&&(H.platform="DOS");var ie=H.comment||this.comment||"";W=w.generateWorker(this,H,ie)}catch(ne){(W=new x("error")).error(ne)}return new p(W,H.type||"string",H.mimeType)},generateAsync:function(B,W){return this.generateInternalStream(B).accumulate(W)},generateNodeStream:function(B,W){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(W)}};u.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,u,c){u.exports=a("stream")},{stream:void 0}],17:[function(a,u,c){var f=a("./DataReader");function h(y){f.call(this,y);for(var x=0;x<this.data.length;x++)y[x]=255&y[x]}a("../utils").inherits(h,f),h.prototype.byteAt=function(y){return this.data[this.zero+y]},h.prototype.lastIndexOfSignature=function(y){for(var x=y.charCodeAt(0),p=y.charCodeAt(1),C=y.charCodeAt(2),_=y.charCodeAt(3),N=this.length-4;0<=N;--N)if(this.data[N]===x&&this.data[N+1]===p&&this.data[N+2]===C&&this.data[N+3]===_)return N-this.zero;return-1},h.prototype.readAndCheckSignature=function(y){var x=y.charCodeAt(0),p=y.charCodeAt(1),C=y.charCodeAt(2),_=y.charCodeAt(3),N=this.readData(4);return x===N[0]&&p===N[1]&&C===N[2]&&_===N[3]},h.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},u.exports=h},{"../utils":32,"./DataReader":18}],18:[function(a,u,c){var f=a("../utils");function h(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var x,p=0;for(this.checkOffset(y),x=this.index+y-1;x>=this.index;x--)p=(p<<8)+this.byteAt(x);return this.index+=y,p},readString:function(y){return f.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},u.exports=h},{"../utils":32}],19:[function(a,u,c){var f=a("./Uint8ArrayReader");function h(y){f.call(this,y)}a("../utils").inherits(h,f),h.prototype.readData=function(y){this.checkOffset(y);var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},u.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,u,c){var f=a("./DataReader");function h(y){f.call(this,y)}a("../utils").inherits(h,f),h.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},h.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},h.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},h.prototype.readData=function(y){this.checkOffset(y);var x=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},u.exports=h},{"../utils":32,"./DataReader":18}],21:[function(a,u,c){var f=a("./ArrayReader");function h(y){f.call(this,y)}a("../utils").inherits(h,f),h.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,x},u.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(a,u,c){var f=a("../utils"),h=a("../support"),y=a("./ArrayReader"),x=a("./StringReader"),p=a("./NodeBufferReader"),C=a("./Uint8ArrayReader");u.exports=function(_){var N=f.getTypeOf(_);return f.checkSupport(N),N!=="string"||h.uint8array?N==="nodebuffer"?new p(_):h.uint8array?new C(f.transformTo("uint8array",_)):new y(f.transformTo("array",_)):new x(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,u,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,u,c){var f=a("./GenericWorker"),h=a("../utils");function y(x){f.call(this,"ConvertWorker to "+x),this.destType=x}h.inherits(y,f),y.prototype.processChunk=function(x){this.push({data:h.transformTo(this.destType,x.data),meta:x.meta})},u.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(a,u,c){var f=a("./GenericWorker"),h=a("../crc32");function y(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(y,f),y.prototype.processChunk=function(x){this.streamInfo.crc32=h(x.data,this.streamInfo.crc32||0),this.push(x)},u.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,u,c){var f=a("../utils"),h=a("./GenericWorker");function y(x){h.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}f.inherits(y,h),y.prototype.processChunk=function(x){if(x){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+x.data.length}h.prototype.processChunk.call(this,x)},u.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(a,u,c){var f=a("../utils"),h=a("./GenericWorker");function y(x){h.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(C){p.dataIsReady=!0,p.data=C,p.max=C&&C.length||0,p.type=f.getTypeOf(C),p.isPaused||p._tickAndRepeat()},function(C){p.error(C)})}f.inherits(y,h),y.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,p);break;case"uint8array":x=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":x=this.data.slice(this.index,p)}return this.index=p,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},u.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(a,u,c){function f(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,y){return this._listeners[h].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,y){if(this._listeners[h])for(var x=0;x<this._listeners[h].length;x++)this._listeners[h][x].call(this,y)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var y=this;return h.on("data",function(x){y.processChunk(x)}),h.on("end",function(){y.end()}),h.on("error",function(x){y.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,y){return this.extraStreamInfo[h]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},u.exports=f},{}],29:[function(a,u,c){var f=a("../utils"),h=a("./ConvertWorker"),y=a("./GenericWorker"),x=a("../base64"),p=a("../support"),C=a("../external"),_=null;if(p.nodestream)try{_=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function N(I,k){return new C.Promise(function(S,v){var j=[],D=I._internalType,O=I._outputType,B=I._mimeType;I.on("data",function(W,H){j.push(W),k&&k(H)}).on("error",function(W){j=[],v(W)}).on("end",function(){try{var W=function(H,ie,ne){switch(H){case"blob":return f.newBlob(f.transformTo("arraybuffer",ie),ne);case"base64":return x.encode(ie);default:return f.transformTo(H,ie)}}(O,function(H,ie){var ne,he=0,ge=null,U=0;for(ne=0;ne<ie.length;ne++)U+=ie[ne].length;switch(H){case"string":return ie.join("");case"array":return Array.prototype.concat.apply([],ie);case"uint8array":for(ge=new Uint8Array(U),ne=0;ne<ie.length;ne++)ge.set(ie[ne],he),he+=ie[ne].length;return ge;case"nodebuffer":return Buffer.concat(ie);default:throw new Error("concat : unsupported type '"+H+"'")}}(D,j),B);S(W)}catch(H){v(H)}j=[]}).resume()})}function w(I,k,S){var v=k;switch(k){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=k,this._mimeType=S,f.checkSupport(v),this._worker=I.pipe(new h(v)),I.lock()}catch(j){this._worker=new y("error"),this._worker.error(j)}}w.prototype={accumulate:function(I){return N(this,I)},on:function(I,k){var S=this;return I==="data"?this._worker.on(I,function(v){k.call(S,v.data,v.meta)}):this._worker.on(I,function(){f.delay(k,arguments,S)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},I)}},u.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,u,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var f=new ArrayBuffer(0);try{c.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(f),c.blob=h.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!a("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(a,u,c){for(var f=a("./utils"),h=a("./support"),y=a("./nodejsUtils"),x=a("./stream/GenericWorker"),p=new Array(256),C=0;C<256;C++)p[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;p[254]=p[254]=1;function _(){x.call(this,"utf-8 decode"),this.leftOver=null}function N(){x.call(this,"utf-8 encode")}c.utf8encode=function(w){return h.nodebuffer?y.newBufferFrom(w,"utf-8"):function(I){var k,S,v,j,D,O=I.length,B=0;for(j=0;j<O;j++)(64512&(S=I.charCodeAt(j)))==55296&&j+1<O&&(64512&(v=I.charCodeAt(j+1)))==56320&&(S=65536+(S-55296<<10)+(v-56320),j++),B+=S<128?1:S<2048?2:S<65536?3:4;for(k=h.uint8array?new Uint8Array(B):new Array(B),j=D=0;D<B;j++)(64512&(S=I.charCodeAt(j)))==55296&&j+1<O&&(64512&(v=I.charCodeAt(j+1)))==56320&&(S=65536+(S-55296<<10)+(v-56320),j++),S<128?k[D++]=S:(S<2048?k[D++]=192|S>>>6:(S<65536?k[D++]=224|S>>>12:(k[D++]=240|S>>>18,k[D++]=128|S>>>12&63),k[D++]=128|S>>>6&63),k[D++]=128|63&S);return k}(w)},c.utf8decode=function(w){return h.nodebuffer?f.transformTo("nodebuffer",w).toString("utf-8"):function(I){var k,S,v,j,D=I.length,O=new Array(2*D);for(k=S=0;k<D;)if((v=I[k++])<128)O[S++]=v;else if(4<(j=p[v]))O[S++]=65533,k+=j-1;else{for(v&=j===2?31:j===3?15:7;1<j&&k<D;)v=v<<6|63&I[k++],j--;1<j?O[S++]=65533:v<65536?O[S++]=v:(v-=65536,O[S++]=55296|v>>10&1023,O[S++]=56320|1023&v)}return O.length!==S&&(O.subarray?O=O.subarray(0,S):O.length=S),f.applyFromCharCode(O)}(w=f.transformTo(h.uint8array?"uint8array":"array",w))},f.inherits(_,x),_.prototype.processChunk=function(w){var I=f.transformTo(h.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var k=I;(I=new Uint8Array(k.length+this.leftOver.length)).set(this.leftOver,0),I.set(k,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var S=function(j,D){var O;for((D=D||j.length)>j.length&&(D=j.length),O=D-1;0<=O&&(192&j[O])==128;)O--;return O<0||O===0?D:O+p[j[O]]>D?O:D}(I),v=I;S!==I.length&&(h.uint8array?(v=I.subarray(0,S),this.leftOver=I.subarray(S,I.length)):(v=I.slice(0,S),this.leftOver=I.slice(S,I.length))),this.push({data:c.utf8decode(v),meta:w.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=_,f.inherits(N,x),N.prototype.processChunk=function(w){this.push({data:c.utf8encode(w.data),meta:w.meta})},c.Utf8EncodeWorker=N},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,u,c){var f=a("./support"),h=a("./base64"),y=a("./nodejsUtils"),x=a("./external");function p(k){return k}function C(k,S){for(var v=0;v<k.length;++v)S[v]=255&k.charCodeAt(v);return S}a("setimmediate"),c.newBlob=function(k,S){c.checkSupport("blob");try{return new Blob([k],{type:S})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(k),v.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(k,S,v){var j=[],D=0,O=k.length;if(O<=v)return String.fromCharCode.apply(null,k);for(;D<O;)S==="array"||S==="nodebuffer"?j.push(String.fromCharCode.apply(null,k.slice(D,Math.min(D+v,O)))):j.push(String.fromCharCode.apply(null,k.subarray(D,Math.min(D+v,O)))),D+=v;return j.join("")},stringifyByChar:function(k){for(var S="",v=0;v<k.length;v++)S+=String.fromCharCode(k[v]);return S},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function N(k){var S=65536,v=c.getTypeOf(k),j=!0;if(v==="uint8array"?j=_.applyCanBeUsed.uint8array:v==="nodebuffer"&&(j=_.applyCanBeUsed.nodebuffer),j)for(;1<S;)try{return _.stringifyByChunk(k,v,S)}catch{S=Math.floor(S/2)}return _.stringifyByChar(k)}function w(k,S){for(var v=0;v<k.length;v++)S[v]=k[v];return S}c.applyFromCharCode=N;var I={};I.string={string:p,array:function(k){return C(k,new Array(k.length))},arraybuffer:function(k){return I.string.uint8array(k).buffer},uint8array:function(k){return C(k,new Uint8Array(k.length))},nodebuffer:function(k){return C(k,y.allocBuffer(k.length))}},I.array={string:N,array:p,arraybuffer:function(k){return new Uint8Array(k).buffer},uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return y.newBufferFrom(k)}},I.arraybuffer={string:function(k){return N(new Uint8Array(k))},array:function(k){return w(new Uint8Array(k),new Array(k.byteLength))},arraybuffer:p,uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return y.newBufferFrom(new Uint8Array(k))}},I.uint8array={string:N,array:function(k){return w(k,new Array(k.length))},arraybuffer:function(k){return k.buffer},uint8array:p,nodebuffer:function(k){return y.newBufferFrom(k)}},I.nodebuffer={string:N,array:function(k){return w(k,new Array(k.length))},arraybuffer:function(k){return I.nodebuffer.uint8array(k).buffer},uint8array:function(k){return w(k,new Uint8Array(k.length))},nodebuffer:p},c.transformTo=function(k,S){if(S=S||"",!k)return S;c.checkSupport(k);var v=c.getTypeOf(S);return I[v][k](S)},c.resolve=function(k){for(var S=k.split("/"),v=[],j=0;j<S.length;j++){var D=S[j];D==="."||D===""&&j!==0&&j!==S.length-1||(D===".."?v.pop():v.push(D))}return v.join("/")},c.getTypeOf=function(k){return typeof k=="string"?"string":Object.prototype.toString.call(k)==="[object Array]"?"array":f.nodebuffer&&y.isBuffer(k)?"nodebuffer":f.uint8array&&k instanceof Uint8Array?"uint8array":f.arraybuffer&&k instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(k){if(!f[k.toLowerCase()])throw new Error(k+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(k){var S,v,j="";for(v=0;v<(k||"").length;v++)j+="\\x"+((S=k.charCodeAt(v))<16?"0":"")+S.toString(16).toUpperCase();return j},c.delay=function(k,S,v){setImmediate(function(){k.apply(v||null,S||[])})},c.inherits=function(k,S){function v(){}v.prototype=S.prototype,k.prototype=new v},c.extend=function(){var k,S,v={};for(k=0;k<arguments.length;k++)for(S in arguments[k])Object.prototype.hasOwnProperty.call(arguments[k],S)&&v[S]===void 0&&(v[S]=arguments[k][S]);return v},c.prepareContent=function(k,S,v,j,D){return x.Promise.resolve(S).then(function(O){return f.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new x.Promise(function(B,W){var H=new FileReader;H.onload=function(ie){B(ie.target.result)},H.onerror=function(ie){W(ie.target.error)},H.readAsArrayBuffer(O)}):O}).then(function(O){var B=c.getTypeOf(O);return B?(B==="arraybuffer"?O=c.transformTo("uint8array",O):B==="string"&&(D?O=h.decode(O):v&&j!==!0&&(O=function(W){return C(W,f.uint8array?new Uint8Array(W.length):new Array(W.length))}(O))),O):x.Promise.reject(new Error("Can't read the data of '"+k+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,u,c){var f=a("./reader/readerFor"),h=a("./utils"),y=a("./signature"),x=a("./zipEntry"),p=a("./support");function C(_){this.files=[],this.loadOptions=_}C.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var N=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(N)+", expected "+h.pretty(_)+")")}},isSignature:function(_,N){var w=this.reader.index;this.reader.setIndex(_);var I=this.reader.readString(4)===N;return this.reader.setIndex(w),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),N=p.uint8array?"uint8array":"array",w=h.transformTo(N,_);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,N,w,I=this.zip64EndOfCentralSize-44;0<I;)_=this.reader.readInt(2),N=this.reader.readInt(4),w=this.reader.readData(N),this.zip64ExtensibleData[_]={id:_,length:N,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,N;for(_=0;_<this.files.length;_++)N=this.files[_],this.reader.setIndex(N.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),N.readLocalPart(this.reader),N.handleUTF8(),N.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(_=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var N=_;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var I=N-w;if(0<I)this.isSignature(N,y.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(_){this.reader=f(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},u.exports=C},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,u,c){var f=a("./reader/readerFor"),h=a("./utils"),y=a("./compressedObject"),x=a("./crc32"),p=a("./utf8"),C=a("./compressions"),_=a("./support");function N(w,I){this.options=w,this.loadOptions=I}N.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var I,k;if(w.skip(22),this.fileNameLength=w.readInt(2),k=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(k),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((I=function(S){for(var v in C)if(Object.prototype.hasOwnProperty.call(C,v)&&C[v].magic===S)return C[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,I,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var I=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(I),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=f(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var I,k,S,v=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<v;)I=w.readInt(2),k=w.readInt(2),S=w.readData(k),this.extraFields[I]={id:I,length:k,value:S};w.setIndex(v)},handleUTF8:function(){var w=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(I!==null)this.fileNameStr=I;else{var k=h.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(k)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var v=h.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var I=f(w.value);return I.readInt(1)!==1||x(this.fileName)!==I.readInt(4)?null:p.utf8decode(I.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var I=f(w.value);return I.readInt(1)!==1||x(this.fileComment)!==I.readInt(4)?null:p.utf8decode(I.readData(w.length-5))}return null}},u.exports=N},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,u,c){function f(I,k,S){this.name=I,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=k,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var h=a("./stream/StreamHelper"),y=a("./stream/DataWorker"),x=a("./utf8"),p=a("./compressedObject"),C=a("./stream/GenericWorker");f.prototype={internalStream:function(I){var k=null,S="string";try{if(!I)throw new Error("No output type specified.");var v=(S=I.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),k=this._decompressWorker();var j=!this._dataBinary;j&&!v&&(k=k.pipe(new x.Utf8EncodeWorker)),!j&&v&&(k=k.pipe(new x.Utf8DecodeWorker))}catch(D){(k=new C("error")).error(D)}return new h(k,S,"")},async:function(I,k){return this.internalStream(I).accumulate(k)},nodeStream:function(I,k){return this.internalStream(I||"nodebuffer").toNodejsStream(k)},_compressWorker:function(I,k){if(this._data instanceof p&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new x.Utf8EncodeWorker)),p.createWorkerFrom(S,I,k)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof C?this._data:new y(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],N=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<_.length;w++)f.prototype[_[w]]=N;u.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,u,c){(function(f){var h,y,x=f.MutationObserver||f.WebKitMutationObserver;if(x){var p=0,C=new x(I),_=f.document.createTextNode("");C.observe(_,{characterData:!0}),h=function(){_.data=p=++p%2}}else if(f.setImmediate||f.MessageChannel===void 0)h="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var k=f.document.createElement("script");k.onreadystatechange=function(){I(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},f.document.documentElement.appendChild(k)}:function(){setTimeout(I,0)};else{var N=new f.MessageChannel;N.port1.onmessage=I,h=function(){N.port2.postMessage(0)}}var w=[];function I(){var k,S;y=!0;for(var v=w.length;v;){for(S=w,w=[],k=-1;++k<v;)S[k]();v=w.length}y=!1}u.exports=function(k){w.push(k)!==1||y||h()}}).call(this,typeof Xi<"u"?Xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,u,c){var f=a("immediate");function h(){}var y={},x=["REJECTED"],p=["FULFILLED"],C=["PENDING"];function _(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=C,this.queue=[],this.outcome=void 0,v!==h&&k(this,v)}function N(v,j,D){this.promise=v,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function w(v,j,D){f(function(){var O;try{O=j(D)}catch(B){return y.reject(v,B)}O===v?y.reject(v,new TypeError("Cannot resolve promise with itself")):y.resolve(v,O)})}function I(v){var j=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof j=="function")return function(){j.apply(v,arguments)}}function k(v,j){var D=!1;function O(H){D||(D=!0,y.reject(v,H))}function B(H){D||(D=!0,y.resolve(v,H))}var W=S(function(){j(B,O)});W.status==="error"&&O(W.value)}function S(v,j){var D={};try{D.value=v(j),D.status="success"}catch(O){D.status="error",D.value=O}return D}(u.exports=_).prototype.finally=function(v){if(typeof v!="function")return this;var j=this.constructor;return this.then(function(D){return j.resolve(v()).then(function(){return D})},function(D){return j.resolve(v()).then(function(){throw D})})},_.prototype.catch=function(v){return this.then(null,v)},_.prototype.then=function(v,j){if(typeof v!="function"&&this.state===p||typeof j!="function"&&this.state===x)return this;var D=new this.constructor(h);return this.state!==C?w(D,this.state===p?v:j,this.outcome):this.queue.push(new N(D,v,j)),D},N.prototype.callFulfilled=function(v){y.resolve(this.promise,v)},N.prototype.otherCallFulfilled=function(v){w(this.promise,this.onFulfilled,v)},N.prototype.callRejected=function(v){y.reject(this.promise,v)},N.prototype.otherCallRejected=function(v){w(this.promise,this.onRejected,v)},y.resolve=function(v,j){var D=S(I,j);if(D.status==="error")return y.reject(v,D.value);var O=D.value;if(O)k(v,O);else{v.state=p,v.outcome=j;for(var B=-1,W=v.queue.length;++B<W;)v.queue[B].callFulfilled(j)}return v},y.reject=function(v,j){v.state=x,v.outcome=j;for(var D=-1,O=v.queue.length;++D<O;)v.queue[D].callRejected(j);return v},_.resolve=function(v){return v instanceof this?v:y.resolve(new this(h),v)},_.reject=function(v){var j=new this(h);return y.reject(j,v)},_.all=function(v){var j=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=v.length,O=!1;if(!D)return this.resolve([]);for(var B=new Array(D),W=0,H=-1,ie=new this(h);++H<D;)ne(v[H],H);return ie;function ne(he,ge){j.resolve(he).then(function(U){B[ge]=U,++W!==D||O||(O=!0,y.resolve(ie,B))},function(U){O||(O=!0,y.reject(ie,U))})}},_.race=function(v){var j=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=v.length,O=!1;if(!D)return this.resolve([]);for(var B=-1,W=new this(h);++B<D;)H=v[B],j.resolve(H).then(function(ie){O||(O=!0,y.resolve(W,ie))},function(ie){O||(O=!0,y.reject(W,ie))});var H;return W}},{immediate:36}],38:[function(a,u,c){var f={};(0,a("./lib/utils/common").assign)(f,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),u.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,u,c){var f=a("./zlib/deflate"),h=a("./utils/common"),y=a("./utils/strings"),x=a("./zlib/messages"),p=a("./zlib/zstream"),C=Object.prototype.toString,_=0,N=-1,w=0,I=8;function k(v){if(!(this instanceof k))return new k(v);this.options=h.assign({level:N,method:I,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},v||{});var j=this.options;j.raw&&0<j.windowBits?j.windowBits=-j.windowBits:j.gzip&&0<j.windowBits&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var D=f.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(D!==_)throw new Error(x[D]);if(j.header&&f.deflateSetHeader(this.strm,j.header),j.dictionary){var O;if(O=typeof j.dictionary=="string"?y.string2buf(j.dictionary):C.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(D=f.deflateSetDictionary(this.strm,O))!==_)throw new Error(x[D]);this._dict_set=!0}}function S(v,j){var D=new k(j);if(D.push(v,!0),D.err)throw D.msg||x[D.err];return D.result}k.prototype.push=function(v,j){var D,O,B=this.strm,W=this.options.chunkSize;if(this.ended)return!1;O=j===~~j?j:j===!0?4:0,typeof v=="string"?B.input=y.string2buf(v):C.call(v)==="[object ArrayBuffer]"?B.input=new Uint8Array(v):B.input=v,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new h.Buf8(W),B.next_out=0,B.avail_out=W),(D=f.deflate(B,O))!==1&&D!==_)return this.onEnd(D),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(h.shrinkBuf(B.output,B.next_out))):this.onData(h.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&D!==1);return O===4?(D=f.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===_):O!==2||(this.onEnd(_),!(B.avail_out=0))},k.prototype.onData=function(v){this.chunks.push(v)},k.prototype.onEnd=function(v){v===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},c.Deflate=k,c.deflate=S,c.deflateRaw=function(v,j){return(j=j||{}).raw=!0,S(v,j)},c.gzip=function(v,j){return(j=j||{}).gzip=!0,S(v,j)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,u,c){var f=a("./zlib/inflate"),h=a("./utils/common"),y=a("./utils/strings"),x=a("./zlib/constants"),p=a("./zlib/messages"),C=a("./zlib/zstream"),_=a("./zlib/gzheader"),N=Object.prototype.toString;function w(k){if(!(this instanceof w))return new w(k);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},k||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||k&&k.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var v=f.inflateInit2(this.strm,S.windowBits);if(v!==x.Z_OK)throw new Error(p[v]);this.header=new _,f.inflateGetHeader(this.strm,this.header)}function I(k,S){var v=new w(S);if(v.push(k,!0),v.err)throw v.msg||p[v.err];return v.result}w.prototype.push=function(k,S){var v,j,D,O,B,W,H=this.strm,ie=this.options.chunkSize,ne=this.options.dictionary,he=!1;if(this.ended)return!1;j=S===~~S?S:S===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof k=="string"?H.input=y.binstring2buf(k):N.call(k)==="[object ArrayBuffer]"?H.input=new Uint8Array(k):H.input=k,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new h.Buf8(ie),H.next_out=0,H.avail_out=ie),(v=f.inflate(H,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&ne&&(W=typeof ne=="string"?y.string2buf(ne):N.call(ne)==="[object ArrayBuffer]"?new Uint8Array(ne):ne,v=f.inflateSetDictionary(this.strm,W)),v===x.Z_BUF_ERROR&&he===!0&&(v=x.Z_OK,he=!1),v!==x.Z_STREAM_END&&v!==x.Z_OK)return this.onEnd(v),!(this.ended=!0);H.next_out&&(H.avail_out!==0&&v!==x.Z_STREAM_END&&(H.avail_in!==0||j!==x.Z_FINISH&&j!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=y.utf8border(H.output,H.next_out),O=H.next_out-D,B=y.buf2string(H.output,D),H.next_out=O,H.avail_out=ie-O,O&&h.arraySet(H.output,H.output,D,O,0),this.onData(B)):this.onData(h.shrinkBuf(H.output,H.next_out)))),H.avail_in===0&&H.avail_out===0&&(he=!0)}while((0<H.avail_in||H.avail_out===0)&&v!==x.Z_STREAM_END);return v===x.Z_STREAM_END&&(j=x.Z_FINISH),j===x.Z_FINISH?(v=f.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===x.Z_OK):j!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(H.avail_out=0))},w.prototype.onData=function(k){this.chunks.push(k)},w.prototype.onEnd=function(k){k===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},c.Inflate=w,c.inflate=I,c.inflateRaw=function(k,S){return(S=S||{}).raw=!0,I(k,S)},c.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,u,c){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(x){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var C=p.shift();if(C){if(typeof C!="object")throw new TypeError(C+"must be non-object");for(var _ in C)C.hasOwnProperty(_)&&(x[_]=C[_])}}return x},c.shrinkBuf=function(x,p){return x.length===p?x:x.subarray?x.subarray(0,p):(x.length=p,x)};var h={arraySet:function(x,p,C,_,N){if(p.subarray&&x.subarray)x.set(p.subarray(C,C+_),N);else for(var w=0;w<_;w++)x[N+w]=p[C+w]},flattenChunks:function(x){var p,C,_,N,w,I;for(p=_=0,C=x.length;p<C;p++)_+=x[p].length;for(I=new Uint8Array(_),p=N=0,C=x.length;p<C;p++)w=x[p],I.set(w,N),N+=w.length;return I}},y={arraySet:function(x,p,C,_,N){for(var w=0;w<_;w++)x[N+w]=p[C+w]},flattenChunks:function(x){return[].concat.apply([],x)}};c.setTyped=function(x){x?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,h)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,y))},c.setTyped(f)},{}],42:[function(a,u,c){var f=a("./common"),h=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var x=new f.Buf8(256),p=0;p<256;p++)x[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function C(_,N){if(N<65537&&(_.subarray&&y||!_.subarray&&h))return String.fromCharCode.apply(null,f.shrinkBuf(_,N));for(var w="",I=0;I<N;I++)w+=String.fromCharCode(_[I]);return w}x[254]=x[254]=1,c.string2buf=function(_){var N,w,I,k,S,v=_.length,j=0;for(k=0;k<v;k++)(64512&(w=_.charCodeAt(k)))==55296&&k+1<v&&(64512&(I=_.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(I-56320),k++),j+=w<128?1:w<2048?2:w<65536?3:4;for(N=new f.Buf8(j),k=S=0;S<j;k++)(64512&(w=_.charCodeAt(k)))==55296&&k+1<v&&(64512&(I=_.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(I-56320),k++),w<128?N[S++]=w:(w<2048?N[S++]=192|w>>>6:(w<65536?N[S++]=224|w>>>12:(N[S++]=240|w>>>18,N[S++]=128|w>>>12&63),N[S++]=128|w>>>6&63),N[S++]=128|63&w);return N},c.buf2binstring=function(_){return C(_,_.length)},c.binstring2buf=function(_){for(var N=new f.Buf8(_.length),w=0,I=N.length;w<I;w++)N[w]=_.charCodeAt(w);return N},c.buf2string=function(_,N){var w,I,k,S,v=N||_.length,j=new Array(2*v);for(w=I=0;w<v;)if((k=_[w++])<128)j[I++]=k;else if(4<(S=x[k]))j[I++]=65533,w+=S-1;else{for(k&=S===2?31:S===3?15:7;1<S&&w<v;)k=k<<6|63&_[w++],S--;1<S?j[I++]=65533:k<65536?j[I++]=k:(k-=65536,j[I++]=55296|k>>10&1023,j[I++]=56320|1023&k)}return C(j,I)},c.utf8border=function(_,N){var w;for((N=N||_.length)>_.length&&(N=_.length),w=N-1;0<=w&&(192&_[w])==128;)w--;return w<0||w===0?N:w+x[_[w]]>N?w:N}},{"./common":41}],43:[function(a,u,c){u.exports=function(f,h,y,x){for(var p=65535&f|0,C=f>>>16&65535|0,_=0;y!==0;){for(y-=_=2e3<y?2e3:y;C=C+(p=p+h[x++]|0)|0,--_;);p%=65521,C%=65521}return p|C<<16|0}},{}],44:[function(a,u,c){u.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,u,c){var f=function(){for(var h,y=[],x=0;x<256;x++){h=x;for(var p=0;p<8;p++)h=1&h?3988292384^h>>>1:h>>>1;y[x]=h}return y}();u.exports=function(h,y,x,p){var C=f,_=p+x;h^=-1;for(var N=p;N<_;N++)h=h>>>8^C[255&(h^y[N])];return-1^h}},{}],46:[function(a,u,c){var f,h=a("../utils/common"),y=a("./trees"),x=a("./adler32"),p=a("./crc32"),C=a("./messages"),_=0,N=4,w=0,I=-2,k=-1,S=4,v=2,j=8,D=9,O=286,B=30,W=19,H=2*O+1,ie=15,ne=3,he=258,ge=he+ne+1,U=42,X=113,E=1,ue=2,Ee=3,fe=4;function pe(b,ce){return b.msg=C[ce],ce}function Z(b){return(b<<1)-(4<b?9:0)}function Q(b){for(var ce=b.length;0<=--ce;)b[ce]=0}function T(b){var ce=b.state,J=ce.pending;J>b.avail_out&&(J=b.avail_out),J!==0&&(h.arraySet(b.output,ce.pending_buf,ce.pending_out,J,b.next_out),b.next_out+=J,ce.pending_out+=J,b.total_out+=J,b.avail_out-=J,ce.pending-=J,ce.pending===0&&(ce.pending_out=0))}function R(b,ce){y._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,ce),b.block_start=b.strstart,T(b.strm)}function le(b,ce){b.pending_buf[b.pending++]=ce}function de(b,ce){b.pending_buf[b.pending++]=ce>>>8&255,b.pending_buf[b.pending++]=255&ce}function se(b,ce){var J,z,L=b.max_chain_length,V=b.strstart,ye=b.prev_length,xe=b.nice_match,re=b.strstart>b.w_size-ge?b.strstart-(b.w_size-ge):0,Se=b.window,Ae=b.w_mask,je=b.prev,Ue=b.strstart+he,Ye=Se[V+ye-1],Xe=Se[V+ye];b.prev_length>=b.good_match&&(L>>=2),xe>b.lookahead&&(xe=b.lookahead);do if(Se[(J=ce)+ye]===Xe&&Se[J+ye-1]===Ye&&Se[J]===Se[V]&&Se[++J]===Se[V+1]){V+=2,J++;do;while(Se[++V]===Se[++J]&&Se[++V]===Se[++J]&&Se[++V]===Se[++J]&&Se[++V]===Se[++J]&&Se[++V]===Se[++J]&&Se[++V]===Se[++J]&&Se[++V]===Se[++J]&&Se[++V]===Se[++J]&&V<Ue);if(z=he-(Ue-V),V=Ue-he,ye<z){if(b.match_start=ce,xe<=(ye=z))break;Ye=Se[V+ye-1],Xe=Se[V+ye]}}while((ce=je[ce&Ae])>re&&--L!=0);return ye<=b.lookahead?ye:b.lookahead}function _e(b){var ce,J,z,L,V,ye,xe,re,Se,Ae,je=b.w_size;do{if(L=b.window_size-b.lookahead-b.strstart,b.strstart>=je+(je-ge)){for(h.arraySet(b.window,b.window,je,je,0),b.match_start-=je,b.strstart-=je,b.block_start-=je,ce=J=b.hash_size;z=b.head[--ce],b.head[ce]=je<=z?z-je:0,--J;);for(ce=J=je;z=b.prev[--ce],b.prev[ce]=je<=z?z-je:0,--J;);L+=je}if(b.strm.avail_in===0)break;if(ye=b.strm,xe=b.window,re=b.strstart+b.lookahead,Se=L,Ae=void 0,Ae=ye.avail_in,Se<Ae&&(Ae=Se),J=Ae===0?0:(ye.avail_in-=Ae,h.arraySet(xe,ye.input,ye.next_in,Ae,re),ye.state.wrap===1?ye.adler=x(ye.adler,xe,Ae,re):ye.state.wrap===2&&(ye.adler=p(ye.adler,xe,Ae,re)),ye.next_in+=Ae,ye.total_in+=Ae,Ae),b.lookahead+=J,b.lookahead+b.insert>=ne)for(V=b.strstart-b.insert,b.ins_h=b.window[V],b.ins_h=(b.ins_h<<b.hash_shift^b.window[V+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[V+ne-1])&b.hash_mask,b.prev[V&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=V,V++,b.insert--,!(b.lookahead+b.insert<ne)););}while(b.lookahead<ge&&b.strm.avail_in!==0)}function Te(b,ce){for(var J,z;;){if(b.lookahead<ge){if(_e(b),b.lookahead<ge&&ce===_)return E;if(b.lookahead===0)break}if(J=0,b.lookahead>=ne&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+ne-1])&b.hash_mask,J=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),J!==0&&b.strstart-J<=b.w_size-ge&&(b.match_length=se(b,J)),b.match_length>=ne)if(z=y._tr_tally(b,b.strstart-b.match_start,b.match_length-ne),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=ne){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+ne-1])&b.hash_mask,J=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else z=y._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(z&&(R(b,!1),b.strm.avail_out===0))return E}return b.insert=b.strstart<ne-1?b.strstart:ne-1,ce===N?(R(b,!0),b.strm.avail_out===0?Ee:fe):b.last_lit&&(R(b,!1),b.strm.avail_out===0)?E:ue}function Ie(b,ce){for(var J,z,L;;){if(b.lookahead<ge){if(_e(b),b.lookahead<ge&&ce===_)return E;if(b.lookahead===0)break}if(J=0,b.lookahead>=ne&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+ne-1])&b.hash_mask,J=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=ne-1,J!==0&&b.prev_length<b.max_lazy_match&&b.strstart-J<=b.w_size-ge&&(b.match_length=se(b,J),b.match_length<=5&&(b.strategy===1||b.match_length===ne&&4096<b.strstart-b.match_start)&&(b.match_length=ne-1)),b.prev_length>=ne&&b.match_length<=b.prev_length){for(L=b.strstart+b.lookahead-ne,z=y._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-ne),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=L&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+ne-1])&b.hash_mask,J=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=ne-1,b.strstart++,z&&(R(b,!1),b.strm.avail_out===0))return E}else if(b.match_available){if((z=y._tr_tally(b,0,b.window[b.strstart-1]))&&R(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return E}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(z=y._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<ne-1?b.strstart:ne-1,ce===N?(R(b,!0),b.strm.avail_out===0?Ee:fe):b.last_lit&&(R(b,!1),b.strm.avail_out===0)?E:ue}function Me(b,ce,J,z,L){this.good_length=b,this.max_lazy=ce,this.nice_length=J,this.max_chain=z,this.func=L}function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*H),this.dyn_dtree=new h.Buf16(2*(2*B+1)),this.bl_tree=new h.Buf16(2*(2*W+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(ie+1),this.heap=new h.Buf16(2*O+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*O+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function nt(b){var ce;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=v,(ce=b.state).pending=0,ce.pending_out=0,ce.wrap<0&&(ce.wrap=-ce.wrap),ce.status=ce.wrap?U:X,b.adler=ce.wrap===2?0:1,ce.last_flush=_,y._tr_init(ce),w):pe(b,I)}function it(b){var ce=nt(b);return ce===w&&function(J){J.window_size=2*J.w_size,Q(J.head),J.max_lazy_match=f[J.level].max_lazy,J.good_match=f[J.level].good_length,J.nice_match=f[J.level].nice_length,J.max_chain_length=f[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=ne-1,J.match_available=0,J.ins_h=0}(b.state),ce}function Ne(b,ce,J,z,L,V){if(!b)return I;var ye=1;if(ce===k&&(ce=6),z<0?(ye=0,z=-z):15<z&&(ye=2,z-=16),L<1||D<L||J!==j||z<8||15<z||ce<0||9<ce||V<0||S<V)return pe(b,I);z===8&&(z=9);var xe=new Ve;return(b.state=xe).strm=b,xe.wrap=ye,xe.gzhead=null,xe.w_bits=z,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=L+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+ne-1)/ne),xe.window=new h.Buf8(2*xe.w_size),xe.head=new h.Buf16(xe.hash_size),xe.prev=new h.Buf16(xe.w_size),xe.lit_bufsize=1<<L+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new h.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=ce,xe.strategy=V,xe.method=J,it(b)}f=[new Me(0,0,0,0,function(b,ce){var J=65535;for(J>b.pending_buf_size-5&&(J=b.pending_buf_size-5);;){if(b.lookahead<=1){if(_e(b),b.lookahead===0&&ce===_)return E;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var z=b.block_start+J;if((b.strstart===0||b.strstart>=z)&&(b.lookahead=b.strstart-z,b.strstart=z,R(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-ge&&(R(b,!1),b.strm.avail_out===0))return E}return b.insert=0,ce===N?(R(b,!0),b.strm.avail_out===0?Ee:fe):(b.strstart>b.block_start&&(R(b,!1),b.strm.avail_out),E)}),new Me(4,4,8,4,Te),new Me(4,5,16,8,Te),new Me(4,6,32,32,Te),new Me(4,4,16,16,Ie),new Me(8,16,32,32,Ie),new Me(8,16,128,128,Ie),new Me(8,32,128,256,Ie),new Me(32,128,258,1024,Ie),new Me(32,258,258,4096,Ie)],c.deflateInit=function(b,ce){return Ne(b,ce,j,15,8,0)},c.deflateInit2=Ne,c.deflateReset=it,c.deflateResetKeep=nt,c.deflateSetHeader=function(b,ce){return b&&b.state?b.state.wrap!==2?I:(b.state.gzhead=ce,w):I},c.deflate=function(b,ce){var J,z,L,V;if(!b||!b.state||5<ce||ce<0)return b?pe(b,I):I;if(z=b.state,!b.output||!b.input&&b.avail_in!==0||z.status===666&&ce!==N)return pe(b,b.avail_out===0?-5:I);if(z.strm=b,J=z.last_flush,z.last_flush=ce,z.status===U)if(z.wrap===2)b.adler=0,le(z,31),le(z,139),le(z,8),z.gzhead?(le(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),le(z,255&z.gzhead.time),le(z,z.gzhead.time>>8&255),le(z,z.gzhead.time>>16&255),le(z,z.gzhead.time>>24&255),le(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),le(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(le(z,255&z.gzhead.extra.length),le(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(b.adler=p(b.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(le(z,0),le(z,0),le(z,0),le(z,0),le(z,0),le(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),le(z,3),z.status=X);else{var ye=j+(z.w_bits-8<<4)<<8;ye|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(ye|=32),ye+=31-ye%31,z.status=X,de(z,ye),z.strstart!==0&&(de(z,b.adler>>>16),de(z,65535&b.adler)),b.adler=1}if(z.status===69)if(z.gzhead.extra){for(L=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>L&&(b.adler=p(b.adler,z.pending_buf,z.pending-L,L)),T(b),L=z.pending,z.pending!==z.pending_buf_size));)le(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>L&&(b.adler=p(b.adler,z.pending_buf,z.pending-L,L)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){L=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>L&&(b.adler=p(b.adler,z.pending_buf,z.pending-L,L)),T(b),L=z.pending,z.pending===z.pending_buf_size)){V=1;break}V=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,le(z,V)}while(V!==0);z.gzhead.hcrc&&z.pending>L&&(b.adler=p(b.adler,z.pending_buf,z.pending-L,L)),V===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){L=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>L&&(b.adler=p(b.adler,z.pending_buf,z.pending-L,L)),T(b),L=z.pending,z.pending===z.pending_buf_size)){V=1;break}V=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,le(z,V)}while(V!==0);z.gzhead.hcrc&&z.pending>L&&(b.adler=p(b.adler,z.pending_buf,z.pending-L,L)),V===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&T(b),z.pending+2<=z.pending_buf_size&&(le(z,255&b.adler),le(z,b.adler>>8&255),b.adler=0,z.status=X)):z.status=X),z.pending!==0){if(T(b),b.avail_out===0)return z.last_flush=-1,w}else if(b.avail_in===0&&Z(ce)<=Z(J)&&ce!==N)return pe(b,-5);if(z.status===666&&b.avail_in!==0)return pe(b,-5);if(b.avail_in!==0||z.lookahead!==0||ce!==_&&z.status!==666){var xe=z.strategy===2?function(re,Se){for(var Ae;;){if(re.lookahead===0&&(_e(re),re.lookahead===0)){if(Se===_)return E;break}if(re.match_length=0,Ae=y._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,Ae&&(R(re,!1),re.strm.avail_out===0))return E}return re.insert=0,Se===N?(R(re,!0),re.strm.avail_out===0?Ee:fe):re.last_lit&&(R(re,!1),re.strm.avail_out===0)?E:ue}(z,ce):z.strategy===3?function(re,Se){for(var Ae,je,Ue,Ye,Xe=re.window;;){if(re.lookahead<=he){if(_e(re),re.lookahead<=he&&Se===_)return E;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=ne&&0<re.strstart&&(je=Xe[Ue=re.strstart-1])===Xe[++Ue]&&je===Xe[++Ue]&&je===Xe[++Ue]){Ye=re.strstart+he;do;while(je===Xe[++Ue]&&je===Xe[++Ue]&&je===Xe[++Ue]&&je===Xe[++Ue]&&je===Xe[++Ue]&&je===Xe[++Ue]&&je===Xe[++Ue]&&je===Xe[++Ue]&&Ue<Ye);re.match_length=he-(Ye-Ue),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=ne?(Ae=y._tr_tally(re,1,re.match_length-ne),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(Ae=y._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),Ae&&(R(re,!1),re.strm.avail_out===0))return E}return re.insert=0,Se===N?(R(re,!0),re.strm.avail_out===0?Ee:fe):re.last_lit&&(R(re,!1),re.strm.avail_out===0)?E:ue}(z,ce):f[z.level].func(z,ce);if(xe!==Ee&&xe!==fe||(z.status=666),xe===E||xe===Ee)return b.avail_out===0&&(z.last_flush=-1),w;if(xe===ue&&(ce===1?y._tr_align(z):ce!==5&&(y._tr_stored_block(z,0,0,!1),ce===3&&(Q(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),T(b),b.avail_out===0))return z.last_flush=-1,w}return ce!==N?w:z.wrap<=0?1:(z.wrap===2?(le(z,255&b.adler),le(z,b.adler>>8&255),le(z,b.adler>>16&255),le(z,b.adler>>24&255),le(z,255&b.total_in),le(z,b.total_in>>8&255),le(z,b.total_in>>16&255),le(z,b.total_in>>24&255)):(de(z,b.adler>>>16),de(z,65535&b.adler)),T(b),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?w:1)},c.deflateEnd=function(b){var ce;return b&&b.state?(ce=b.state.status)!==U&&ce!==69&&ce!==73&&ce!==91&&ce!==103&&ce!==X&&ce!==666?pe(b,I):(b.state=null,ce===X?pe(b,-3):w):I},c.deflateSetDictionary=function(b,ce){var J,z,L,V,ye,xe,re,Se,Ae=ce.length;if(!b||!b.state||(V=(J=b.state).wrap)===2||V===1&&J.status!==U||J.lookahead)return I;for(V===1&&(b.adler=x(b.adler,ce,Ae,0)),J.wrap=0,Ae>=J.w_size&&(V===0&&(Q(J.head),J.strstart=0,J.block_start=0,J.insert=0),Se=new h.Buf8(J.w_size),h.arraySet(Se,ce,Ae-J.w_size,J.w_size,0),ce=Se,Ae=J.w_size),ye=b.avail_in,xe=b.next_in,re=b.input,b.avail_in=Ae,b.next_in=0,b.input=ce,_e(J);J.lookahead>=ne;){for(z=J.strstart,L=J.lookahead-(ne-1);J.ins_h=(J.ins_h<<J.hash_shift^J.window[z+ne-1])&J.hash_mask,J.prev[z&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=z,z++,--L;);J.strstart=z,J.lookahead=ne-1,_e(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=ne-1,J.match_available=0,b.next_in=xe,b.input=re,b.avail_in=ye,J.wrap=V,w},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,u,c){u.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,u,c){u.exports=function(f,h){var y,x,p,C,_,N,w,I,k,S,v,j,D,O,B,W,H,ie,ne,he,ge,U,X,E,ue;y=f.state,x=f.next_in,E=f.input,p=x+(f.avail_in-5),C=f.next_out,ue=f.output,_=C-(h-f.avail_out),N=C+(f.avail_out-257),w=y.dmax,I=y.wsize,k=y.whave,S=y.wnext,v=y.window,j=y.hold,D=y.bits,O=y.lencode,B=y.distcode,W=(1<<y.lenbits)-1,H=(1<<y.distbits)-1;e:do{D<15&&(j+=E[x++]<<D,D+=8,j+=E[x++]<<D,D+=8),ie=O[j&W];t:for(;;){if(j>>>=ne=ie>>>24,D-=ne,(ne=ie>>>16&255)===0)ue[C++]=65535&ie;else{if(!(16&ne)){if((64&ne)==0){ie=O[(65535&ie)+(j&(1<<ne)-1)];continue t}if(32&ne){y.mode=12;break e}f.msg="invalid literal/length code",y.mode=30;break e}he=65535&ie,(ne&=15)&&(D<ne&&(j+=E[x++]<<D,D+=8),he+=j&(1<<ne)-1,j>>>=ne,D-=ne),D<15&&(j+=E[x++]<<D,D+=8,j+=E[x++]<<D,D+=8),ie=B[j&H];r:for(;;){if(j>>>=ne=ie>>>24,D-=ne,!(16&(ne=ie>>>16&255))){if((64&ne)==0){ie=B[(65535&ie)+(j&(1<<ne)-1)];continue r}f.msg="invalid distance code",y.mode=30;break e}if(ge=65535&ie,D<(ne&=15)&&(j+=E[x++]<<D,(D+=8)<ne&&(j+=E[x++]<<D,D+=8)),w<(ge+=j&(1<<ne)-1)){f.msg="invalid distance too far back",y.mode=30;break e}if(j>>>=ne,D-=ne,(ne=C-_)<ge){if(k<(ne=ge-ne)&&y.sane){f.msg="invalid distance too far back",y.mode=30;break e}if(X=v,(U=0)===S){if(U+=I-ne,ne<he){for(he-=ne;ue[C++]=v[U++],--ne;);U=C-ge,X=ue}}else if(S<ne){if(U+=I+S-ne,(ne-=S)<he){for(he-=ne;ue[C++]=v[U++],--ne;);if(U=0,S<he){for(he-=ne=S;ue[C++]=v[U++],--ne;);U=C-ge,X=ue}}}else if(U+=S-ne,ne<he){for(he-=ne;ue[C++]=v[U++],--ne;);U=C-ge,X=ue}for(;2<he;)ue[C++]=X[U++],ue[C++]=X[U++],ue[C++]=X[U++],he-=3;he&&(ue[C++]=X[U++],1<he&&(ue[C++]=X[U++]))}else{for(U=C-ge;ue[C++]=ue[U++],ue[C++]=ue[U++],ue[C++]=ue[U++],2<(he-=3););he&&(ue[C++]=ue[U++],1<he&&(ue[C++]=ue[U++]))}break}}break}}while(x<p&&C<N);x-=he=D>>3,j&=(1<<(D-=he<<3))-1,f.next_in=x,f.next_out=C,f.avail_in=x<p?p-x+5:5-(x-p),f.avail_out=C<N?N-C+257:257-(C-N),y.hold=j,y.bits=D}},{}],49:[function(a,u,c){var f=a("../utils/common"),h=a("./adler32"),y=a("./crc32"),x=a("./inffast"),p=a("./inftrees"),C=1,_=2,N=0,w=-2,I=1,k=852,S=592;function v(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(U){var X;return U&&U.state?(X=U.state,U.total_in=U.total_out=X.total=0,U.msg="",X.wrap&&(U.adler=1&X.wrap),X.mode=I,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new f.Buf32(k),X.distcode=X.distdyn=new f.Buf32(S),X.sane=1,X.back=-1,N):w}function O(U){var X;return U&&U.state?((X=U.state).wsize=0,X.whave=0,X.wnext=0,D(U)):w}function B(U,X){var E,ue;return U&&U.state?(ue=U.state,X<0?(E=0,X=-X):(E=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?w:(ue.window!==null&&ue.wbits!==X&&(ue.window=null),ue.wrap=E,ue.wbits=X,O(U))):w}function W(U,X){var E,ue;return U?(ue=new j,(U.state=ue).window=null,(E=B(U,X))!==N&&(U.state=null),E):w}var H,ie,ne=!0;function he(U){if(ne){var X;for(H=new f.Buf32(512),ie=new f.Buf32(32),X=0;X<144;)U.lens[X++]=8;for(;X<256;)U.lens[X++]=9;for(;X<280;)U.lens[X++]=7;for(;X<288;)U.lens[X++]=8;for(p(C,U.lens,0,288,H,0,U.work,{bits:9}),X=0;X<32;)U.lens[X++]=5;p(_,U.lens,0,32,ie,0,U.work,{bits:5}),ne=!1}U.lencode=H,U.lenbits=9,U.distcode=ie,U.distbits=5}function ge(U,X,E,ue){var Ee,fe=U.state;return fe.window===null&&(fe.wsize=1<<fe.wbits,fe.wnext=0,fe.whave=0,fe.window=new f.Buf8(fe.wsize)),ue>=fe.wsize?(f.arraySet(fe.window,X,E-fe.wsize,fe.wsize,0),fe.wnext=0,fe.whave=fe.wsize):(ue<(Ee=fe.wsize-fe.wnext)&&(Ee=ue),f.arraySet(fe.window,X,E-ue,Ee,fe.wnext),(ue-=Ee)?(f.arraySet(fe.window,X,E-ue,ue,0),fe.wnext=ue,fe.whave=fe.wsize):(fe.wnext+=Ee,fe.wnext===fe.wsize&&(fe.wnext=0),fe.whave<fe.wsize&&(fe.whave+=Ee))),0}c.inflateReset=O,c.inflateReset2=B,c.inflateResetKeep=D,c.inflateInit=function(U){return W(U,15)},c.inflateInit2=W,c.inflate=function(U,X){var E,ue,Ee,fe,pe,Z,Q,T,R,le,de,se,_e,Te,Ie,Me,Ve,nt,it,Ne,b,ce,J,z,L=0,V=new f.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return w;(E=U.state).mode===12&&(E.mode=13),pe=U.next_out,Ee=U.output,Q=U.avail_out,fe=U.next_in,ue=U.input,Z=U.avail_in,T=E.hold,R=E.bits,le=Z,de=Q,ce=N;e:for(;;)switch(E.mode){case I:if(E.wrap===0){E.mode=13;break}for(;R<16;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if(2&E.wrap&&T===35615){V[E.check=0]=255&T,V[1]=T>>>8&255,E.check=y(E.check,V,2,0),R=T=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&T)<<8)+(T>>8))%31){U.msg="incorrect header check",E.mode=30;break}if((15&T)!=8){U.msg="unknown compression method",E.mode=30;break}if(R-=4,b=8+(15&(T>>>=4)),E.wbits===0)E.wbits=b;else if(b>E.wbits){U.msg="invalid window size",E.mode=30;break}E.dmax=1<<b,U.adler=E.check=1,E.mode=512&T?10:12,R=T=0;break;case 2:for(;R<16;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if(E.flags=T,(255&E.flags)!=8){U.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){U.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=T>>8&1),512&E.flags&&(V[0]=255&T,V[1]=T>>>8&255,E.check=y(E.check,V,2,0)),R=T=0,E.mode=3;case 3:for(;R<32;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}E.head&&(E.head.time=T),512&E.flags&&(V[0]=255&T,V[1]=T>>>8&255,V[2]=T>>>16&255,V[3]=T>>>24&255,E.check=y(E.check,V,4,0)),R=T=0,E.mode=4;case 4:for(;R<16;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}E.head&&(E.head.xflags=255&T,E.head.os=T>>8),512&E.flags&&(V[0]=255&T,V[1]=T>>>8&255,E.check=y(E.check,V,2,0)),R=T=0,E.mode=5;case 5:if(1024&E.flags){for(;R<16;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}E.length=T,E.head&&(E.head.extra_len=T),512&E.flags&&(V[0]=255&T,V[1]=T>>>8&255,E.check=y(E.check,V,2,0)),R=T=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Z<(se=E.length)&&(se=Z),se&&(E.head&&(b=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),f.arraySet(E.head.extra,ue,fe,se,b)),512&E.flags&&(E.check=y(E.check,ue,se,fe)),Z-=se,fe+=se,E.length-=se),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Z===0)break e;for(se=0;b=ue[fe+se++],E.head&&b&&E.length<65536&&(E.head.name+=String.fromCharCode(b)),b&&se<Z;);if(512&E.flags&&(E.check=y(E.check,ue,se,fe)),Z-=se,fe+=se,b)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Z===0)break e;for(se=0;b=ue[fe+se++],E.head&&b&&E.length<65536&&(E.head.comment+=String.fromCharCode(b)),b&&se<Z;);if(512&E.flags&&(E.check=y(E.check,ue,se,fe)),Z-=se,fe+=se,b)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;R<16;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if(T!==(65535&E.check)){U.msg="header crc mismatch",E.mode=30;break}R=T=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),U.adler=E.check=0,E.mode=12;break;case 10:for(;R<32;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}U.adler=E.check=v(T),R=T=0,E.mode=11;case 11:if(E.havedict===0)return U.next_out=pe,U.avail_out=Q,U.next_in=fe,U.avail_in=Z,E.hold=T,E.bits=R,2;U.adler=E.check=1,E.mode=12;case 12:if(X===5||X===6)break e;case 13:if(E.last){T>>>=7&R,R-=7&R,E.mode=27;break}for(;R<3;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}switch(E.last=1&T,R-=1,3&(T>>>=1)){case 0:E.mode=14;break;case 1:if(he(E),E.mode=20,X!==6)break;T>>>=2,R-=2;break e;case 2:E.mode=17;break;case 3:U.msg="invalid block type",E.mode=30}T>>>=2,R-=2;break;case 14:for(T>>>=7&R,R-=7&R;R<32;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if((65535&T)!=(T>>>16^65535)){U.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&T,R=T=0,E.mode=15,X===6)break e;case 15:E.mode=16;case 16:if(se=E.length){if(Z<se&&(se=Z),Q<se&&(se=Q),se===0)break e;f.arraySet(Ee,ue,fe,se,pe),Z-=se,fe+=se,Q-=se,pe+=se,E.length-=se;break}E.mode=12;break;case 17:for(;R<14;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if(E.nlen=257+(31&T),T>>>=5,R-=5,E.ndist=1+(31&T),T>>>=5,R-=5,E.ncode=4+(15&T),T>>>=4,R-=4,286<E.nlen||30<E.ndist){U.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;R<3;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}E.lens[ye[E.have++]]=7&T,T>>>=3,R-=3}for(;E.have<19;)E.lens[ye[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,J={bits:E.lenbits},ce=p(0,E.lens,0,19,E.lencode,0,E.work,J),E.lenbits=J.bits,ce){U.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;Me=(L=E.lencode[T&(1<<E.lenbits)-1])>>>16&255,Ve=65535&L,!((Ie=L>>>24)<=R);){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if(Ve<16)T>>>=Ie,R-=Ie,E.lens[E.have++]=Ve;else{if(Ve===16){for(z=Ie+2;R<z;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if(T>>>=Ie,R-=Ie,E.have===0){U.msg="invalid bit length repeat",E.mode=30;break}b=E.lens[E.have-1],se=3+(3&T),T>>>=2,R-=2}else if(Ve===17){for(z=Ie+3;R<z;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}R-=Ie,b=0,se=3+(7&(T>>>=Ie)),T>>>=3,R-=3}else{for(z=Ie+7;R<z;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}R-=Ie,b=0,se=11+(127&(T>>>=Ie)),T>>>=7,R-=7}if(E.have+se>E.nlen+E.ndist){U.msg="invalid bit length repeat",E.mode=30;break}for(;se--;)E.lens[E.have++]=b}}if(E.mode===30)break;if(E.lens[256]===0){U.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,J={bits:E.lenbits},ce=p(C,E.lens,0,E.nlen,E.lencode,0,E.work,J),E.lenbits=J.bits,ce){U.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,J={bits:E.distbits},ce=p(_,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,J),E.distbits=J.bits,ce){U.msg="invalid distances set",E.mode=30;break}if(E.mode=20,X===6)break e;case 20:E.mode=21;case 21:if(6<=Z&&258<=Q){U.next_out=pe,U.avail_out=Q,U.next_in=fe,U.avail_in=Z,E.hold=T,E.bits=R,x(U,de),pe=U.next_out,Ee=U.output,Q=U.avail_out,fe=U.next_in,ue=U.input,Z=U.avail_in,T=E.hold,R=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;Me=(L=E.lencode[T&(1<<E.lenbits)-1])>>>16&255,Ve=65535&L,!((Ie=L>>>24)<=R);){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if(Me&&(240&Me)==0){for(nt=Ie,it=Me,Ne=Ve;Me=(L=E.lencode[Ne+((T&(1<<nt+it)-1)>>nt)])>>>16&255,Ve=65535&L,!(nt+(Ie=L>>>24)<=R);){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}T>>>=nt,R-=nt,E.back+=nt}if(T>>>=Ie,R-=Ie,E.back+=Ie,E.length=Ve,Me===0){E.mode=26;break}if(32&Me){E.back=-1,E.mode=12;break}if(64&Me){U.msg="invalid literal/length code",E.mode=30;break}E.extra=15&Me,E.mode=22;case 22:if(E.extra){for(z=E.extra;R<z;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}E.length+=T&(1<<E.extra)-1,T>>>=E.extra,R-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;Me=(L=E.distcode[T&(1<<E.distbits)-1])>>>16&255,Ve=65535&L,!((Ie=L>>>24)<=R);){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if((240&Me)==0){for(nt=Ie,it=Me,Ne=Ve;Me=(L=E.distcode[Ne+((T&(1<<nt+it)-1)>>nt)])>>>16&255,Ve=65535&L,!(nt+(Ie=L>>>24)<=R);){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}T>>>=nt,R-=nt,E.back+=nt}if(T>>>=Ie,R-=Ie,E.back+=Ie,64&Me){U.msg="invalid distance code",E.mode=30;break}E.offset=Ve,E.extra=15&Me,E.mode=24;case 24:if(E.extra){for(z=E.extra;R<z;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}E.offset+=T&(1<<E.extra)-1,T>>>=E.extra,R-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){U.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(Q===0)break e;if(se=de-Q,E.offset>se){if((se=E.offset-se)>E.whave&&E.sane){U.msg="invalid distance too far back",E.mode=30;break}_e=se>E.wnext?(se-=E.wnext,E.wsize-se):E.wnext-se,se>E.length&&(se=E.length),Te=E.window}else Te=Ee,_e=pe-E.offset,se=E.length;for(Q<se&&(se=Q),Q-=se,E.length-=se;Ee[pe++]=Te[_e++],--se;);E.length===0&&(E.mode=21);break;case 26:if(Q===0)break e;Ee[pe++]=E.length,Q--,E.mode=21;break;case 27:if(E.wrap){for(;R<32;){if(Z===0)break e;Z--,T|=ue[fe++]<<R,R+=8}if(de-=Q,U.total_out+=de,E.total+=de,de&&(U.adler=E.check=E.flags?y(E.check,Ee,de,pe-de):h(E.check,Ee,de,pe-de)),de=Q,(E.flags?T:v(T))!==E.check){U.msg="incorrect data check",E.mode=30;break}R=T=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;R<32;){if(Z===0)break e;Z--,T+=ue[fe++]<<R,R+=8}if(T!==(4294967295&E.total)){U.msg="incorrect length check",E.mode=30;break}R=T=0}E.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;case 32:default:return w}return U.next_out=pe,U.avail_out=Q,U.next_in=fe,U.avail_in=Z,E.hold=T,E.bits=R,(E.wsize||de!==U.avail_out&&E.mode<30&&(E.mode<27||X!==4))&&ge(U,U.output,U.next_out,de-U.avail_out)?(E.mode=31,-4):(le-=U.avail_in,de-=U.avail_out,U.total_in+=le,U.total_out+=de,E.total+=de,E.wrap&&de&&(U.adler=E.check=E.flags?y(E.check,Ee,de,U.next_out-de):h(E.check,Ee,de,U.next_out-de)),U.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(le==0&&de===0||X===4)&&ce===N&&(ce=-5),ce)},c.inflateEnd=function(U){if(!U||!U.state)return w;var X=U.state;return X.window&&(X.window=null),U.state=null,N},c.inflateGetHeader=function(U,X){var E;return U&&U.state?(2&(E=U.state).wrap)==0?w:((E.head=X).done=!1,N):w},c.inflateSetDictionary=function(U,X){var E,ue=X.length;return U&&U.state?(E=U.state).wrap!==0&&E.mode!==11?w:E.mode===11&&h(1,X,ue,0)!==E.check?-3:ge(U,X,ue,ue)?(E.mode=31,-4):(E.havedict=1,N):w},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,u,c){var f=a("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];u.exports=function(C,_,N,w,I,k,S,v){var j,D,O,B,W,H,ie,ne,he,ge=v.bits,U=0,X=0,E=0,ue=0,Ee=0,fe=0,pe=0,Z=0,Q=0,T=0,R=null,le=0,de=new f.Buf16(16),se=new f.Buf16(16),_e=null,Te=0;for(U=0;U<=15;U++)de[U]=0;for(X=0;X<w;X++)de[_[N+X]]++;for(Ee=ge,ue=15;1<=ue&&de[ue]===0;ue--);if(ue<Ee&&(Ee=ue),ue===0)return I[k++]=20971520,I[k++]=20971520,v.bits=1,0;for(E=1;E<ue&&de[E]===0;E++);for(Ee<E&&(Ee=E),U=Z=1;U<=15;U++)if(Z<<=1,(Z-=de[U])<0)return-1;if(0<Z&&(C===0||ue!==1))return-1;for(se[1]=0,U=1;U<15;U++)se[U+1]=se[U]+de[U];for(X=0;X<w;X++)_[N+X]!==0&&(S[se[_[N+X]]++]=X);if(H=C===0?(R=_e=S,19):C===1?(R=h,le-=257,_e=y,Te-=257,256):(R=x,_e=p,-1),U=E,W=k,pe=X=T=0,O=-1,B=(Q=1<<(fe=Ee))-1,C===1&&852<Q||C===2&&592<Q)return 1;for(;;){for(ie=U-pe,he=S[X]<H?(ne=0,S[X]):S[X]>H?(ne=_e[Te+S[X]],R[le+S[X]]):(ne=96,0),j=1<<U-pe,E=D=1<<fe;I[W+(T>>pe)+(D-=j)]=ie<<24|ne<<16|he|0,D!==0;);for(j=1<<U-1;T&j;)j>>=1;if(j!==0?(T&=j-1,T+=j):T=0,X++,--de[U]==0){if(U===ue)break;U=_[N+S[X]]}if(Ee<U&&(T&B)!==O){for(pe===0&&(pe=Ee),W+=E,Z=1<<(fe=U-pe);fe+pe<ue&&!((Z-=de[fe+pe])<=0);)fe++,Z<<=1;if(Q+=1<<fe,C===1&&852<Q||C===2&&592<Q)return 1;I[O=T&B]=Ee<<24|fe<<16|W-k|0}}return T!==0&&(I[W+T]=U-pe<<24|64<<16|0),v.bits=Ee,0}},{"../utils/common":41}],51:[function(a,u,c){u.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,u,c){var f=a("../utils/common"),h=0,y=1;function x(L){for(var V=L.length;0<=--V;)L[V]=0}var p=0,C=29,_=256,N=_+1+C,w=30,I=19,k=2*N+1,S=15,v=16,j=7,D=256,O=16,B=17,W=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ge=new Array(2*(N+2));x(ge);var U=new Array(2*w);x(U);var X=new Array(512);x(X);var E=new Array(256);x(E);var ue=new Array(C);x(ue);var Ee,fe,pe,Z=new Array(w);function Q(L,V,ye,xe,re){this.static_tree=L,this.extra_bits=V,this.extra_base=ye,this.elems=xe,this.max_length=re,this.has_stree=L&&L.length}function T(L,V){this.dyn_tree=L,this.max_code=0,this.stat_desc=V}function R(L){return L<256?X[L]:X[256+(L>>>7)]}function le(L,V){L.pending_buf[L.pending++]=255&V,L.pending_buf[L.pending++]=V>>>8&255}function de(L,V,ye){L.bi_valid>v-ye?(L.bi_buf|=V<<L.bi_valid&65535,le(L,L.bi_buf),L.bi_buf=V>>v-L.bi_valid,L.bi_valid+=ye-v):(L.bi_buf|=V<<L.bi_valid&65535,L.bi_valid+=ye)}function se(L,V,ye){de(L,ye[2*V],ye[2*V+1])}function _e(L,V){for(var ye=0;ye|=1&L,L>>>=1,ye<<=1,0<--V;);return ye>>>1}function Te(L,V,ye){var xe,re,Se=new Array(S+1),Ae=0;for(xe=1;xe<=S;xe++)Se[xe]=Ae=Ae+ye[xe-1]<<1;for(re=0;re<=V;re++){var je=L[2*re+1];je!==0&&(L[2*re]=_e(Se[je]++,je))}}function Ie(L){var V;for(V=0;V<N;V++)L.dyn_ltree[2*V]=0;for(V=0;V<w;V++)L.dyn_dtree[2*V]=0;for(V=0;V<I;V++)L.bl_tree[2*V]=0;L.dyn_ltree[2*D]=1,L.opt_len=L.static_len=0,L.last_lit=L.matches=0}function Me(L){8<L.bi_valid?le(L,L.bi_buf):0<L.bi_valid&&(L.pending_buf[L.pending++]=L.bi_buf),L.bi_buf=0,L.bi_valid=0}function Ve(L,V,ye,xe){var re=2*V,Se=2*ye;return L[re]<L[Se]||L[re]===L[Se]&&xe[V]<=xe[ye]}function nt(L,V,ye){for(var xe=L.heap[ye],re=ye<<1;re<=L.heap_len&&(re<L.heap_len&&Ve(V,L.heap[re+1],L.heap[re],L.depth)&&re++,!Ve(V,xe,L.heap[re],L.depth));)L.heap[ye]=L.heap[re],ye=re,re<<=1;L.heap[ye]=xe}function it(L,V,ye){var xe,re,Se,Ae,je=0;if(L.last_lit!==0)for(;xe=L.pending_buf[L.d_buf+2*je]<<8|L.pending_buf[L.d_buf+2*je+1],re=L.pending_buf[L.l_buf+je],je++,xe===0?se(L,re,V):(se(L,(Se=E[re])+_+1,V),(Ae=H[Se])!==0&&de(L,re-=ue[Se],Ae),se(L,Se=R(--xe),ye),(Ae=ie[Se])!==0&&de(L,xe-=Z[Se],Ae)),je<L.last_lit;);se(L,D,V)}function Ne(L,V){var ye,xe,re,Se=V.dyn_tree,Ae=V.stat_desc.static_tree,je=V.stat_desc.has_stree,Ue=V.stat_desc.elems,Ye=-1;for(L.heap_len=0,L.heap_max=k,ye=0;ye<Ue;ye++)Se[2*ye]!==0?(L.heap[++L.heap_len]=Ye=ye,L.depth[ye]=0):Se[2*ye+1]=0;for(;L.heap_len<2;)Se[2*(re=L.heap[++L.heap_len]=Ye<2?++Ye:0)]=1,L.depth[re]=0,L.opt_len--,je&&(L.static_len-=Ae[2*re+1]);for(V.max_code=Ye,ye=L.heap_len>>1;1<=ye;ye--)nt(L,Se,ye);for(re=Ue;ye=L.heap[1],L.heap[1]=L.heap[L.heap_len--],nt(L,Se,1),xe=L.heap[1],L.heap[--L.heap_max]=ye,L.heap[--L.heap_max]=xe,Se[2*re]=Se[2*ye]+Se[2*xe],L.depth[re]=(L.depth[ye]>=L.depth[xe]?L.depth[ye]:L.depth[xe])+1,Se[2*ye+1]=Se[2*xe+1]=re,L.heap[1]=re++,nt(L,Se,1),2<=L.heap_len;);L.heap[--L.heap_max]=L.heap[1],function(Xe,St){var Gt,Nt,Hr,ut,Ge,cn,Pt=St.dyn_tree,Gr=St.max_code,hr=St.stat_desc.static_tree,Fn=St.stat_desc.has_stree,Vt=St.stat_desc.extra_bits,mr=St.stat_desc.extra_base,Ut=St.stat_desc.max_length,Dr=0;for(ut=0;ut<=S;ut++)Xe.bl_count[ut]=0;for(Pt[2*Xe.heap[Xe.heap_max]+1]=0,Gt=Xe.heap_max+1;Gt<k;Gt++)Ut<(ut=Pt[2*Pt[2*(Nt=Xe.heap[Gt])+1]+1]+1)&&(ut=Ut,Dr++),Pt[2*Nt+1]=ut,Gr<Nt||(Xe.bl_count[ut]++,Ge=0,mr<=Nt&&(Ge=Vt[Nt-mr]),cn=Pt[2*Nt],Xe.opt_len+=cn*(ut+Ge),Fn&&(Xe.static_len+=cn*(hr[2*Nt+1]+Ge)));if(Dr!==0){do{for(ut=Ut-1;Xe.bl_count[ut]===0;)ut--;Xe.bl_count[ut]--,Xe.bl_count[ut+1]+=2,Xe.bl_count[Ut]--,Dr-=2}while(0<Dr);for(ut=Ut;ut!==0;ut--)for(Nt=Xe.bl_count[ut];Nt!==0;)Gr<(Hr=Xe.heap[--Gt])||(Pt[2*Hr+1]!==ut&&(Xe.opt_len+=(ut-Pt[2*Hr+1])*Pt[2*Hr],Pt[2*Hr+1]=ut),Nt--)}}(L,V),Te(Se,Ye,L.bl_count)}function b(L,V,ye){var xe,re,Se=-1,Ae=V[1],je=0,Ue=7,Ye=4;for(Ae===0&&(Ue=138,Ye=3),V[2*(ye+1)+1]=65535,xe=0;xe<=ye;xe++)re=Ae,Ae=V[2*(xe+1)+1],++je<Ue&&re===Ae||(je<Ye?L.bl_tree[2*re]+=je:re!==0?(re!==Se&&L.bl_tree[2*re]++,L.bl_tree[2*O]++):je<=10?L.bl_tree[2*B]++:L.bl_tree[2*W]++,Se=re,Ye=(je=0)===Ae?(Ue=138,3):re===Ae?(Ue=6,3):(Ue=7,4))}function ce(L,V,ye){var xe,re,Se=-1,Ae=V[1],je=0,Ue=7,Ye=4;for(Ae===0&&(Ue=138,Ye=3),xe=0;xe<=ye;xe++)if(re=Ae,Ae=V[2*(xe+1)+1],!(++je<Ue&&re===Ae)){if(je<Ye)for(;se(L,re,L.bl_tree),--je!=0;);else re!==0?(re!==Se&&(se(L,re,L.bl_tree),je--),se(L,O,L.bl_tree),de(L,je-3,2)):je<=10?(se(L,B,L.bl_tree),de(L,je-3,3)):(se(L,W,L.bl_tree),de(L,je-11,7));Se=re,Ye=(je=0)===Ae?(Ue=138,3):re===Ae?(Ue=6,3):(Ue=7,4)}}x(Z);var J=!1;function z(L,V,ye,xe){de(L,(p<<1)+(xe?1:0),3),function(re,Se,Ae,je){Me(re),le(re,Ae),le(re,~Ae),f.arraySet(re.pending_buf,re.window,Se,Ae,re.pending),re.pending+=Ae}(L,V,ye)}c._tr_init=function(L){J||(function(){var V,ye,xe,re,Se,Ae=new Array(S+1);for(re=xe=0;re<C-1;re++)for(ue[re]=xe,V=0;V<1<<H[re];V++)E[xe++]=re;for(E[xe-1]=re,re=Se=0;re<16;re++)for(Z[re]=Se,V=0;V<1<<ie[re];V++)X[Se++]=re;for(Se>>=7;re<w;re++)for(Z[re]=Se<<7,V=0;V<1<<ie[re]-7;V++)X[256+Se++]=re;for(ye=0;ye<=S;ye++)Ae[ye]=0;for(V=0;V<=143;)ge[2*V+1]=8,V++,Ae[8]++;for(;V<=255;)ge[2*V+1]=9,V++,Ae[9]++;for(;V<=279;)ge[2*V+1]=7,V++,Ae[7]++;for(;V<=287;)ge[2*V+1]=8,V++,Ae[8]++;for(Te(ge,N+1,Ae),V=0;V<w;V++)U[2*V+1]=5,U[2*V]=_e(V,5);Ee=new Q(ge,H,_+1,N,S),fe=new Q(U,ie,0,w,S),pe=new Q(new Array(0),ne,0,I,j)}(),J=!0),L.l_desc=new T(L.dyn_ltree,Ee),L.d_desc=new T(L.dyn_dtree,fe),L.bl_desc=new T(L.bl_tree,pe),L.bi_buf=0,L.bi_valid=0,Ie(L)},c._tr_stored_block=z,c._tr_flush_block=function(L,V,ye,xe){var re,Se,Ae=0;0<L.level?(L.strm.data_type===2&&(L.strm.data_type=function(je){var Ue,Ye=4093624447;for(Ue=0;Ue<=31;Ue++,Ye>>>=1)if(1&Ye&&je.dyn_ltree[2*Ue]!==0)return h;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return y;for(Ue=32;Ue<_;Ue++)if(je.dyn_ltree[2*Ue]!==0)return y;return h}(L)),Ne(L,L.l_desc),Ne(L,L.d_desc),Ae=function(je){var Ue;for(b(je,je.dyn_ltree,je.l_desc.max_code),b(je,je.dyn_dtree,je.d_desc.max_code),Ne(je,je.bl_desc),Ue=I-1;3<=Ue&&je.bl_tree[2*he[Ue]+1]===0;Ue--);return je.opt_len+=3*(Ue+1)+5+5+4,Ue}(L),re=L.opt_len+3+7>>>3,(Se=L.static_len+3+7>>>3)<=re&&(re=Se)):re=Se=ye+5,ye+4<=re&&V!==-1?z(L,V,ye,xe):L.strategy===4||Se===re?(de(L,2+(xe?1:0),3),it(L,ge,U)):(de(L,4+(xe?1:0),3),function(je,Ue,Ye,Xe){var St;for(de(je,Ue-257,5),de(je,Ye-1,5),de(je,Xe-4,4),St=0;St<Xe;St++)de(je,je.bl_tree[2*he[St]+1],3);ce(je,je.dyn_ltree,Ue-1),ce(je,je.dyn_dtree,Ye-1)}(L,L.l_desc.max_code+1,L.d_desc.max_code+1,Ae+1),it(L,L.dyn_ltree,L.dyn_dtree)),Ie(L),xe&&Me(L)},c._tr_tally=function(L,V,ye){return L.pending_buf[L.d_buf+2*L.last_lit]=V>>>8&255,L.pending_buf[L.d_buf+2*L.last_lit+1]=255&V,L.pending_buf[L.l_buf+L.last_lit]=255&ye,L.last_lit++,V===0?L.dyn_ltree[2*ye]++:(L.matches++,V--,L.dyn_ltree[2*(E[ye]+_+1)]++,L.dyn_dtree[2*R(V)]++),L.last_lit===L.lit_bufsize-1},c._tr_align=function(L){de(L,2,3),se(L,D,ge),function(V){V.bi_valid===16?(le(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):8<=V.bi_valid&&(V.pending_buf[V.pending++]=255&V.bi_buf,V.bi_buf>>=8,V.bi_valid-=8)}(L)}},{"../utils/common":41}],53:[function(a,u,c){u.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,u,c){(function(f){(function(h,y){if(!h.setImmediate){var x,p,C,_,N=1,w={},I=!1,k=h.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(h);S=S&&S.setTimeout?S:h,x={}.toString.call(h.process)==="[object process]"?function(O){process.nextTick(function(){j(O)})}:function(){if(h.postMessage&&!h.importScripts){var O=!0,B=h.onmessage;return h.onmessage=function(){O=!1},h.postMessage("","*"),h.onmessage=B,O}}()?(_="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",D,!1):h.attachEvent("onmessage",D),function(O){h.postMessage(_+O,"*")}):h.MessageChannel?((C=new MessageChannel).port1.onmessage=function(O){j(O.data)},function(O){C.port2.postMessage(O)}):k&&"onreadystatechange"in k.createElement("script")?(p=k.documentElement,function(O){var B=k.createElement("script");B.onreadystatechange=function(){j(O),B.onreadystatechange=null,p.removeChild(B),B=null},p.appendChild(B)}):function(O){setTimeout(j,0,O)},S.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var B=new Array(arguments.length-1),W=0;W<B.length;W++)B[W]=arguments[W+1];var H={callback:O,args:B};return w[N]=H,x(N),N++},S.clearImmediate=v}function v(O){delete w[O]}function j(O){if(I)setTimeout(j,0,O);else{var B=w[O];if(B){I=!0;try{(function(W){var H=W.callback,ie=W.args;switch(ie.length){case 0:H();break;case 1:H(ie[0]);break;case 2:H(ie[0],ie[1]);break;case 3:H(ie[0],ie[1],ie[2]);break;default:H.apply(y,ie)}})(B)}finally{v(O),I=!1}}}}function D(O){O.source===h&&typeof O.data=="string"&&O.data.indexOf(_)===0&&j(+O.data.slice(_.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof Xi<"u"?Xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(fu)),fu.exports}var mp=hp();const pp=Ls(mp);var hu={exports:{}};const gp={},yp=Object.freeze(Object.defineProperty({__proto__:null,default:gp},Symbol.toStringTag,{value:"Module"})),hf=im(yp);var mf;function xp(){return mf||(mf=1,function(o,i){var a=void 0,u=function(c){return a||(a=new Promise(function(f,h){var y=typeof c<"u"?c:{},x=y.onAbort;y.onAbort=function(l){h(new Error(l)),x&&x(l)},y.postRun=y.postRun||[],y.postRun.push(function(){f(y)}),o=void 0;var p;p||=typeof y<"u"?y:{};var C=typeof window=="object",_=typeof WorkerGlobalScope<"u",N=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";p.onRuntimeInitialized=function(){function l(Y,ve){switch(typeof ve){case"boolean":To(Y,ve?1:0);break;case"number":Js(Y,ve);break;case"string":Io(Y,ve,-1,-1);break;case"object":if(ve===null)ei(Y);else if(ve.length!=null){var ze=qn(ve,gn);Ao(Y,ze,ve.length,-1),zr(ze)}else vn(Y,"Wrong API use : tried to return a value of an unknown type ("+ve+").",-1);break;default:ei(Y)}}function m(Y,ve){for(var ze=[],We=0;We<Y;We+=1){var Qe=it(ve+4*We,"i32"),st=jo(Qe);if(st===1||st===2)Qe=Po(Qe);else if(st===3)Qe=Co(Qe);else if(st===4){st=Qe,Qe=_o(st),st=Eo(st);for(var lr=new Uint8Array(Qe),Xt=0;Xt<Qe;Xt+=1)lr[Xt]=he[st+Xt];Qe=lr}else Qe=null;ze.push(Qe)}return ze}function P(Y,ve){this.Qa=Y,this.db=ve,this.Oa=1,this.lb=[]}function M(Y,ve){if(this.db=ve,ve=Ue(Y)+1,this.eb=en(ve),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Ye(Y,ge,this.eb,ve),this.kb=this.eb,this.Za=this.pb=null}function $(Y){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Y!=null){var ve=this.filename,ze="/",We=ve;if(ze&&(ze=typeof ze=="string"?ze:Un(ze),We=ve?V(ze+"/"+ve):ze),ve=cn(!0,!0),We=Hs(We,ve),Y){if(typeof Y=="string"){ze=Array(Y.length);for(var Qe=0,st=Y.length;Qe<st;++Qe)ze[Qe]=Y.charCodeAt(Qe);Y=ze}Zr(We,ve|146),ze=Xr(We,577),Kt(ze,Y,0,Y.length,0),mn(ze),Zr(We,ve)}}this.handleError($e(this.filename,ee)),this.db=it(ee,"i32"),ri(this.db),this.fb={},this.Sa={}}var ee=Zt(4),me=p.cwrap,$e=me("sqlite3_open","number",["string","number"]),Je=me("sqlite3_close_v2","number",["number"]),Ze=me("sqlite3_exec","number",["number","string","number","number","number"]),lt=me("sqlite3_changes","number",["number"]),jt=me("sqlite3_prepare_v2","number",["number","string","number","number","number"]),es=me("sqlite3_sql","string",["number"]),Fr=me("sqlite3_normalized_sql","string",["number"]),xa=me("sqlite3_prepare_v2","number",["number","number","number","number","number"]),va=me("sqlite3_bind_text","number",["number","number","number","number","number"]),ts=me("sqlite3_bind_blob","number",["number","number","number","number","number"]),wa=me("sqlite3_bind_double","number",["number","number","number"]),ba=me("sqlite3_bind_int","number",["number","number","number"]),Xs=me("sqlite3_bind_parameter_index","number",["number","string"]),$t=me("sqlite3_step","number",["number"]),xn=me("sqlite3_errmsg","string",["number"]),rs=me("sqlite3_column_count","number",["number"]),Gn=me("sqlite3_data_count","number",["number"]),bo=me("sqlite3_column_double","number",["number","number"]),ka=me("sqlite3_column_text","string",["number","number"]),ns=me("sqlite3_column_blob","number",["number","number"]),Vn=me("sqlite3_column_bytes","number",["number","number"]),Sa=me("sqlite3_column_type","number",["number","number"]),Ys=me("sqlite3_column_name","string",["number","number"]),ko=me("sqlite3_reset","number",["number"]),So=me("sqlite3_clear_bindings","number",["number"]),No=me("sqlite3_finalize","number",["number"]),Na=me("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),jo=me("sqlite3_value_type","number",["number"]),_o=me("sqlite3_value_bytes","number",["number"]),Co=me("sqlite3_value_text","string",["number"]),Eo=me("sqlite3_value_blob","number",["number"]),Po=me("sqlite3_value_double","number",["number"]),Js=me("sqlite3_result_double","",["number","number"]),ei=me("sqlite3_result_null","",["number"]),Io=me("sqlite3_result_text","",["number","string","number","number"]),Ao=me("sqlite3_result_blob","",["number","number","number","number"]),To=me("sqlite3_result_int","",["number","number"]),vn=me("sqlite3_result_error","",["number","string","number"]),ti=me("sqlite3_aggregate_context","number",["number","number"]),ri=me("RegisterExtensionFunctions","number",["number"]),ni=me("sqlite3_update_hook","number",["number","number","number"]);P.prototype.bind=function(Y){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(Y)?this.Cb(Y):Y!=null&&typeof Y=="object"?this.Db(Y):!0},P.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var Y=$t(this.Qa);switch(Y){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Y)}},P.prototype.wb=function(Y){return Y==null&&(Y=this.Oa,this.Oa+=1),bo(this.Qa,Y)},P.prototype.Gb=function(Y){if(Y==null&&(Y=this.Oa,this.Oa+=1),Y=ka(this.Qa,Y),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Y)},P.prototype.Hb=function(Y){return Y==null&&(Y=this.Oa,this.Oa+=1),ka(this.Qa,Y)},P.prototype.getBlob=function(Y){Y==null&&(Y=this.Oa,this.Oa+=1);var ve=Vn(this.Qa,Y);Y=ns(this.Qa,Y);for(var ze=new Uint8Array(ve),We=0;We<ve;We+=1)ze[We]=he[Y+We];return ze},P.prototype.get=function(Y,ve){ve=ve||{},Y!=null&&this.bind(Y)&&this.step(),Y=[];for(var ze=Gn(this.Qa),We=0;We<ze;We+=1)switch(Sa(this.Qa,We)){case 1:var Qe=ve.useBigInt?this.Gb(We):this.wb(We);Y.push(Qe);break;case 2:Y.push(this.wb(We));break;case 3:Y.push(this.Hb(We));break;case 4:Y.push(this.getBlob(We));break;default:Y.push(null)}return Y},P.prototype.getColumnNames=function(){for(var Y=[],ve=rs(this.Qa),ze=0;ze<ve;ze+=1)Y.push(Ys(this.Qa,ze));return Y},P.prototype.getAsObject=function(Y,ve){Y=this.get(Y,ve),ve=this.getColumnNames();for(var ze={},We=0;We<ve.length;We+=1)ze[ve[We]]=Y[We];return ze},P.prototype.getSQL=function(){return es(this.Qa)},P.prototype.getNormalizedSQL=function(){return Fr(this.Qa)},P.prototype.run=function(Y){return Y!=null&&this.bind(Y),this.step(),this.reset()},P.prototype.sb=function(Y,ve){ve==null&&(ve=this.Oa,this.Oa+=1),Y=Xe(Y);var ze=qn(Y,gn);this.lb.push(ze),this.db.handleError(va(this.Qa,ve,ze,Y.length-1,0))},P.prototype.Bb=function(Y,ve){ve==null&&(ve=this.Oa,this.Oa+=1);var ze=qn(Y,gn);this.lb.push(ze),this.db.handleError(ts(this.Qa,ve,ze,Y.length,0))},P.prototype.rb=function(Y,ve){ve==null&&(ve=this.Oa,this.Oa+=1),this.db.handleError((Y===(Y|0)?ba:wa)(this.Qa,ve,Y))},P.prototype.Eb=function(Y){Y==null&&(Y=this.Oa,this.Oa+=1),ts(this.Qa,Y,0,0,0)},P.prototype.tb=function(Y,ve){switch(ve==null&&(ve=this.Oa,this.Oa+=1),typeof Y){case"string":this.sb(Y,ve);return;case"number":this.rb(Y,ve);return;case"bigint":this.sb(Y.toString(),ve);return;case"boolean":this.rb(Y+0,ve);return;case"object":if(Y===null){this.Eb(ve);return}if(Y.length!=null){this.Bb(Y,ve);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Y+")."},P.prototype.Db=function(Y){var ve=this;return Object.keys(Y).forEach(function(ze){var We=Xs(ve.Qa,ze);We!==0&&ve.tb(Y[ze],We)}),!0},P.prototype.Cb=function(Y){for(var ve=0;ve<Y.length;ve+=1)this.tb(Y[ve],ve+1);return!0},P.prototype.reset=function(){return this.freemem(),So(this.Qa)===0&&ko(this.Qa)===0},P.prototype.freemem=function(){for(var Y;(Y=this.lb.pop())!==void 0;)zr(Y)},P.prototype.free=function(){this.freemem();var Y=No(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,Y},M.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var Y=Hn(),ve=Zt(4);b(ee),b(ve);try{this.db.handleError(xa(this.db.db,this.kb,-1,ee,ve)),this.kb=it(ve,"i32");var ze=it(ee,"i32");return ze===0?(this.mb(),{done:!0}):(this.Za=new P(ze,this.db),this.db.fb[ze]=this.Za,{value:this.Za,done:!1})}catch(We){throw this.pb=z(this.kb),this.mb(),We}finally{yn(Y)}},M.prototype.mb=function(){zr(this.eb),this.eb=null},M.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:z(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(M.prototype[Symbol.iterator]=function(){return this}),$.prototype.run=function(Y,ve){if(!this.db)throw"Database closed";if(ve){Y=this.prepare(Y,ve);try{Y.step()}finally{Y.free()}}else this.handleError(Ze(this.db,Y,0,0,ee));return this},$.prototype.exec=function(Y,ve,ze){if(!this.db)throw"Database closed";var We=Hn(),Qe=null;try{var st=pa(Y),lr=Zt(4);for(Y=[];it(st,"i8")!==0;){b(ee),b(lr),this.handleError(xa(this.db,st,-1,ee,lr));var Xt=it(ee,"i32");if(st=it(lr,"i32"),Xt!==0){var At=null;for(Qe=new P(Xt,this),ve!=null&&Qe.bind(ve);Qe.step();)At===null&&(At={columns:Qe.getColumnNames(),values:[]},Y.push(At)),At.values.push(Qe.get(null,ze));Qe.free()}}return Y}catch(Tt){throw Qe&&Qe.free(),Tt}finally{yn(We)}},$.prototype.each=function(Y,ve,ze,We,Qe){typeof ve=="function"&&(We=ze,ze=ve,ve=void 0),Y=this.prepare(Y,ve);try{for(;Y.step();)ze(Y.getAsObject(null,Qe))}finally{Y.free()}if(typeof We=="function")return We()},$.prototype.prepare=function(Y,ve){if(b(ee),this.handleError(jt(this.db,Y,-1,ee,0)),Y=it(ee,"i32"),Y===0)throw"Nothing to prepare";var ze=new P(Y,this);return ve!=null&&ze.bind(ve),this.fb[Y]=ze},$.prototype.iterateStatements=function(Y){return new M(Y,this)},$.prototype.export=function(){Object.values(this.fb).forEach(function(ve){ve.free()}),Object.values(this.Sa).forEach(or),this.Sa={},this.handleError(Je(this.db));var Y=vo(this.filename);return this.handleError($e(this.filename,ee)),this.db=it(ee,"i32"),ri(this.db),Y},$.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(Y){Y.free()}),Object.values(this.Sa).forEach(or),this.Sa={},this.Ya&&(or(this.Ya),this.Ya=void 0),this.handleError(Je(this.db)),Gs("/"+this.filename),this.db=null)},$.prototype.handleError=function(Y){if(Y===0)return null;throw Y=xn(this.db),Error(Y)},$.prototype.getRowsModified=function(){return lt(this.db)},$.prototype.create_function=function(Y,ve){Object.prototype.hasOwnProperty.call(this.Sa,Y)&&(or(this.Sa[Y]),delete this.Sa[Y]);var ze=Qt(function(We,Qe,st){Qe=m(Qe,st);try{var lr=ve.apply(null,Qe)}catch(Xt){vn(We,Xt,-1);return}l(We,lr)},"viii");return this.Sa[Y]=ze,this.handleError(Na(this.db,Y,ve.length,1,0,ze,0,0,0)),this},$.prototype.create_aggregate=function(Y,ve){var ze=ve.init||function(){return null},We=ve.finalize||function(At){return At},Qe=ve.step;if(!Qe)throw"An aggregate function must have a step function in "+Y;var st={};Object.hasOwnProperty.call(this.Sa,Y)&&(or(this.Sa[Y]),delete this.Sa[Y]),ve=Y+"__finalize",Object.hasOwnProperty.call(this.Sa,ve)&&(or(this.Sa[ve]),delete this.Sa[ve]);var lr=Qt(function(At,Tt,as){var Ur=ti(At,1);Object.hasOwnProperty.call(st,Ur)||(st[Ur]=ze()),Tt=m(Tt,as),Tt=[st[Ur]].concat(Tt);try{st[Ur]=Qe.apply(null,Tt)}catch(ai){delete st[Ur],vn(At,ai,-1)}},"viii"),Xt=Qt(function(At){var Tt=ti(At,1);try{var as=We(st[Tt])}catch(Ur){delete st[Tt],vn(At,Ur,-1);return}l(At,as),delete st[Tt]},"vi");return this.Sa[Y]=lr,this.Sa[ve]=Xt,this.handleError(Na(this.db,Y,Qe.length-1,1,0,0,lr,Xt,0)),this},$.prototype.updateHook=function(Y){this.Ya&&(ni(this.db,0,0),or(this.Ya),this.Ya=void 0),Y&&(this.Ya=Qt(function(ve,ze,We,Qe,st){switch(ze){case 18:ve="insert";break;case 23:ve="update";break;case 9:ve="delete";break;default:throw"unknown operationCode in updateHook callback: "+ze}if(We=We?J(ge,We):"",Qe=Qe?J(ge,Qe):"",st>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";Y(ve,We,Qe,Number(st))},"viiiij"),ni(this.db,this.Ya,0))},p.Database=$};var w={...p},I="./this.program",k=(l,m)=>{throw m},S="",v,j;if(N){var D=hf;S=__dirname+"/",j=l=>(l=pe(l)?new URL(l):l,D.readFileSync(l)),v=async l=>(l=pe(l)?new URL(l):l,D.readFileSync(l,void 0)),!p.thisProgram&&1<process.argv.length&&(I=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),o.exports=p,k=(l,m)=>{throw process.exitCode=l,m}}else(C||_)&&(_?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),S=S.startsWith("blob:")?"":S.slice(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1),_&&(j=l=>{var m=new XMLHttpRequest;return m.open("GET",l,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),v=async l=>{if(pe(l))return new Promise((P,M)=>{var $=new XMLHttpRequest;$.open("GET",l,!0),$.responseType="arraybuffer",$.onload=()=>{$.status==200||$.status==0&&$.response?P($.response):M($.status)},$.onerror=M,$.send(null)});var m=await fetch(l,{credentials:"same-origin"});if(m.ok)return m.arrayBuffer();throw Error(m.status+" : "+m.url)});var O=p.print||console.log.bind(console),B=p.printErr||console.error.bind(console);Object.assign(p,w),w=null,p.thisProgram&&(I=p.thisProgram);var W=p.wasmBinary,H,ie=!1,ne,he,ge,U,X,E,ue,Ee,fe,pe=l=>l.startsWith("file://");function Z(){var l=H.buffer;p.HEAP8=he=new Int8Array(l),p.HEAP16=U=new Int16Array(l),p.HEAPU8=ge=new Uint8Array(l),p.HEAPU16=new Uint16Array(l),p.HEAP32=X=new Int32Array(l),p.HEAPU32=E=new Uint32Array(l),p.HEAPF32=ue=new Float32Array(l),p.HEAPF64=fe=new Float64Array(l),p.HEAP64=Ee=new BigInt64Array(l),p.HEAPU64=new BigUint64Array(l)}var Q=0,T=null;function R(l){throw p.onAbort?.(l),l="Aborted("+l+")",B(l),ie=!0,new WebAssembly.RuntimeError(l+". Build with -sASSERTIONS for more info.")}var le;async function de(l){if(!W)try{var m=await v(l);return new Uint8Array(m)}catch{}if(l==le&&W)l=new Uint8Array(W);else if(j)l=j(l);else throw"both async and sync fetching of the wasm failed";return l}async function se(l,m){try{var P=await de(l);return await WebAssembly.instantiate(P,m)}catch(M){B(`failed to asynchronously prepare wasm: ${M}`),R(M)}}async function _e(l){var m=le;if(!W&&typeof WebAssembly.instantiateStreaming=="function"&&!pe(m)&&!N)try{var P=fetch(m,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(P,l)}catch(M){B(`wasm streaming compile failed: ${M}`),B("falling back to ArrayBuffer instantiation")}return se(m,l)}class Te{name="ExitStatus";constructor(m){this.message=`Program terminated with exit(${m})`,this.status=m}}var Ie=l=>{for(;0<l.length;)l.shift()(p)},Me=[],Ve=[],nt=()=>{var l=p.preRun.shift();Ve.unshift(l)};function it(l,m="i8"){switch(m.endsWith("*")&&(m="*"),m){case"i1":return he[l];case"i8":return he[l];case"i16":return U[l>>1];case"i32":return X[l>>2];case"i64":return Ee[l>>3];case"float":return ue[l>>2];case"double":return fe[l>>3];case"*":return E[l>>2];default:R(`invalid type for getValue: ${m}`)}}var Ne=p.noExitRuntime||!0;function b(l){var m="i32";switch(m.endsWith("*")&&(m="*"),m){case"i1":he[l]=0;break;case"i8":he[l]=0;break;case"i16":U[l>>1]=0;break;case"i32":X[l>>2]=0;break;case"i64":Ee[l>>3]=BigInt(0);break;case"float":ue[l>>2]=0;break;case"double":fe[l>>3]=0;break;case"*":E[l>>2]=0;break;default:R(`invalid type for setValue: ${m}`)}}var ce=typeof TextDecoder<"u"?new TextDecoder:void 0,J=(l,m=0,P=NaN)=>{var M=m+P;for(P=m;l[P]&&!(P>=M);)++P;if(16<P-m&&l.buffer&&ce)return ce.decode(l.subarray(m,P));for(M="";m<P;){var $=l[m++];if($&128){var ee=l[m++]&63;if(($&224)==192)M+=String.fromCharCode(($&31)<<6|ee);else{var me=l[m++]&63;$=($&240)==224?($&15)<<12|ee<<6|me:($&7)<<18|ee<<12|me<<6|l[m++]&63,65536>$?M+=String.fromCharCode($):($-=65536,M+=String.fromCharCode(55296|$>>10,56320|$&1023))}}else M+=String.fromCharCode($)}return M},z=(l,m)=>l?J(ge,l,m):"",L=(l,m)=>{for(var P=0,M=l.length-1;0<=M;M--){var $=l[M];$==="."?l.splice(M,1):$===".."?(l.splice(M,1),P++):P&&(l.splice(M,1),P--)}if(m)for(;P;P--)l.unshift("..");return l},V=l=>{var m=l.charAt(0)==="/",P=l.slice(-1)==="/";return(l=L(l.split("/").filter(M=>!!M),!m).join("/"))||m||(l="."),l&&P&&(l+="/"),(m?"/":"")+l},ye=l=>{var m=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1);return l=m[0],m=m[1],!l&&!m?".":(m&&=m.slice(0,-1),l+m)},xe=l=>l&&l.match(/([^\/]+|\/)\/*$/)[1],re=()=>{if(N){var l=hf;return m=>l.randomFillSync(m)}return m=>crypto.getRandomValues(m)},Se=l=>{(Se=re())(l)},Ae=(...l)=>{for(var m="",P=!1,M=l.length-1;-1<=M&&!P;M--){if(P=0<=M?l[M]:"/",typeof P!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";m=P+"/"+m,P=P.charAt(0)==="/"}return m=L(m.split("/").filter($=>!!$),!P).join("/"),(P?"/":"")+m||"."},je=[],Ue=l=>{for(var m=0,P=0;P<l.length;++P){var M=l.charCodeAt(P);127>=M?m++:2047>=M?m+=2:55296<=M&&57343>=M?(m+=4,++P):m+=3}return m},Ye=(l,m,P,M)=>{if(!(0<M))return 0;var $=P;M=P+M-1;for(var ee=0;ee<l.length;++ee){var me=l.charCodeAt(ee);if(55296<=me&&57343>=me){var $e=l.charCodeAt(++ee);me=65536+((me&1023)<<10)|$e&1023}if(127>=me){if(P>=M)break;m[P++]=me}else{if(2047>=me){if(P+1>=M)break;m[P++]=192|me>>6}else{if(65535>=me){if(P+2>=M)break;m[P++]=224|me>>12}else{if(P+3>=M)break;m[P++]=240|me>>18,m[P++]=128|me>>12&63}m[P++]=128|me>>6&63}m[P++]=128|me&63}}return m[P]=0,P-$},Xe=(l,m)=>{var P=Array(Ue(l)+1);return l=Ye(l,P,0,P.length),m&&(P.length=l),P},St=[];function Gt(l,m){St[l]={input:[],output:[],cb:m},Va(l,Nt)}var Nt={open(l){var m=St[l.node.rdev];if(!m)throw new Pe(43);l.tty=m,l.seekable=!1},close(l){l.tty.cb.fsync(l.tty)},fsync(l){l.tty.cb.fsync(l.tty)},read(l,m,P,M){if(!l.tty||!l.tty.cb.xb)throw new Pe(60);for(var $=0,ee=0;ee<M;ee++){try{var me=l.tty.cb.xb(l.tty)}catch{throw new Pe(29)}if(me===void 0&&$===0)throw new Pe(6);if(me==null)break;$++,m[P+ee]=me}return $&&(l.node.atime=Date.now()),$},write(l,m,P,M){if(!l.tty||!l.tty.cb.qb)throw new Pe(60);try{for(var $=0;$<M;$++)l.tty.cb.qb(l.tty,m[P+$])}catch{throw new Pe(29)}return M&&(l.node.mtime=l.node.ctime=Date.now()),$}},Hr={xb(){e:{if(!je.length){var l=null;if(N){var m=Buffer.alloc(256),P=0,M=process.stdin.fd;try{P=D.readSync(M,m,0,256)}catch($){if($.toString().includes("EOF"))P=0;else throw $}0<P&&(l=m.slice(0,P).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(l=window.prompt("Input: "),l!==null&&(l+=`
`));if(!l){l=null;break e}je=Xe(l,!0)}l=je.shift()}return l},qb(l,m){m===null||m===10?(O(J(l.output)),l.output=[]):m!=0&&l.output.push(m)},fsync(l){0<l.output?.length&&(O(J(l.output)),l.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},ut={qb(l,m){m===null||m===10?(B(J(l.output)),l.output=[]):m!=0&&l.output.push(m)},fsync(l){0<l.output?.length&&(B(J(l.output)),l.output=[])}},Ge={Wa:null,Xa(){return Ge.createNode(null,"/",16895,0)},createNode(l,m,P,M){if((P&61440)===24576||(P&61440)===4096)throw new Pe(63);return Ge.Wa||(Ge.Wa={dir:{node:{Ta:Ge.La.Ta,Ua:Ge.La.Ua,lookup:Ge.La.lookup,hb:Ge.La.hb,rename:Ge.La.rename,unlink:Ge.La.unlink,rmdir:Ge.La.rmdir,readdir:Ge.La.readdir,symlink:Ge.La.symlink},stream:{Va:Ge.Ma.Va}},file:{node:{Ta:Ge.La.Ta,Ua:Ge.La.Ua},stream:{Va:Ge.Ma.Va,read:Ge.Ma.read,write:Ge.Ma.write,ib:Ge.Ma.ib,jb:Ge.Ma.jb}},link:{node:{Ta:Ge.La.Ta,Ua:Ge.La.Ua,readlink:Ge.La.readlink},stream:{}},ub:{node:{Ta:Ge.La.Ta,Ua:Ge.La.Ua},stream:qs}}),P=fn(l,m,P,M),Lt(P.mode)?(P.La=Ge.Wa.dir.node,P.Ma=Ge.Wa.dir.stream,P.Na={}):(P.mode&61440)===32768?(P.La=Ge.Wa.file.node,P.Ma=Ge.Wa.file.stream,P.Ra=0,P.Na=null):(P.mode&61440)===40960?(P.La=Ge.Wa.link.node,P.Ma=Ge.Wa.link.stream):(P.mode&61440)===8192&&(P.La=Ge.Wa.ub.node,P.Ma=Ge.Wa.ub.stream),P.atime=P.mtime=P.ctime=Date.now(),l&&(l.Na[m]=P,l.atime=l.mtime=l.ctime=P.atime),P},Sb(l){return l.Na?l.Na.subarray?l.Na.subarray(0,l.Ra):new Uint8Array(l.Na):new Uint8Array(0)},La:{Ta(l){var m={};return m.dev=(l.mode&61440)===8192?l.id:1,m.ino=l.id,m.mode=l.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=l.rdev,Lt(l.mode)?m.size=4096:(l.mode&61440)===32768?m.size=l.Ra:(l.mode&61440)===40960?m.size=l.link.length:m.size=0,m.atime=new Date(l.atime),m.mtime=new Date(l.mtime),m.ctime=new Date(l.ctime),m.blksize=4096,m.blocks=Math.ceil(m.size/m.blksize),m},Ua(l,m){for(var P of["mode","atime","mtime","ctime"])m[P]!=null&&(l[P]=m[P]);m.size!==void 0&&(m=m.size,l.Ra!=m&&(m==0?(l.Na=null,l.Ra=0):(P=l.Na,l.Na=new Uint8Array(m),P&&l.Na.set(P.subarray(0,Math.min(m,l.Ra))),l.Ra=m)))},lookup(){throw Ge.vb},hb(l,m,P,M){return Ge.createNode(l,m,P,M)},rename(l,m,P){try{var M=kr(m,P)}catch{}if(M){if(Lt(l.mode))for(var $ in M.Na)throw new Pe(55);Vr(M)}delete l.parent.Na[l.name],m.Na[P]=l,l.name=P,m.ctime=m.mtime=l.parent.ctime=l.parent.mtime=Date.now()},unlink(l,m){delete l.Na[m],l.ctime=l.mtime=Date.now()},rmdir(l,m){var P=kr(l,m),M;for(M in P.Na)throw new Pe(55);delete l.Na[m],l.ctime=l.mtime=Date.now()},readdir(l){return[".","..",...Object.keys(l.Na)]},symlink(l,m,P){return l=Ge.createNode(l,m,41471,0),l.link=P,l},readlink(l){if((l.mode&61440)!==40960)throw new Pe(28);return l.link}},Ma:{read(l,m,P,M,$){var ee=l.node.Na;if($>=l.node.Ra)return 0;if(l=Math.min(l.node.Ra-$,M),8<l&&ee.subarray)m.set(ee.subarray($,$+l),P);else for(M=0;M<l;M++)m[P+M]=ee[$+M];return l},write(l,m,P,M,$,ee){if(m.buffer===he.buffer&&(ee=!1),!M)return 0;if(l=l.node,l.mtime=l.ctime=Date.now(),m.subarray&&(!l.Na||l.Na.subarray)){if(ee)return l.Na=m.subarray(P,P+M),l.Ra=M;if(l.Ra===0&&$===0)return l.Na=m.slice(P,P+M),l.Ra=M;if($+M<=l.Ra)return l.Na.set(m.subarray(P,P+M),$),M}ee=$+M;var me=l.Na?l.Na.length:0;if(me>=ee||(ee=Math.max(ee,me*(1048576>me?2:1.125)>>>0),me!=0&&(ee=Math.max(ee,256)),me=l.Na,l.Na=new Uint8Array(ee),0<l.Ra&&l.Na.set(me.subarray(0,l.Ra),0)),l.Na.subarray&&m.subarray)l.Na.set(m.subarray(P,P+M),$);else for(ee=0;ee<M;ee++)l.Na[$+ee]=m[P+ee];return l.Ra=Math.max(l.Ra,$+M),M},Va(l,m,P){if(P===1?m+=l.position:P===2&&(l.node.mode&61440)===32768&&(m+=l.node.Ra),0>m)throw new Pe(28);return m},ib(l,m,P,M,$){if((l.node.mode&61440)!==32768)throw new Pe(43);if(l=l.node.Na,$&2||!l||l.buffer!==he.buffer){$=!0,M=65536*Math.ceil(m/65536);var ee=Nr(65536,M);if(ee&&ge.fill(0,ee,ee+M),M=ee,!M)throw new Pe(48);l&&((0<P||P+m<l.length)&&(l.subarray?l=l.subarray(P,P+m):l=Array.prototype.slice.call(l,P,P+m)),he.set(l,M))}else $=!1,M=l.byteOffset;return{Kb:M,Ab:$}},jb(l,m,P,M){return Ge.Ma.write(l,m,0,M,P,!1),0}}},cn=(l,m)=>{var P=0;return l&&(P|=365),m&&(P|=146),P},Pt=null,Gr={},hr=[],Fn=1,Vt=null,mr=!1,Ut=!0,Dr={},Pe=class{name="ErrnoError";constructor(l){this.Pa=l}},Bs=class{gb={};node=null;get flags(){return this.gb.flags}set flags(l){this.gb.flags=l}get position(){return this.gb.position}set position(l){this.gb.position=l}},$s=class{La={};Ma={};ab=null;constructor(l,m,P,M){l||=this,this.parent=l,this.Xa=l.Xa,this.id=Fn++,this.name=m,this.mode=P,this.rdev=M,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(l){l?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(l){l?this.mode|=146:this.mode&=-147}};function Bt(l,m={}){if(!l)throw new Pe(44);m.nb??(m.nb=!0),l.charAt(0)==="/"||(l="//"+l);var P=0;e:for(;40>P;P++){l=l.split("/").filter($e=>!!$e);for(var M=Pt,$="/",ee=0;ee<l.length;ee++){var me=ee===l.length-1;if(me&&m.parent)break;if(l[ee]!==".")if(l[ee]==="..")$=ye($),M=M.parent;else{$=V($+"/"+l[ee]);try{M=kr(M,l[ee])}catch($e){if($e?.Pa===44&&me&&m.Jb)return{path:$};throw $e}if(!M.ab||me&&!m.nb||(M=M.ab.root),(M.mode&61440)===40960&&(!me||m.$a)){if(!M.La.readlink)throw new Pe(52);M=M.La.readlink(M),M.charAt(0)==="/"||(M=ye($)+"/"+M),l=M+"/"+l.slice(ee+1).join("/");continue e}}}return{path:$,node:M}}throw new Pe(32)}function Un(l){for(var m;;){if(l===l.parent)return l=l.Xa.zb,m?l[l.length-1]!=="/"?`${l}/${m}`:l+m:l;m=m?`${l.name}/${m}`:l.name,l=l.parent}}function la(l,m){for(var P=0,M=0;M<m.length;M++)P=(P<<5)-P+m.charCodeAt(M)|0;return(l+P>>>0)%Vt.length}function Vr(l){var m=la(l.parent.id,l.name);if(Vt[m]===l)Vt[m]=l.bb;else for(m=Vt[m];m;){if(m.bb===l){m.bb=l.bb;break}m=m.bb}}function kr(l,m){var P=Lt(l.mode)?(P=Sr(l,"x"))?P:l.La.lookup?0:2:54;if(P)throw new Pe(P);for(P=Vt[la(l.id,m)];P;P=P.bb){var M=P.name;if(P.parent.id===l.id&&M===m)return P}return l.La.lookup(l,m)}function fn(l,m,P,M){return l=new $s(l,m,P,M),m=la(l.parent.id,l.name),l.bb=Vt[m],Vt[m]=l}function Lt(l){return(l&61440)===16384}function hn(l){var m=["r","w","rw"][l&3];return l&512&&(m+="w"),m}function Sr(l,m){if(Ut)return 0;if(!m.includes("r")||l.mode&292){if(m.includes("w")&&!(l.mode&146)||m.includes("x")&&!(l.mode&73))return 2}else return 2;return 0}function Bn(l,m){if(!Lt(l.mode))return 54;try{return kr(l,m),20}catch{}return Sr(l,"wx")}function ua(l,m,P){try{var M=kr(l,m)}catch($){return $.Pa}if(l=Sr(l,"wx"))return l;if(P){if(!Lt(M.mode))return 54;if(M===M.parent||Un(M)==="/")return 10}else if(Lt(M.mode))return 31;return 0}function da(l){if(!l)throw new Pe(63);return l}function It(l){if(l=hr[l],!l)throw new Pe(8);return l}function Ws(l,m=-1){if(l=Object.assign(new Bs,l),m==-1)e:{for(m=0;4096>=m;m++)if(!hr[m])break e;throw new Pe(33)}return l.fd=m,hr[m]=l}function Kr(l,m=-1){return l=Ws(l,m),l.Ma?.Rb?.(l),l}function ca(l,m,P){var M=l?.Ma.Ua;l=M?l:m,M??=m.La.Ua,da(M),M(l,P)}var qs={open(l){l.Ma=Gr[l.node.rdev].Ma,l.Ma.open?.(l)},Va(){throw new Pe(70)}};function Va(l,m){Gr[l]={Ma:m}}function Ka(l,m){var P=m==="/";if(P&&Pt)throw new Pe(10);if(!P&&m){var M=Bt(m,{nb:!1});if(m=M.path,M=M.node,M.ab)throw new Pe(10);if(!Lt(M.mode))throw new Pe(54)}m={type:l,Wb:{},zb:m,Ib:[]},l=l.Xa(m),l.Xa=m,m.root=l,P?Pt=l:M&&(M.ab=m,M.Xa&&M.Xa.Ib.push(m))}function $n(l,m,P){var M=Bt(l,{parent:!0}).node;if(l=xe(l),!l)throw new Pe(28);if(l==="."||l==="..")throw new Pe(20);var $=Bn(M,l);if($)throw new Pe($);if(!M.La.hb)throw new Pe(63);return M.La.hb(M,l,m,P)}function Hs(l,m=438){return $n(l,m&4095|32768,0)}function ar(l,m=511){return $n(l,m&1023|16384,0)}function fa(l,m,P){typeof P>"u"&&(P=m,m=438),$n(l,m|8192,P)}function Qa(l,m){if(!Ae(l))throw new Pe(44);var P=Bt(m,{parent:!0}).node;if(!P)throw new Pe(44);m=xe(m);var M=Bn(P,m);if(M)throw new Pe(M);if(!P.La.symlink)throw new Pe(63);P.La.symlink(P,m,l)}function ht(l){var m=Bt(l,{parent:!0}).node;l=xe(l);var P=kr(m,l),M=ua(m,l,!0);if(M)throw new Pe(M);if(!m.La.rmdir)throw new Pe(63);if(P.ab)throw new Pe(10);m.La.rmdir(m,l),Vr(P)}function Gs(l){var m=Bt(l,{parent:!0}).node;if(!m)throw new Pe(44);l=xe(l);var P=kr(m,l),M=ua(m,l,!1);if(M)throw new Pe(M);if(!m.La.unlink)throw new Pe(63);if(P.ab)throw new Pe(10);m.La.unlink(m,l),Vr(P)}function Qr(l,m){return l=Bt(l,{$a:!m}).node,da(l.La.Ta)(l)}function Za(l,m,P,M){ca(l,m,{mode:P&4095|m.mode&-4096,ctime:Date.now(),Fb:M})}function Zr(l,m){l=typeof l=="string"?Bt(l,{$a:!0}).node:l,Za(null,l,m)}function Vs(l,m,P){if(Lt(m.mode))throw new Pe(31);if((m.mode&61440)!==32768)throw new Pe(28);var M=Sr(m,"w");if(M)throw new Pe(M);ca(l,m,{size:P,timestamp:Date.now()})}function Xr(l,m,P=438){if(l==="")throw new Pe(44);if(typeof m=="string"){var M={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[m];if(typeof M>"u")throw Error(`Unknown file open mode: ${m}`);m=M}if(P=m&64?P&4095|32768:0,typeof l=="object")M=l;else{var $=l.endsWith("/");l=Bt(l,{$a:!(m&131072),Jb:!0}),M=l.node,l=l.path}var ee=!1;if(m&64)if(M){if(m&128)throw new Pe(20)}else{if($)throw new Pe(31);M=$n(l,P|511,0),ee=!0}if(!M)throw new Pe(44);if((M.mode&61440)===8192&&(m&=-513),m&65536&&!Lt(M.mode))throw new Pe(54);if(!ee&&($=M?(M.mode&61440)===40960?32:Lt(M.mode)&&(hn(m)!=="r"||m&576)?31:Sr(M,hn(m)):44))throw new Pe($);return m&512&&!ee&&($=M,$=typeof $=="string"?Bt($,{$a:!0}).node:$,Vs(null,$,0)),m&=-131713,$=Ws({node:M,path:Un(M),flags:m,seekable:!0,position:0,Ma:M.Ma,Lb:[],error:!1}),$.Ma.open&&$.Ma.open($),ee&&Zr(M,P&511),!p.logReadFiles||m&1||l in Dr||(Dr[l]=1),$}function mn(l){if(l.fd===null)throw new Pe(8);l.ob&&(l.ob=null);try{l.Ma.close&&l.Ma.close(l)}catch(m){throw m}finally{hr[l.fd]=null}l.fd=null}function sr(l,m,P){if(l.fd===null)throw new Pe(8);if(!l.seekable||!l.Ma.Va)throw new Pe(70);if(P!=0&&P!=1&&P!=2)throw new Pe(28);l.position=l.Ma.Va(l,m,P),l.Lb=[]}function Ks(l,m,P,M,$){if(0>M||0>$)throw new Pe(28);if(l.fd===null)throw new Pe(8);if((l.flags&2097155)===1)throw new Pe(8);if(Lt(l.node.mode))throw new Pe(31);if(!l.Ma.read)throw new Pe(28);var ee=typeof $<"u";if(!ee)$=l.position;else if(!l.seekable)throw new Pe(70);return m=l.Ma.read(l,m,P,M,$),ee||(l.position+=m),m}function Kt(l,m,P,M,$){if(0>M||0>$)throw new Pe(28);if(l.fd===null)throw new Pe(8);if((l.flags&2097155)===0)throw new Pe(8);if(Lt(l.node.mode))throw new Pe(31);if(!l.Ma.write)throw new Pe(28);l.seekable&&l.flags&1024&&sr(l,0,2);var ee=typeof $<"u";if(!ee)$=l.position;else if(!l.seekable)throw new Pe(70);return m=l.Ma.write(l,m,P,M,$,void 0),ee||(l.position+=m),m}function vo(l){var m,P=Xr(l,P||0);l=Qr(l).size;var M=new Uint8Array(l);return Ks(P,M,0,l,0),m=M,mn(P),m}function Mr(l,m,P){l=V("/dev/"+l);var M=cn(!!m,!!P);Mr.yb??(Mr.yb=64);var $=Mr.yb++<<8|0;Va($,{open(ee){ee.seekable=!1},close(){P?.buffer?.length&&P(10)},read(ee,me,$e,Je){for(var Ze=0,lt=0;lt<Je;lt++){try{var jt=m()}catch{throw new Pe(29)}if(jt===void 0&&Ze===0)throw new Pe(6);if(jt==null)break;Ze++,me[$e+lt]=jt}return Ze&&(ee.node.atime=Date.now()),Ze},write(ee,me,$e,Je){for(var Ze=0;Ze<Je;Ze++)try{P(me[$e+Ze])}catch{throw new Pe(29)}return Je&&(ee.node.mtime=ee.node.ctime=Date.now()),Ze}}),fa(l,M,$)}var ot={};function pr(l,m,P){if(m.charAt(0)==="/")return m;if(l=l===-100?"/":It(l).path,m.length==0){if(!P)throw new Pe(44);return l}return l+"/"+m}function Yr(l,m){X[l>>2]=m.dev,X[l+4>>2]=m.mode,E[l+8>>2]=m.nlink,X[l+12>>2]=m.uid,X[l+16>>2]=m.gid,X[l+20>>2]=m.rdev,Ee[l+24>>3]=BigInt(m.size),X[l+32>>2]=4096,X[l+36>>2]=m.blocks;var P=m.atime.getTime(),M=m.mtime.getTime(),$=m.ctime.getTime();return Ee[l+40>>3]=BigInt(Math.floor(P/1e3)),E[l+48>>2]=P%1e3*1e6,Ee[l+56>>3]=BigInt(Math.floor(M/1e3)),E[l+64>>2]=M%1e3*1e6,Ee[l+72>>3]=BigInt(Math.floor($/1e3)),E[l+80>>2]=$%1e3*1e6,Ee[l+88>>3]=BigInt(m.ino),0}var Lr=void 0,Jr=()=>{var l=X[+Lr>>2];return Lr+=4,l},Xa=0,wo=[0,31,60,91,121,152,182,213,244,274,305,335],Ya=[0,31,59,90,120,151,181,212,243,273,304,334],pn={},ha=l=>{ne=l,Ne||0<Xa||(p.onExit?.(l),ie=!0),k(l,new Te(l))},Wn=l=>{if(!ie)try{if(l(),!(Ne||0<Xa))try{ne=l=ne,ha(l)}catch(m){m instanceof Te||m=="unwind"||k(1,m)}}catch(m){m instanceof Te||m=="unwind"||k(1,m)}},Ja={},ma=()=>{if(!tt){var l={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},m;for(m in Ja)Ja[m]===void 0?delete l[m]:l[m]=Ja[m];var P=[];for(m in l)P.push(`${m}=${l[m]}`);tt=P}return tt},tt,pa=l=>{var m=Ue(l)+1,P=Zt(m);return Ye(l,ge,P,m),P},Qs=(l,m,P,M)=>{var $={string:Ze=>{var lt=0;return Ze!=null&&Ze!==0&&(lt=pa(Ze)),lt},array:Ze=>{var lt=Zt(Ze.length);return he.set(Ze,lt),lt}};l=p["_"+l];var ee=[],me=0;if(M)for(var $e=0;$e<M.length;$e++){var Je=$[P[$e]];Je?(me===0&&(me=Hn()),ee[$e]=Je(M[$e])):ee[$e]=M[$e]}return P=l(...ee),P=function(Ze){return me!==0&&yn(me),m==="string"?Ze?J(ge,Ze):"":m==="boolean"?!!Ze:Ze}(P)},gn=0,qn=(l,m)=>(m=m==1?Zt(l.length):en(l.length),l.subarray||l.slice||(l=new Uint8Array(l)),ge.set(l,m),m),Rr,ga=[],ir,or=l=>{Rr.delete(ir.get(l)),ir.set(l,null),ga.push(l)},Qt=(l,m)=>{if(!Rr){Rr=new WeakMap;var P=ir.length;if(Rr)for(var M=0;M<0+P;M++){var $=ir.get(M);$&&Rr.set($,M)}}if(P=Rr.get(l)||0)return P;if(ga.length)P=ga.pop();else{try{ir.grow(1)}catch(Je){throw Je instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Je}P=ir.length-1}try{ir.set(P,l)}catch(Je){if(!(Je instanceof TypeError))throw Je;if(typeof WebAssembly.Function=="function"){var ee=WebAssembly.Function;M={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},$={parameters:[],results:m[0]=="v"?[]:[M[m[0]]]};for(var me=1;me<m.length;++me)$.parameters.push(M[m[me]]);m=new ee($,l)}else{M=[1],$=m.slice(0,1),m=m.slice(1),me={i:127,p:127,j:126,f:125,d:124,e:111},M.push(96);var $e=m.length;128>$e?M.push($e):M.push($e%128|128,$e>>7);for(ee of m)M.push(me[ee]);$=="v"?M.push(0):M.push(1,me[$]),m=[0,97,115,109,1,0,0,0,1],ee=M.length,128>ee?m.push(ee):m.push(ee%128|128,ee>>7),m.push(...M),m.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),m=new WebAssembly.Module(new Uint8Array(m)),m=new WebAssembly.Instance(m,{e:{f:l}}).exports.f}ir.set(P,m)}return Rr.set(l,P),P};Vt=Array(4096),Ka(Ge,"/"),ar("/tmp"),ar("/home"),ar("/home/web_user"),function(){ar("/dev"),Va(259,{read:()=>0,write:(M,$,ee,me)=>me,Va:()=>0}),fa("/dev/null",259),Gt(1280,Hr),Gt(1536,ut),fa("/dev/tty",1280),fa("/dev/tty1",1536);var l=new Uint8Array(1024),m=0,P=()=>(m===0&&(Se(l),m=l.byteLength),l[--m]);Mr("random",P),Mr("urandom",P),ar("/dev/shm"),ar("/dev/shm/tmp")}(),function(){ar("/proc");var l=ar("/proc/self");ar("/proc/self/fd"),Ka({Xa(){var m=fn(l,"fd",16895,73);return m.Ma={Va:Ge.Ma.Va},m.La={lookup(P,M){P=+M;var $=It(P);return P={parent:null,Xa:{zb:"fake"},La:{readlink:()=>$.path},id:P+1},P.parent=P},readdir(){return Array.from(hr.entries()).filter(([,P])=>P).map(([P])=>P.toString())}},m}},"/proc/self/fd")}(),Ge.vb=new Pe(44),Ge.vb.stack="<generic error, no stack>";var Or={a:(l,m,P,M)=>R(`Assertion failed: ${l?J(ge,l):""}, at: `+[m?m?J(ge,m):"":"unknown filename",P,M?M?J(ge,M):"":"unknown function"]),i:function(l,m){try{return l=l?J(ge,l):"",Zr(l,m),0}catch(P){if(typeof ot>"u"||P.name!=="ErrnoError")throw P;return-P.Pa}},L:function(l,m,P){try{if(m=m?J(ge,m):"",m=pr(l,m),P&-8)return-28;var M=Bt(m,{$a:!0}).node;return M?(l="",P&4&&(l+="r"),P&2&&(l+="w"),P&1&&(l+="x"),l&&Sr(M,l)?-2:0):-44}catch($){if(typeof ot>"u"||$.name!=="ErrnoError")throw $;return-$.Pa}},j:function(l,m){try{var P=It(l);return Za(P,P.node,m,!1),0}catch(M){if(typeof ot>"u"||M.name!=="ErrnoError")throw M;return-M.Pa}},h:function(l){try{var m=It(l);return ca(m,m.node,{timestamp:Date.now(),Fb:!1}),0}catch(P){if(typeof ot>"u"||P.name!=="ErrnoError")throw P;return-P.Pa}},b:function(l,m,P){Lr=P;try{var M=It(l);switch(m){case 0:var $=Jr();if(0>$)break;for(;hr[$];)$++;return Kr(M,$).fd;case 1:case 2:return 0;case 3:return M.flags;case 4:return $=Jr(),M.flags|=$,0;case 12:return $=Jr(),U[$+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(ee){if(typeof ot>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},g:function(l,m){try{var P=It(l),M=P.node,$=P.Ma.Ta;l=$?P:M,$??=M.La.Ta,da($);var ee=$(l);return Yr(m,ee)}catch(me){if(typeof ot>"u"||me.name!=="ErrnoError")throw me;return-me.Pa}},H:function(l,m){m=-9007199254740992>m||9007199254740992<m?NaN:Number(m);try{if(isNaN(m))return 61;var P=It(l);if(0>m||(P.flags&2097155)===0)throw new Pe(28);return Vs(P,P.node,m),0}catch(M){if(typeof ot>"u"||M.name!=="ErrnoError")throw M;return-M.Pa}},G:function(l,m){try{if(m===0)return-28;var P=Ue("/")+1;return m<P?-68:(Ye("/",ge,l,m),P)}catch(M){if(typeof ot>"u"||M.name!=="ErrnoError")throw M;return-M.Pa}},K:function(l,m){try{return l=l?J(ge,l):"",Yr(m,Qr(l,!0))}catch(P){if(typeof ot>"u"||P.name!=="ErrnoError")throw P;return-P.Pa}},C:function(l,m,P){try{return m=m?J(ge,m):"",m=pr(l,m),ar(m,P),0}catch(M){if(typeof ot>"u"||M.name!=="ErrnoError")throw M;return-M.Pa}},J:function(l,m,P,M){try{m=m?J(ge,m):"";var $=M&256;return m=pr(l,m,M&4096),Yr(P,$?Qr(m,!0):Qr(m))}catch(ee){if(typeof ot>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},x:function(l,m,P,M){Lr=M;try{m=m?J(ge,m):"",m=pr(l,m);var $=M?Jr():0;return Xr(m,P,$).fd}catch(ee){if(typeof ot>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},v:function(l,m,P,M){try{if(m=m?J(ge,m):"",m=pr(l,m),0>=M)return-28;var $=Bt(m).node;if(!$)throw new Pe(44);if(!$.La.readlink)throw new Pe(28);var ee=$.La.readlink($),me=Math.min(M,Ue(ee)),$e=he[P+me];return Ye(ee,ge,P,M+1),he[P+me]=$e,me}catch(Je){if(typeof ot>"u"||Je.name!=="ErrnoError")throw Je;return-Je.Pa}},u:function(l){try{return l=l?J(ge,l):"",ht(l),0}catch(m){if(typeof ot>"u"||m.name!=="ErrnoError")throw m;return-m.Pa}},f:function(l,m){try{return l=l?J(ge,l):"",Yr(m,Qr(l))}catch(P){if(typeof ot>"u"||P.name!=="ErrnoError")throw P;return-P.Pa}},r:function(l,m,P){try{return m=m?J(ge,m):"",m=pr(l,m),P===0?Gs(m):P===512?ht(m):R("Invalid flags passed to unlinkat"),0}catch(M){if(typeof ot>"u"||M.name!=="ErrnoError")throw M;return-M.Pa}},q:function(l,m,P){try{m=m?J(ge,m):"",m=pr(l,m,!0);var M=Date.now(),$,ee;if(P){var me=E[P>>2]+4294967296*X[P+4>>2],$e=X[P+8>>2];$e==1073741823?$=M:$e==1073741822?$=null:$=1e3*me+$e/1e6,P+=16,me=E[P>>2]+4294967296*X[P+4>>2],$e=X[P+8>>2],$e==1073741823?ee=M:$e==1073741822?ee=null:ee=1e3*me+$e/1e6}else ee=$=M;if((ee??$)!==null){l=$;var Je=Bt(m,{$a:!0}).node;da(Je.La.Ua)(Je,{atime:l,mtime:ee})}return 0}catch(Ze){if(typeof ot>"u"||Ze.name!=="ErrnoError")throw Ze;return-Ze.Pa}},m:()=>R(""),l:()=>{Ne=!1,Xa=0},A:function(l,m){l=-9007199254740992>l||9007199254740992<l?NaN:Number(l),l=new Date(1e3*l),X[m>>2]=l.getSeconds(),X[m+4>>2]=l.getMinutes(),X[m+8>>2]=l.getHours(),X[m+12>>2]=l.getDate(),X[m+16>>2]=l.getMonth(),X[m+20>>2]=l.getFullYear()-1900,X[m+24>>2]=l.getDay();var P=l.getFullYear();X[m+28>>2]=(P%4!==0||P%100===0&&P%400!==0?Ya:wo)[l.getMonth()]+l.getDate()-1|0,X[m+36>>2]=-(60*l.getTimezoneOffset()),P=new Date(l.getFullYear(),6,1).getTimezoneOffset();var M=new Date(l.getFullYear(),0,1).getTimezoneOffset();X[m+32>>2]=(P!=M&&l.getTimezoneOffset()==Math.min(M,P))|0},y:function(l,m,P,M,$,ee,me){$=-9007199254740992>$||9007199254740992<$?NaN:Number($);try{if(isNaN($))return 61;var $e=It(M);if((m&2)!==0&&(P&2)===0&&($e.flags&2097155)!==2)throw new Pe(2);if(($e.flags&2097155)===1)throw new Pe(2);if(!$e.Ma.ib)throw new Pe(43);if(!l)throw new Pe(28);var Je=$e.Ma.ib($e,l,$,m,P),Ze=Je.Kb;return X[ee>>2]=Je.Ab,E[me>>2]=Ze,0}catch(lt){if(typeof ot>"u"||lt.name!=="ErrnoError")throw lt;return-lt.Pa}},z:function(l,m,P,M,$,ee){ee=-9007199254740992>ee||9007199254740992<ee?NaN:Number(ee);try{var me=It($);if(P&2){if(P=ee,(me.node.mode&61440)!==32768)throw new Pe(43);if(!(M&2)){var $e=ge.slice(l,l+m);me.Ma.jb&&me.Ma.jb(me,$e,P,m,M)}}}catch(Je){if(typeof ot>"u"||Je.name!=="ErrnoError")throw Je;return-Je.Pa}},n:(l,m)=>{if(pn[l]&&(clearTimeout(pn[l].id),delete pn[l]),!m)return 0;var P=setTimeout(()=>{delete pn[l],Wn(()=>Zs(l,performance.now()))},m);return pn[l]={id:P,Xb:m},0},B:(l,m,P,M)=>{var $=new Date().getFullYear(),ee=new Date($,0,1).getTimezoneOffset();$=new Date($,6,1).getTimezoneOffset(),E[l>>2]=60*Math.max(ee,$),X[m>>2]=+(ee!=$),m=me=>{var $e=Math.abs(me);return`UTC${0<=me?"-":"+"}${String(Math.floor($e/60)).padStart(2,"0")}${String($e%60).padStart(2,"0")}`},l=m(ee),m=m($),$<ee?(Ye(l,ge,P,17),Ye(m,ge,M,17)):(Ye(l,ge,M,17),Ye(m,ge,P,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:l=>{var m=ge.length;if(l>>>=0,2147483648<l)return!1;for(var P=1;4>=P;P*=2){var M=m*(1+.2/P);M=Math.min(M,l+100663296);e:{M=(Math.min(2147483648,65536*Math.ceil(Math.max(l,M)/65536))-H.buffer.byteLength+65535)/65536|0;try{H.grow(M),Z();var $=1;break e}catch{}$=void 0}if($)return!0}return!1},E:(l,m)=>{var P=0;return ma().forEach((M,$)=>{var ee=m+P;for($=E[l+4*$>>2]=ee,ee=0;ee<M.length;++ee)he[$++]=M.charCodeAt(ee);he[$]=0,P+=M.length+1}),0},F:(l,m)=>{var P=ma();E[l>>2]=P.length;var M=0;return P.forEach($=>M+=$.length+1),E[m>>2]=M,0},e:function(l){try{var m=It(l);return mn(m),0}catch(P){if(typeof ot>"u"||P.name!=="ErrnoError")throw P;return P.Pa}},p:function(l,m){try{var P=It(l);return he[m]=P.tty?2:Lt(P.mode)?3:(P.mode&61440)===40960?7:4,U[m+2>>1]=0,Ee[m+8>>3]=BigInt(0),Ee[m+16>>3]=BigInt(0),0}catch(M){if(typeof ot>"u"||M.name!=="ErrnoError")throw M;return M.Pa}},w:function(l,m,P,M){try{e:{var $=It(l);l=m;for(var ee,me=m=0;me<P;me++){var $e=E[l>>2],Je=E[l+4>>2];l+=8;var Ze=Ks($,he,$e,Je,ee);if(0>Ze){var lt=-1;break e}if(m+=Ze,Ze<Je)break;typeof ee<"u"&&(ee+=Ze)}lt=m}return E[M>>2]=lt,0}catch(jt){if(typeof ot>"u"||jt.name!=="ErrnoError")throw jt;return jt.Pa}},D:function(l,m,P,M){m=-9007199254740992>m||9007199254740992<m?NaN:Number(m);try{if(isNaN(m))return 61;var $=It(l);return sr($,m,P),Ee[M>>3]=BigInt($.position),$.ob&&m===0&&P===0&&($.ob=null),0}catch(ee){if(typeof ot>"u"||ee.name!=="ErrnoError")throw ee;return ee.Pa}},I:function(l){try{var m=It(l);return m.Ma?.fsync?m.Ma.fsync(m):0}catch(P){if(typeof ot>"u"||P.name!=="ErrnoError")throw P;return P.Pa}},t:function(l,m,P,M){try{e:{var $=It(l);l=m;for(var ee,me=m=0;me<P;me++){var $e=E[l>>2],Je=E[l+4>>2];l+=8;var Ze=Kt($,he,$e,Je,ee);if(0>Ze){var lt=-1;break e}if(m+=Ze,Ze<Je)break;typeof ee<"u"&&(ee+=Ze)}lt=m}return E[M>>2]=lt,0}catch(jt){if(typeof ot>"u"||jt.name!=="ErrnoError")throw jt;return jt.Pa}},k:ha},Re;(async function(){function l(P){return Re=P.exports,H=Re.M,Z(),ir=Re.O,Q--,p.monitorRunDependencies?.(Q),Q==0&&T&&(P=T,T=null,P()),Re}Q++,p.monitorRunDependencies?.(Q);var m={a:Or};return p.instantiateWasm?new Promise(P=>{p.instantiateWasm(m,(M,$)=>{l(M),P(M.exports)})}):(le??=p.locateFile?p.locateFile("sql-wasm.wasm",S):S+"sql-wasm.wasm",l((await _e(m)).instance))})(),p._sqlite3_free=l=>(p._sqlite3_free=Re.P)(l),p._sqlite3_value_text=l=>(p._sqlite3_value_text=Re.Q)(l),p._sqlite3_prepare_v2=(l,m,P,M,$)=>(p._sqlite3_prepare_v2=Re.R)(l,m,P,M,$),p._sqlite3_step=l=>(p._sqlite3_step=Re.S)(l),p._sqlite3_reset=l=>(p._sqlite3_reset=Re.T)(l),p._sqlite3_exec=(l,m,P,M,$)=>(p._sqlite3_exec=Re.U)(l,m,P,M,$),p._sqlite3_finalize=l=>(p._sqlite3_finalize=Re.V)(l),p._sqlite3_column_name=(l,m)=>(p._sqlite3_column_name=Re.W)(l,m),p._sqlite3_column_text=(l,m)=>(p._sqlite3_column_text=Re.X)(l,m),p._sqlite3_column_type=(l,m)=>(p._sqlite3_column_type=Re.Y)(l,m),p._sqlite3_errmsg=l=>(p._sqlite3_errmsg=Re.Z)(l),p._sqlite3_clear_bindings=l=>(p._sqlite3_clear_bindings=Re._)(l),p._sqlite3_value_blob=l=>(p._sqlite3_value_blob=Re.$)(l),p._sqlite3_value_bytes=l=>(p._sqlite3_value_bytes=Re.aa)(l),p._sqlite3_value_double=l=>(p._sqlite3_value_double=Re.ba)(l),p._sqlite3_value_int=l=>(p._sqlite3_value_int=Re.ca)(l),p._sqlite3_value_type=l=>(p._sqlite3_value_type=Re.da)(l),p._sqlite3_result_blob=(l,m,P,M)=>(p._sqlite3_result_blob=Re.ea)(l,m,P,M),p._sqlite3_result_double=(l,m)=>(p._sqlite3_result_double=Re.fa)(l,m),p._sqlite3_result_error=(l,m,P)=>(p._sqlite3_result_error=Re.ga)(l,m,P),p._sqlite3_result_int=(l,m)=>(p._sqlite3_result_int=Re.ha)(l,m),p._sqlite3_result_int64=(l,m)=>(p._sqlite3_result_int64=Re.ia)(l,m),p._sqlite3_result_null=l=>(p._sqlite3_result_null=Re.ja)(l),p._sqlite3_result_text=(l,m,P,M)=>(p._sqlite3_result_text=Re.ka)(l,m,P,M),p._sqlite3_aggregate_context=(l,m)=>(p._sqlite3_aggregate_context=Re.la)(l,m),p._sqlite3_column_count=l=>(p._sqlite3_column_count=Re.ma)(l),p._sqlite3_data_count=l=>(p._sqlite3_data_count=Re.na)(l),p._sqlite3_column_blob=(l,m)=>(p._sqlite3_column_blob=Re.oa)(l,m),p._sqlite3_column_bytes=(l,m)=>(p._sqlite3_column_bytes=Re.pa)(l,m),p._sqlite3_column_double=(l,m)=>(p._sqlite3_column_double=Re.qa)(l,m),p._sqlite3_bind_blob=(l,m,P,M,$)=>(p._sqlite3_bind_blob=Re.ra)(l,m,P,M,$),p._sqlite3_bind_double=(l,m,P)=>(p._sqlite3_bind_double=Re.sa)(l,m,P),p._sqlite3_bind_int=(l,m,P)=>(p._sqlite3_bind_int=Re.ta)(l,m,P),p._sqlite3_bind_text=(l,m,P,M,$)=>(p._sqlite3_bind_text=Re.ua)(l,m,P,M,$),p._sqlite3_bind_parameter_index=(l,m)=>(p._sqlite3_bind_parameter_index=Re.va)(l,m),p._sqlite3_sql=l=>(p._sqlite3_sql=Re.wa)(l),p._sqlite3_normalized_sql=l=>(p._sqlite3_normalized_sql=Re.xa)(l),p._sqlite3_changes=l=>(p._sqlite3_changes=Re.ya)(l),p._sqlite3_close_v2=l=>(p._sqlite3_close_v2=Re.za)(l),p._sqlite3_create_function_v2=(l,m,P,M,$,ee,me,$e,Je)=>(p._sqlite3_create_function_v2=Re.Aa)(l,m,P,M,$,ee,me,$e,Je),p._sqlite3_update_hook=(l,m,P)=>(p._sqlite3_update_hook=Re.Ba)(l,m,P),p._sqlite3_open=(l,m)=>(p._sqlite3_open=Re.Ca)(l,m);var en=p._malloc=l=>(en=p._malloc=Re.Da)(l),zr=p._free=l=>(zr=p._free=Re.Ea)(l);p._RegisterExtensionFunctions=l=>(p._RegisterExtensionFunctions=Re.Fa)(l);var Nr=(l,m)=>(Nr=Re.Ga)(l,m),Zs=(l,m)=>(Zs=Re.Ha)(l,m),yn=l=>(yn=Re.Ia)(l),Zt=l=>(Zt=Re.Ja)(l),Hn=()=>(Hn=Re.Ka)();p.stackSave=()=>Hn(),p.stackRestore=l=>yn(l),p.stackAlloc=l=>Zt(l),p.cwrap=(l,m,P,M)=>{var $=!P||P.every(ee=>ee==="number"||ee==="boolean");return m!=="string"&&$&&!M?p["_"+l]:(...ee)=>Qs(l,m,P,ee)},p.addFunction=Qt,p.removeFunction=or,p.UTF8ToString=z,p.ALLOC_NORMAL=gn,p.allocate=qn,p.allocateUTF8OnStack=pa;function ya(){function l(){if(p.calledRun=!0,!ie){if(!p.noFSInit&&!mr){var m,P;mr=!0,M??=p.stdin,m??=p.stdout,P??=p.stderr,M?Mr("stdin",M):Qa("/dev/tty","/dev/stdin"),m?Mr("stdout",null,m):Qa("/dev/tty","/dev/stdout"),P?Mr("stderr",null,P):Qa("/dev/tty1","/dev/stderr"),Xr("/dev/stdin",0),Xr("/dev/stdout",1),Xr("/dev/stderr",1)}if(Re.N(),Ut=!1,p.onRuntimeInitialized?.(),p.postRun)for(typeof p.postRun=="function"&&(p.postRun=[p.postRun]);p.postRun.length;){var M=p.postRun.shift();Me.unshift(M)}Ie(Me)}}if(0<Q)T=ya;else{if(p.preRun)for(typeof p.preRun=="function"&&(p.preRun=[p.preRun]);p.preRun.length;)nt();Ie(Ve),0<Q?T=ya:p.setStatus?(p.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>p.setStatus(""),1),l()},1)):l()}}if(p.preInit)for(typeof p.preInit=="function"&&(p.preInit=[p.preInit]);0<p.preInit.length;)p.preInit.pop()();return ya(),y}),a)};o.exports=u,o.exports.default=u}(hu)),hu.exports}var vp=xp();const wp=Ls(vp),Ps={newCardsPerDay:20,maxReviewsPerDay:100,easyBonus:1.3,intervalModifier:1,maximumInterval:36500,minimumInterval:1},oo=o=>o.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\[sound:[^\]]*\]/g,"").trim(),bp=o=>{if(o.length===0)return{frontIndex:0,backIndex:1};const i=o[0].length,a=[];for(let u=0;u<i;u++)for(let c=u+1;c<i;c++){let f=0,h=0;for(const x of o){const p=oo(x[u]||""),C=oo(x[c]||"");p&&C&&(h++,p.length>2&&C.length>2&&(f+=10),p!==C&&(f+=5),!p.match(/^\[sound:/)&&!C.match(/^\[sound:/)&&(f+=3),!p.match(/^\d+$/)&&!C.match(/^\d+$/)&&(f+=2))}const y=h>0?f/h:0;a.push({frontIndex:u,backIndex:c,score:y})}return a.sort((u,c)=>c.score-u.score),a.length>0&&a[0].score>0?(console.log(`Best field combination: ${a[0].frontIndex} -> ${a[0].backIndex} (score: ${a[0].score})`),{frontIndex:a[0].frontIndex,backIndex:a[0].backIndex}):i>=3?{frontIndex:0,backIndex:2}:{frontIndex:0,backIndex:1}},kp=async o=>{try{const i=await wp({locateFile:N=>`https://sql.js.org/dist/${N}`}),a=await o.arrayBuffer(),f=(await new pp().loadAsync(a)).file("collection.anki2");if(!f)throw new Error("Invalid .apkg file: collection.anki2 not found");const h=await f.async("arraybuffer"),y=new i.Database(new Uint8Array(h)),x=y.exec("SELECT decks FROM col LIMIT 1");let p=o.name.replace(/\.apkg$/,"");if(x.length>0&&x[0].values.length>0)try{const N=x[0].values[0][0],w=JSON.parse(N),I=Object.keys(w).filter(k=>k!=="1");I.length>0&&(p=w[I[0]].name||p)}catch{console.warn("Could not parse deck names from .apkg file, using filename")}const C=y.exec(`
      SELECT n.flds, n.tags, c.type
      FROM notes n
      JOIN cards c ON n.id = c.nid
      WHERE c.type >= 0
      ORDER BY n.id
    `),_=[];if(C.length>0){const N=Math.min(10,C[0].values.length),w=[];for(let S=0;S<N;S++){const v=C[0].values[S][0].split("");w.push(v)}const{frontIndex:I,backIndex:k}=bp(w);console.log(`Using field combination: ${I} (front) -> ${k} (back)`);for(const S of C[0].values){const v=S[0].split("");if(v.length>Math.max(I,k)){const j=oo(v[I]||""),D=oo(v[k]||"");j&&D&&j!==D&&_.push({front:j,back:D})}}}if(y.close(),_.length===0)throw new Error("No valid cards found in the .apkg file");return console.log(`Successfully parsed ${_.length} cards from .apkg file`),{name:p,cards:_}}catch(i){throw console.error("Error parsing .apkg file:",i),new Error(`Failed to parse .apkg file: ${i instanceof Error?i.message:"Unknown error"}`)}},Us=go()(yo((o,i)=>({decks:[],cards:{},currentStudySession:null,isLoading:!1,error:null,importProgress:0,importStatus:null,createDeck:async a=>{o({isLoading:!0,error:null});try{const u={...a,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),settings:{...Ps,...a.settings}};return o(c=>({decks:[...c.decks,u],cards:{...c.cards,[u.id]:[]},isLoading:!1})),u}catch(u){throw o({error:"Failed to create deck",isLoading:!1}),u}},updateDeck:async(a,u)=>{o({isLoading:!0,error:null});try{o(c=>({decks:c.decks.map(f=>f.id===a?{...f,...u,updatedAt:new Date().toISOString()}:f),isLoading:!1}))}catch(c){throw o({error:"Failed to update deck",isLoading:!1}),c}},deleteDeck:async a=>{o({isLoading:!0,error:null});try{o(u=>{const{[a]:c,...f}=u.cards;return{decks:u.decks.filter(h=>h.id!==a),cards:f,isLoading:!1}})}catch(u){throw o({error:"Failed to delete deck",isLoading:!1}),u}},getDeck:a=>i().decks.find(u=>u.id===a),addCard:async(a,u)=>{o({isLoading:!0,error:null});try{const c={...u,id:crypto.randomUUID(),deckId:a,createdAt:new Date().toISOString(),easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0};return o(f=>{const y=[...f.cards[a]||[],c];return{cards:{...f.cards,[a]:y},decks:f.decks.map(x=>x.id===a?{...x,cardCount:y.length,updatedAt:new Date().toISOString()}:x),isLoading:!1}}),c}catch(c){throw o({error:"Failed to add card",isLoading:!1}),c}},addCardBulk:async(a,u)=>{try{const f=i().cards[a]||[],h=`${u.frontContent.trim().toLowerCase()}|${u.backContent.trim().toLowerCase()}`;if(f.some(p=>`${p.frontContent.trim().toLowerCase()}|${p.backContent.trim().toLowerCase()}`===h))return console.log("Skipping duplicate card:",u.frontContent),{...u,id:"duplicate-skipped",deckId:a,createdAt:new Date().toISOString(),easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0};const x={...u,id:crypto.randomUUID(),deckId:a,createdAt:new Date().toISOString(),easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0};return o(p=>{const _=[...p.cards[a]||[],x];return{cards:{...p.cards,[a]:_},decks:p.decks.map(N=>N.id===a?{...N,cardCount:_.length,updatedAt:new Date().toISOString()}:N)}}),x}catch(c){throw console.error("Failed to add card during bulk import:",c),c}},createDeckBulk:async a=>{try{const u={...a,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),settings:{...Ps,...a.settings}};return o(c=>({decks:[...c.decks,u],cards:{...c.cards,[u.id]:[]}})),u}catch(u){throw console.error("Failed to create deck during bulk import:",u),u}},addCardsBatch:async(a,u)=>{try{const f=i().cards[a]||[],h=new Set(f.map(p=>`${p.frontContent.trim().toLowerCase()}|${p.backContent.trim().toLowerCase()}`)),y=u.filter(p=>{const C=`${p.frontContent.trim().toLowerCase()}|${p.backContent.trim().toLowerCase()}`;return!h.has(C)});if(console.log(`Batch processing: ${u.length} cards submitted, ${y.length} unique cards to add`),y.length===0)return console.log("No new unique cards to add in this batch"),[];const x=y.map(p=>({...p,id:crypto.randomUUID(),deckId:a,createdAt:new Date().toISOString(),easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0}));return o(p=>{const _=[...p.cards[a]||[],...x];return{cards:{...p.cards,[a]:_},decks:p.decks.map(N=>N.id===a?{...N,cardCount:_.length,updatedAt:new Date().toISOString()}:N)}}),x}catch(c){throw console.error("Failed to add cards during batch import:",c),c}},updateCard:async(a,u)=>{o({isLoading:!0,error:null});try{o(c=>{const f={...c.cards};for(const h in f)f[h]=f[h].map(y=>y.id===a?{...y,...u}:y);return{cards:f,isLoading:!1}})}catch(c){throw o({error:"Failed to update card",isLoading:!1}),c}},deleteCard:async a=>{o({isLoading:!0,error:null});try{o(u=>{const c={...u.cards};let f="";for(const h in c)if(c[h].findIndex(x=>x.id===a)!==-1){c[h]=c[h].filter(x=>x.id!==a),f=h;break}return{cards:c,decks:u.decks.map(h=>h.id===f?{...h,cardCount:c[f].length,updatedAt:new Date().toISOString()}:h),isLoading:!1}})}catch(u){throw o({error:"Failed to delete card",isLoading:!1}),u}},getCards:a=>i().cards[a]||[],importAnkiDeck:async a=>{const{setImportProgress:u,resetImportProgress:c}=i();o({isLoading:!0,error:null}),c();try{const f=a.name.toLowerCase();if(f.endsWith(".apkg")){u(10,"Reading file...");const{name:h,cards:y}=await kp(a);u(30,"Creating deck...");const x=await i().createDeckBulk({userId:"current-user",title:h,description:`Imported Anki deck with ${y.length} cards`,cardCount:0,isPublic:!1,settings:Ps,category:"imported"});u(40,`Importing ${y.length} cards...`);const p=[],C=new Set;for(const I of y){const k=`${I.front.trim().toLowerCase()}|${I.back.trim().toLowerCase()}`;C.has(k)||(C.add(k),p.push(I))}console.log(`Removed ${y.length-p.length} duplicates from Anki cards. Processing ${p.length} unique cards.`);const _=100;let N=0;const w=p.length;console.log(`Starting batch import of ${w} unique cards`);for(let I=0;I<w;I+=_){const k=p.slice(I,I+_),S=k.map(v=>As(v.front,v.back,{type:"basic"},[]));try{console.log(`Processing batch ${Math.floor(I/_)+1}/${Math.ceil(w/_)} (${k.length} cards)`),await i().addCardsBatch(x.id,S),N+=k.length;const v=40+50*Math.min(I+_,w)/w;u(v,`Imported ${N}/${w} cards...`),console.log(`Batch completed. Progress: ${v.toFixed(1)}%`),await new Promise(j=>setTimeout(j,50))}catch(v){console.error("Failed to import batch:",v);for(const D of k)try{await i().addCardBulk(x.id,As(D.front,D.back,{type:"basic"},[])),N++}catch(O){console.warn("Failed to import individual card:",D,O)}const j=40+50*Math.min(I+_,w)/w;u(j,`Imported ${N}/${w} cards...`)}}return console.log(`Batch import completed. Total successful: ${N}`),u(95,"Finalizing import..."),await i().updateDeck(x.id,{description:`Imported Anki deck with ${N} cards`}),u(100,"Import completed!"),setTimeout(()=>{c()},1e3),o({isLoading:!1}),x}else if(f.endsWith(".txt")||f.endsWith(".tsv")||f.endsWith(".csv")){u(10,"Reading text file...");const h=await a.text();let y="	";f.endsWith(".csv")&&(y=","),u(20,"Processing text content...");const x=h.replace(/\r\n/g,`
`).replace(/\r/g,`
`).trim(),p=await i().importFromText(a.name.replace(/\.[^/.]+$/,""),x,y);return o({isLoading:!1}),p}else{u(10,"Reading file as text...");const h=await a.text();u(20,"Processing content...");const y=h.replace(/\r\n/g,`
`).replace(/\r/g,`
`).trim(),x=await i().importFromText(a.name.replace(/\.[^/.]+$/,""),y,"	");return o({isLoading:!1}),x}}catch(f){const h=f instanceof Error?f.message:"Failed to import Anki deck";throw o({error:h,isLoading:!1}),c(),f}},importFromText:async(a,u,c="	")=>{const{setImportProgress:f,resetImportProgress:h}=i();o({isLoading:!0,error:null});try{f(30,"Processing text content...");const x=u.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\\u0000/g,"").replace(/[\\u0001-\\u0008\\u000B\\u000C\\u000E-\\u001F\\u007F]/g,"").trim().split(`
`).map(S=>S.trim()).filter(S=>S.length>0);if(x.length===0)throw new Error("No valid content found in the file");f(40,"Creating deck...");const p=await i().createDeckBulk({userId:"current-user",title:a,description:`Imported deck with ${x.length} cards`,cardCount:0,isPublic:!1,settings:Ps,category:"imported"});f(50,`Importing ${x.length} cards...`);const C=[];let _=0;for(let S=0;S<x.length;S++){const v=x[S];try{let j;if(c===","&&v.includes('"')?j=v.split(",").map(D=>D.replace(/^"(.*)"$/,"$1").trim()):j=v.split(c),j.length>=2){const D=j[0].trim(),O=j[1].trim();D&&O?C.push(As(D,O,{type:"basic"},[])):_++}else _++}catch(j){console.warn("Failed to parse line:",v,j),_++}}const N=[],w=new Set;for(const S of C){const v=`${S.frontContent.trim().toLowerCase()}|${S.backContent.trim().toLowerCase()}`;w.has(v)||(w.add(v),N.push(S))}console.log(`Removed ${C.length-N.length} duplicates from parsed cards. Processing ${N.length} unique cards.`);const I=100;let k=0;console.log(`Starting text import batch processing of ${N.length} unique cards`);for(let S=0;S<N.length;S+=I){const v=N.slice(S,S+I);try{console.log(`Processing text batch ${Math.floor(S/I)+1}/${Math.ceil(N.length/I)} (${v.length} cards)`);const j=await i().addCardsBatch(p.id,v);k+=j.length;const D=50+40*Math.min(S+I,N.length)/N.length;f(D,`Imported ${k}/${N.length} cards...`),console.log(`Text batch completed. Progress: ${D.toFixed(1)}%, Added: ${j.length} cards`),await new Promise(O=>setTimeout(O,50))}catch(j){console.error("Failed to import text batch:",j);for(const O of v)try{(await i().addCardBulk(p.id,O)).id!=="duplicate-skipped"&&k++}catch(B){console.warn("Failed to import individual text card:",O,B)}const D=50+40*Math.min(S+I,N.length)/N.length;f(D,`Imported ${k}/${N.length} cards...`)}}if(console.log(`Text import batch processing completed. Total successful: ${k}`),f(95,"Finalizing import..."),await i().updateDeck(p.id,{description:`Imported deck with ${k} cards${_>0?` (${_} lines skipped)`:""}`}),k===0)throw new Error("No valid cards could be imported. Please check the file format.");return f(100,"Import completed!"),setTimeout(()=>{h()},1e3),o({isLoading:!1}),p}catch(y){throw o({error:"Failed to import from text",isLoading:!1}),h(),y}},loadExampleDecks:async()=>{o({isLoading:!0,error:null});try{const a=i(),u=new Set(a.decks.map(h=>h.title));if(["Spanish Vocabulary","JavaScript Concepts","World Capitals"].some(h=>u.has(h))){console.log("Example decks already exist, skipping load"),o({isLoading:!1});return}const f=[{title:"Spanish Vocabulary",description:"Essential Spanish words for beginners",category:"language",cards:[{front:"Hello",back:"Hola"},{front:"Goodbye",back:"Adiós"},{front:"Thank you",back:"Gracias"},{front:"Please",back:"Por favor"},{front:"Yes",back:"Sí"},{front:"No",back:"No"},{front:"Water",back:"Agua"},{front:"Food",back:"Comida"},{front:"House",back:"Casa"},{front:"Car",back:"Coche"}]},{title:"JavaScript Concepts",description:"Important JavaScript programming concepts",category:"programming",cards:[{front:"What is a closure?",back:"A closure is a function that has access to variables in its outer (enclosing) scope even after the outer function has returned."},{front:"What is hoisting?",back:"Hoisting is JavaScript's default behavior of moving declarations to the top of their scope."},{front:"What is the difference between let and var?",back:"let has block scope and cannot be redeclared, while var has function scope and can be redeclared."},{front:"What is a Promise?",back:"A Promise is an object representing the eventual completion or failure of an asynchronous operation."},{front:"What is async/await?",back:"async/await is syntactic sugar for working with Promises, making asynchronous code look more like synchronous code."}]},{title:"World Capitals",description:"Capital cities of countries around the world",category:"geography",cards:[{front:"France",back:"Paris"},{front:"Germany",back:"Berlin"},{front:"Italy",back:"Rome"},{front:"Spain",back:"Madrid"},{front:"United Kingdom",back:"London"},{front:"Japan",back:"Tokyo"},{front:"China",back:"Beijing"},{front:"Australia",back:"Canberra"},{front:"Brazil",back:"Brasília"},{front:"Canada",back:"Ottawa"}]}];console.log("Loading example decks...");for(const h of f){const y=await i().createDeck({userId:"current-user",title:h.title,description:h.description,cardCount:0,isPublic:!1,settings:Ps,category:h.category,tags:[h.category]});for(const x of h.cards)await i().addCard(y.id,As(x.front,x.back,{type:"basic"},[]))}console.log("Example decks loaded successfully"),o({isLoading:!1})}catch(a){throw o({error:"Failed to load example decks",isLoading:!1}),a}},clearError:()=>o({error:null}),setLoading:a=>o({isLoading:a}),removeDuplicateCards:async a=>{try{const c=i().cards[a]||[];if(c.length===0)return 0;const f=new Map;let h=0;for(const x of c){const p=`${x.frontContent.trim().toLowerCase()}|${x.backContent.trim().toLowerCase()}`;f.has(p)?(h++,console.log(`Removing duplicate card: ${x.frontContent}`)):f.set(p,x)}const y=Array.from(f.values());return h>0&&(o(x=>({cards:{...x.cards,[a]:y},decks:x.decks.map(p=>p.id===a?{...p,cardCount:y.length,updatedAt:new Date().toISOString()}:p)})),console.log(`Removed ${h} duplicate cards from deck. ${y.length} unique cards remaining.`)),h}catch(u){throw console.error("Failed to remove duplicate cards:",u),u}},setImportProgress:(a,u)=>o({importProgress:a,importStatus:u}),resetImportProgress:()=>o({importProgress:0,importStatus:null}),startStudySession:(a,u)=>{o({currentStudySession:{deckId:a,currentCardIndex:0,studyCards:u,sessionStats:{total:u.length,correct:0,incorrect:0},startedAt:new Date().toISOString()}})},updateStudySession:(a,u)=>{o(c=>({currentStudySession:c.currentStudySession?{...c.currentStudySession,currentCardIndex:a,sessionStats:u}:null}))},clearStudySession:()=>{o({currentStudySession:null})},getStudySession:a=>{const u=i();return u.currentStudySession?.deckId===a?u.currentStudySession:null},resetAllStudyData:()=>{o(a=>{const u={};for(const[c,f]of Object.entries(a.cards))u[c]=f.map(h=>({...h,easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0}));return{cards:u,currentStudySession:null}})}}),{name:"deck-storage",partialize:o=>({decks:o.decks,cards:o.cards,currentStudySession:o.currentStudySession})})),Sp=()=>{const o=mo(),{decks:i,getCards:a}=Us(),{userStats:u,userAchievements:c,achievements:f}=Fs(),{user:h}=zn(),y=()=>i.map(N=>{const I=a(N.id).filter(k=>k.reviewCount===0?!0:new Date(k.nextReview)<=new Date);return{...N,dueCount:I.length}}).filter(N=>N.dueCount>0),x=()=>c.map(N=>{const w=f.find(I=>I.id===N.achievementId);return w?{...w,earnedAt:N.earnedAt}:null}).filter(Boolean).sort((N,w)=>new Date(w.earnedAt).getTime()-new Date(N.earnedAt).getTime()).slice(0,3),p=N=>N>=1e6?`${(N/1e6).toFixed(1)}M`:N>=1e3?`${(N/1e3).toFixed(1)}K`:N.toString(),C=y(),_=x();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gradient mb-4",children:"Welcome to StudyMaster"}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Master your learning with spaced repetition and gamification"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Live data • Real-time insights"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:p(u.xp)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total XP"})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-success-600 mb-2",children:u.currentStreak}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Day Streak"})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-warning-600 mb-2",children:u.gold}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Coins"})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:u.level}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Level"})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"📚 Study Today"}),C.length>0?r.jsxs("div",{className:"space-y-4",children:[C.slice(0,3).map(N=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:N.title}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.dueCount," cards due"]})]}),r.jsx("button",{onClick:()=>o(`/study/${N.id}`),className:"btn btn-primary btn-sm",children:"Study Now"})]},N.id)),C.length>3&&r.jsx("div",{className:"text-center",children:r.jsxs("button",{onClick:()=>o("/decks"),className:"btn btn-secondary btn-sm",children:["View All Decks (",C.length-3," more)"]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"All caught up!"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No cards are due for review right now. Great job!"}),r.jsx("button",{onClick:()=>o("/decks"),className:"btn btn-primary",children:"Browse Your Decks"})]})]}),_.length>0&&r.jsxs("div",{className:"card p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"🏆 Recent Achievements"}),r.jsx("div",{className:"space-y-3",children:_.map(N=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-success-100 dark:bg-success-900 rounded-full flex items-center justify-center",children:N.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:N.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N.description})]})]},N.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(Is,{to:"/decks",className:"card p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"text-4xl mb-2",children:"📚"}),r.jsx("h3",{className:"font-semibold",children:"My Decks"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your study materials"})]}),r.jsxs(Is,{to:"/global-stats",className:"card p-6 text-center hover:shadow-lg transition-shadow bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"text-4xl mb-2",children:"🌍"}),r.jsx("h3",{className:"font-semibold",children:"Global Stats"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Real-time learning insights"})]}),r.jsxs(Is,{to:"/challenges",className:"card p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"text-4xl mb-2",children:"🎯"}),r.jsx("h3",{className:"font-semibold",children:"Challenges"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Join learning challenges"})]}),r.jsxs(Is,{to:"/leaderboard",className:"card p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"text-4xl mb-2",children:"🏆"}),r.jsx("h3",{className:"font-semibold",children:"Leaderboard"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"See how you rank"})]})]}),r.jsxs("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-800 dark:text-blue-200 flex items-center gap-2",children:"💡 Learning Insights"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"87%"}),r.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Spaced repetition effectiveness"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"25min"}),r.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Optimal study session"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"7-9PM"}),r.jsx("div",{className:"text-purple-700 dark:text-purple-300",children:"Peak learning hours"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:"3x"}),r.jsx("div",{className:"text-orange-700 dark:text-orange-300",children:"Retention improvement"})]})]})]})]})};var Np={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jp=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nu=(o,i)=>{const a=K.forwardRef(({color:u="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:h,children:y,...x},p)=>K.createElement("svg",{ref:p,...Np,width:c,height:c,stroke:u,strokeWidth:h?Number(f)*24/Number(c):f,className:`lucide lucide-${jp(o)}`,...x},[...i.map(([C,_])=>K.createElement(C,_)),...(Array.isArray(y)?y:[y])||[]]));return a.displayName=`${o}`,a},_p=Nu("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Cp=Nu("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ep=Nu("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Pp={europe:["AD","LI","LU","MT","MC","SM","VA","CY","ME","MK","XK","SI","MD"],world:["AD","LI","LU","MT","MC","SM","VA","SG","BH","BN","QA","KW","BB","GD","LC","VC","AG","KN","DM","MV","NR","TV","PW","MH","FM","KI","TO","WS","VU","FJ"],africa:["DJ","GM","GW","GQ","CV","KM","MU","SC","ST"],"north-america":["BB","GD","LC","VC","AG","KN","DM","TT","JM"],us:["DE","RI","CT","NJ","NH","VT","MA","MD","HI"]},eh=({options:o,showAnswer:i=!1,onAnswer:a,isStudyMode:u=!1})=>{const[c,f]=K.useState(""),[h,y]=K.useState(""),[x,p]=K.useState(!1),[C,_]=K.useState(1),[N,w]=K.useState(0),[I,k]=K.useState(0),[S,v]=K.useState(!1),[j,D]=K.useState({x:0,y:0}),[O,B]=K.useState(!1),W=K.useRef(null),H=K.useCallback(async()=>{try{const de=await(await fetch(o.svgPath)).text();f(de)}catch(le){console.error("Failed to load SVG:",le)}},[o.svgPath]);K.useEffect(()=>{H()},[H]),K.useEffect(()=>{y(""),p(!1),B(!1),w(0),k(0)},[o.countryId,o.countryName]);const ie=K.useCallback((le,de)=>{try{const se=W.current?.getBoundingClientRect();if(!se)return 1;const _e=le.getAttribute("viewBox");let Te=1e3,Ie=600;if(_e){const[,,Ae,je]=_e.split(" ").map(Number);Te=Ae,Ie=je}const Me=se.width,Ve=se.height,nt=Me/Te,it=Ve/Ie,Ne=Math.min(nt,it)*.98;if(!de){const Ae=Math.max(Ne,4);return Math.max(4,Math.min(Ae,6))}const b=de.getBBox();if(!b||b.width===0||b.height===0)return console.warn("Invalid bounding box for country element"),Math.max(.5,Math.min(Ne,3));const ce=25,J=ce/Ne,z=ce/Ne,L=b.width<J?J/b.width:1,V=b.height<z?z/b.height:1;let ye=Math.max(L,V);(b.width<10||b.height<10)&&(ye=Math.max(ye,12)),(b.width<3||b.height<3)&&(ye=Math.max(ye,25)),(b.width<1||b.height<1)&&(ye=Math.max(ye,40));const xe=Ne*ye,re=Math.max(4,Ne),Se=Math.max(re,Math.min(xe,50));return console.log("Zoom calculation details:",{containerSize:`${Me}x${Ve}`,svgSize:`${Te}x${Ie}`,baseZoom:Ne.toFixed(3),countryBBox:`${b.width.toFixed(1)}x${b.height.toFixed(1)} at (${b.x.toFixed(1)},${b.y.toFixed(1)})`,countryZoom:ye.toFixed(3),finalZoom:Se.toFixed(3)}),Se}catch(se){console.warn("Error calculating initial zoom:",se);const _e=W.current?.getBoundingClientRect();if(_e){const Te=Math.min(_e.width/1e3,_e.height/600)*.98;return Math.max(4,Math.min(Te,6))}return 4}},[]),ne=K.useCallback(()=>{_(le=>Math.min(le*1.5,50))},[]),he=K.useCallback(()=>{_(le=>Math.max(le/1.5,.5))},[]),ge=K.useCallback(()=>{B(!1),w(0),k(0)},[]),U=K.useCallback(le=>{C>1&&(v(!0),D({x:le.clientX-N,y:le.clientY-I}))},[C,N,I]),X=K.useCallback(le=>{S&&C>1&&(w(le.clientX-j.x),k(le.clientY-j.y))},[S,j,C]),E=K.useCallback(()=>{v(!1)},[]),ue=K.useCallback(le=>{le.preventDefault();const de=le.deltaY>0?.9:1.1;_(se=>Math.max(.5,Math.min(50,se*de)))},[]),Ee=K.useCallback(le=>{if(le.touches.length===1&&C>1){const de=le.touches[0];v(!0),D({x:de.clientX-N,y:de.clientY-I})}},[C,N,I]),fe=K.useCallback(le=>{if(S&&le.touches.length===1&&C>1){le.preventDefault();const de=le.touches[0];w(de.clientX-j.x),k(de.clientY-j.y)}},[S,j,C]),pe=K.useCallback(()=>{v(!1)},[]),Z=le=>le.split("/").pop()?.replace(".svg","")||"",Q=lo.useMemo(()=>{if(!c)return"";const de=new DOMParser().parseFromString(c,"image/svg+xml"),se=de.querySelector("svg");se&&(se.setAttribute("width","100%"),se.setAttribute("height","100%"),se.setAttribute("viewBox",se.getAttribute("viewBox")||"0 0 1000 600"),se.setAttribute("preserveAspectRatio","xMidYMid meet"),se.style.maxWidth="100%",se.style.maxHeight="100%");const _e=Z(o.svgPath),Te=de.querySelector(`[id="${o.countryId}"]`);return(Pp[_e]||[]).includes(o.countryId),Te&&(Te.setAttribute("fill","#ef4444"),Te.setAttribute("stroke","#dc2626"),Te.setAttribute("stroke-width","2")),de.querySelectorAll("path[id], polygon[id], circle[id]").forEach(Ve=>{Ve.getAttribute("id")!==o.countryId&&(Ve.setAttribute("fill","#e5e7eb"),Ve.setAttribute("stroke","#9ca3af"),Ve.setAttribute("stroke-width","1"))}),new XMLSerializer().serializeToString(de)},[c,o.countryId,o.svgPath]);K.useEffect(()=>{if(!Q||O)return;const le=setTimeout(()=>{const de=W.current;if(!de)return;const se=de.querySelector("svg");if(!se)return;let _e=se.querySelector(`[id="${o.countryId}"]`);_e||(_e=se.querySelector(`[id="${o.countryId.toLowerCase()}"]`)||se.querySelector(`[id="${o.countryId.toUpperCase()}"]`)||se.querySelector(`[class*="${o.countryId}"]`)||se.querySelector(`[data-id="${o.countryId}"]`)||se.querySelector(`[data-country="${o.countryId}"]`)||se.querySelector(`[name="${o.countryId}"]`));const Te=ie(se,_e||void 0);_(Te),B(!0),console.log("Setting initial zoom:",Te,"for country:",o.countryId,"found element:",!!_e)},100);return()=>clearTimeout(le)},[Q,o.countryId,O,ie]);const T=()=>{const le=h.toLowerCase().trim()===o.countryName.toLowerCase().trim();p(!0),a&&a(le)},R=le=>{le.key==="Enter"&&h.trim()&&!x&&T()};return c?r.jsxs("div",{className:"w-full mx-auto",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 mb-4 relative",children:[r.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col gap-1 bg-white dark:bg-gray-700 rounded-lg shadow-lg p-1",children:[r.jsx("button",{onClick:ne,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",title:"Zoom In",children:r.jsx(Cp,{size:16,className:"text-gray-700 dark:text-gray-300"})}),r.jsx("button",{onClick:he,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",title:"Zoom Out",children:r.jsx(Ep,{size:16,className:"text-gray-700 dark:text-gray-300"})}),r.jsx("button",{onClick:ge,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",title:"Reset View",children:r.jsx(_p,{size:16,className:"text-gray-700 dark:text-gray-300"})})]}),C!==1&&r.jsxs("div",{className:"absolute top-2 left-2 z-10 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-sm",children:[Math.round(C*100),"%"]}),r.jsx("div",{ref:W,className:"w-full h-64 md:h-80 flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing",style:{cursor:C>1?S?"grabbing":"grab":"default"},onMouseDown:U,onMouseMove:X,onMouseUp:E,onMouseLeave:E,onWheel:ue,onTouchStart:Ee,onTouchMove:fe,onTouchEnd:pe,children:r.jsx("div",{className:"transition-transform duration-200 ease-out",style:{transform:`scale(${C}) translate(${N/C}px, ${I/C}px)`,transformOrigin:"center center"},dangerouslySetInnerHTML:{__html:Q}})}),C===1&&r.jsx("div",{className:"absolute bottom-2 left-2 z-10 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:"Use controls or scroll to zoom • Drag to pan when zoomed"})]}),u&&!i&&r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 text-center",children:["What ",Z(o.svgPath).includes("us")?"state":Z(o.svgPath).includes("gb")||Z(o.svgPath).includes("fi")||Z(o.svgPath).includes("fr")||Z(o.svgPath).includes("no")||Z(o.svgPath).includes("se")||Z(o.svgPath).includes("vn")?"region":"country"," is highlighted in red?"]}),x?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-lg font-semibold mb-2 ${h.toLowerCase().trim()===o.countryName.toLowerCase().trim()?"text-green-600":"text-red-600"}`,children:h.toLowerCase().trim()===o.countryName.toLowerCase().trim()?"✓ Correct!":"✗ Incorrect"}),r.jsxs("div",{className:"text-gray-700",children:["Your answer: ",r.jsx("span",{className:"font-medium",children:h})]}),r.jsxs("div",{className:"text-gray-700",children:["Correct answer: ",r.jsx("span",{className:"font-medium",children:o.countryName})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",value:h,onChange:le=>y(le.target.value),onKeyPress:R,placeholder:"Enter country name...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),r.jsx("button",{onClick:T,disabled:!h.trim(),className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Submit Answer"})]})]}),i&&r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:o.countryName})})]}):r.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-100 rounded-lg",children:r.jsx("div",{className:"text-gray-500",children:"Loading map..."})})},Ip=({card:o,showAnswer:i,onAnswerSubmit:a})=>{if(o.cardType.type==="svg_map"){const u=o.cardType.options;return r.jsx(eh,{options:u,showAnswer:i,isStudyMode:!i,onAnswer:c=>{a&&a(c?"correct":"incorrect")}})}return r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:i?"Answer":"Question"}),r.jsx("div",{className:"text-2xl font-medium text-gray-900 dark:text-white",children:i?o.backContent:o.frontContent})]})})},Ap=({shortcuts:o,enabled:i=!0,preventDefault:a=!0,stopPropagation:u=!0,debugMode:c=!1})=>{const f=K.useRef(o),h=K.useRef(i);K.useEffect(()=>{f.current=o,h.current=i},[o,i]);const y=K.useCallback(x=>{if(!h.current)return;const p=x.target;if(p.tagName==="INPUT"||p.tagName==="TEXTAREA"||p.isContentEditable)return;const C=x.key.toLowerCase(),_=x.ctrlKey||x.metaKey,N=x.altKey,w=x.shiftKey;c&&console.log("[KeyboardShortcuts] Key pressed:",{key:C,ctrlKey:_,altKey:N,shiftKey:w,code:x.code});const I=f.current.find(k=>{if(k.disabled)return!1;const S=k.key.toLowerCase()===C,v=(k.ctrlKey||!1)===_,j=(k.altKey||!1)===N,D=(k.shiftKey||!1)===w;return S&&v&&j&&D});if(I){c&&console.log("[KeyboardShortcuts] Executing shortcut:",{key:I.key,description:I.description}),a&&x.preventDefault(),u&&x.stopPropagation();try{I.action()}catch(k){console.error("[KeyboardShortcuts] Error executing shortcut:",k)}}},[a,u,c]);return K.useEffect(()=>(i&&(document.addEventListener("keydown",y),c&&console.log("[KeyboardShortcuts] Registered shortcuts:",o.map(x=>({key:x.key,description:x.description,modifiers:{ctrl:x.ctrlKey,alt:x.altKey,shift:x.shiftKey}})))),()=>{document.removeEventListener("keydown",y),c&&console.log("[KeyboardShortcuts] Unregistered shortcuts")}),[y,i,c,o]),{shortcuts:f.current,enabled:h.current}},Tp=({onFlipCard:o,onAnswerAgain:i,onAnswerHard:a,onAnswerGood:u,onAnswerEasy:c,onExitStudy:f,showAnswer:h,enabled:y=!0,debugMode:x=!1})=>Ap({shortcuts:[{key:" ",description:"Flip card / Show answer",action:o,disabled:h},{key:"enter",description:"Flip card / Show answer",action:o,disabled:h},{key:"1",description:"Answer: Again",action:i,disabled:!h},{key:"2",description:"Answer: Hard",action:a,disabled:!h},{key:"3",description:"Answer: Good",action:u,disabled:!h},{key:"4",description:"Answer: Easy",action:c,disabled:!h},{key:"a",description:"Answer: Again",action:i,disabled:!h},{key:"h",description:"Answer: Hard",action:a,disabled:!h},{key:"g",description:"Answer: Good",action:u,disabled:!h},{key:"e",description:"Answer: Easy",action:c,disabled:!h},{key:"escape",description:"Exit study session",action:f},{key:"q",description:"Exit study session",action:f}],enabled:y,debugMode:x}),Dp=({shortcuts:o,className:i="",title:a="Keyboard Shortcuts",compact:u=!1})=>{const c=h=>{const y=[];h.ctrlKey&&y.push("Ctrl"),h.altKey&&y.push("Alt"),h.shiftKey&&y.push("Shift");let x=h.key;return x===" "&&(x="Space"),x==="enter"&&(x="Enter"),x==="escape"&&(x="Esc"),y.push(x.toUpperCase()),y.join(" + ")},f=o.filter(h=>!h.disabled);return f.length===0?null:u?r.jsx("div",{className:`text-xs text-gray-500 dark:text-gray-400 ${i}`,children:f.slice(0,4).map((h,y)=>r.jsxs("span",{className:"mr-4",children:[r.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs",children:h.key===" "?"Space":h.key.toUpperCase()})," ",h.description]},y))}):r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-800 rounded-lg p-4 ${i}`,children:[r.jsx("h3",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-3",children:a}),r.jsx("div",{className:"space-y-2",children:f.map((h,y)=>r.jsxs("div",{className:"flex justify-between items-center text-xs",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:h.description}),r.jsx("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-gray-800 dark:text-gray-200 font-mono",children:c(h)})]},y))})]})},pf=({showAnswer:o,className:i="",compact:a=!1})=>{const u=[{key:"escape",description:"Exit study",action:()=>{},disabled:!1},{key:" ",description:"Show answer",action:()=>{},disabled:o},{key:"1",description:"Again",action:()=>{},disabled:!o},{key:"2",description:"Hard",action:()=>{},disabled:!o},{key:"3",description:"Good",action:()=>{},disabled:!o},{key:"4",description:"Easy",action:()=>{},disabled:!o}];return r.jsx(Dp,{shortcuts:u,className:i,title:"Study Shortcuts",compact:a})};function Mp(o){switch(o.state){case"new":return"New - Never studied before";case"learning":return"Learning - Recently seen, still being learned";case"review":return`Review (${o.ivl<21?"Young":"Mature"}) - Finished learning, scheduled for review`;case"relearning":return"Relearning - Failed in review, being relearned";case"suspended":return"Suspended - Manually suspended from study";case"buried":return"Buried - Hidden until next day";default:return"Unknown state"}}function Lp(o){switch(o.state){case"new":return"#3b82f6";case"learning":return"#f59e0b";case"review":return o.ivl<21?"#10b981":"#059669";case"relearning":return"#ef4444";case"suspended":return"#6b7280";case"buried":return"#9ca3af";default:return"#374151"}}function Rp(o){switch(o.state){case"new":return null;case"learning":case"relearning":return new Date(Date.now()+o.left*60*1e3);case"review":return new Date(o.due*24*60*60*1e3);case"suspended":case"buried":return null;default:return null}}function Op(o,i=new Date){if(o.state!=="review")return 0;const a=Math.floor(i.getTime()/(1440*60*1e3));return Math.max(0,a-o.due)}const zp=({card:o,className:i="",showDescription:a=!1,compact:u=!1})=>{const c=Lp(o),f=Mp(o),h=Rp(o),y=Op(o),x=()=>{switch(o.state){case"new":return"✨";case"learning":return"📚";case"review":return o.ivl<21?"🌱":"🌳";case"relearning":return"🔄";case"suspended":return"⏸️";case"buried":return"📦";default:return"❓"}},p=()=>{switch(o.state){case"new":return"New";case"learning":return"Learning";case"review":return o.ivl<21?"Young":"Mature";case"relearning":return"Relearning";case"suspended":return"Suspended";case"buried":return"Buried";default:return"Unknown"}},C=()=>{switch(o.state){case"learning":case"relearning":return`Step ${o.learningStep+1}, ${o.left}min left`;case"review":return y>0?`${y} days overdue`:`Interval: ${o.ivl} days`;case"new":return"Never studied";default:return""}};return u?r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${i}`,style:{backgroundColor:`${c}20`,color:c,border:`1px solid ${c}40`},children:[r.jsx("span",{children:x()}),r.jsx("span",{children:p()})]}):r.jsxs("div",{className:`bg-white rounded-lg border shadow-sm p-3 ${i}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c}}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:x()}),r.jsx("span",{className:"font-medium text-gray-900",children:p()})]})]}),a&&r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f}),r.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[C()&&r.jsx("div",{children:C()}),o.state==="review"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Ease: ",(o.factor/10).toFixed(0),"%"]}),r.jsxs("span",{children:["Reviews: ",o.reps]})]}),o.lapses>0&&r.jsxs("div",{className:"text-red-500",children:["Lapses: ",o.lapses]}),h&&o.state!=="learning"&&o.state!=="relearning"&&r.jsxs("div",{children:["Next: ",h.toLocaleDateString()]})]})]})},th=()=>{console.log(`
🧪 TESTING STATS LOGIC - 10 CARD SIMULATION`),console.log("Pattern: Again, Hard, Again, Hard, etc.");let o={total:10,correct:0,incorrect:0};const i=["again","hard"];for(let a=0;a<10;a++){const u=i[a%2],c=a+1;console.log(`
--- Card ${c} ---`),console.log(`Answer: ${u}`),console.log("Stats before:",o),o=u==="again"?{...o,incorrect:o.incorrect+1}:{...o,correct:o.correct+1},console.log("Stats after:",o);const h=Math.floor((c+1)/2),y=Math.floor(c/2),x=o.correct===h,p=o.incorrect===y;if(console.log(`Expected: correct=${h}, incorrect=${y}`),console.log(`✅ Correct count: ${x?"PASS":"FAIL"}`),console.log(`✅ Incorrect count: ${p?"PASS":"FAIL"}`),!x||!p)return console.error(`❌ TEST FAILED at card ${c}`),!1}return console.log(`
🎉 ALL TESTS PASSED!`),console.log(`Final stats: correct=${o.correct}, incorrect=${o.incorrect}`),!0};console.log("Running stats logic test...");th();typeof window<"u"&&(window.testStatsLogic=th);const gf=()=>{const{deckId:o}=p0(),i=mo(),{getDeck:a,getCards:u,updateCard:c,decks:f,cards:h,startStudySession:y,updateStudySession:x,clearStudySession:p,getStudySession:C}=Us(),{awardStudyXP:_}=Fs(),[N,w]=K.useState(0),[I,k]=K.useState(!1),[S,v]=K.useState([]),[j,D]=K.useState(!1),[O,B]=K.useState({total:0,correct:0,incorrect:0}),[W,H]=K.useState(0),[ie,ne]=K.useState(!1),[he,ge]=K.useState(!1),U=o?a(o):null,X=K.useMemo(()=>o?u(o):[],[o,u]);K.useEffect(()=>{if(X.length>0&&o&&!ie){const Z=C(o);if(Z)v(Z.studyCards),w(Z.currentCardIndex),B({total:Z.studyCards.length,correct:Z.sessionStats.correct,incorrect:Z.sessionStats.incorrect}),console.log(`Restored study session: card ${Z.currentCardIndex+1} of ${Z.studyCards.length}`),console.log("Session stats:",Z.sessionStats);else{const Q=X.filter(R=>R.reviewCount===0?!0:new Date(R.nextReview)<=new Date),T=Q.length>0?Q:X;v(T),w(0),B({total:T.length,correct:0,incorrect:0}),y(o,T),console.log(`Started new study session with ${T.length} cards`)}ne(!0)}},[o,y,ie,C,X]);const E=S[N];Tp({onFlipCard:()=>{!I&&E&&(k(!0),console.log("[Keyboard] Flipped card to show answer"))},onAnswerAgain:()=>{I&&E&&(console.log("[Keyboard] Answered: Again"),ue("again"))},onAnswerHard:()=>{I&&E&&(console.log("[Keyboard] Answered: Hard"),ue("hard"))},onAnswerGood:()=>{I&&E&&(console.log("[Keyboard] Answered: Good"),ue("good"))},onAnswerEasy:()=>{I&&E&&(console.log("[Keyboard] Answered: Easy"),ue("easy"))},onExitStudy:()=>{console.log("[Keyboard] Exiting study session"),fe()},showAnswer:I,enabled:!j&&E!==void 0,debugMode:!0});const ue=async Z=>{if(!E)return;console.log(`
=== CARD ${N+1} ANSWER ===`),console.log(`Difficulty: ${Z}`),console.log("Current stats BEFORE update:",O);const Q=Z==="again",T=Q?{...O,incorrect:O.incorrect+1}:{...O,correct:O.correct+1};console.log(`Answer "${Z}" is ${Q?"INCORRECT":"CORRECT"}`),console.log("Calculated new stats:",T),console.log(`Expected: correct=${T.correct}, incorrect=${T.incorrect}`),Vc.flushSync(()=>{B(T),console.log("Stats updated to:",T)});const R=N>=S.length-1,le=N+1;R||Vc.flushSync(()=>{w(le),k(!1),console.log(`Card index: ${N} -> ${le}`)});const de=async()=>{const se=new Date;let _e=E.intervalDays,Te=E.easeFactor;const Ie=E.reviewCount+1;switch(Z){case"again":_e=1,Te=Math.max(1.3,E.easeFactor-.2);break;case"hard":E.intervalDays===0?_e=1:_e=Math.max(1,Math.round(E.intervalDays*1.2)),Te=Math.max(1.3,E.easeFactor-.15);break;case"good":E.intervalDays===0?_e=1:_e=Math.round(E.intervalDays*E.easeFactor);break;case"easy":E.intervalDays===0?_e=4:_e=Math.round(E.intervalDays*E.easeFactor*1.3),Te=E.easeFactor+.15;break}const Me=new Date(se.getTime()+_e*24*60*60*1e3);await c(E.id,{intervalDays:_e,easeFactor:Te,reviewCount:Ie,nextReview:Me.toISOString()}),o&&!R&&(console.log("Store update - Stats being sent to store:",T),console.log("Store update - Card index being sent:",le),x(le,T))};if(R){D(!0);const se=O.correct+O.incorrect+1,_e=T.correct,Te=se,Ie=_e,Me=Math.floor(_e/10)*10,Ve=Te+Ie+Me;console.log(`🎓 Study session completed! Awarding XP for ${se} cards studied, ${_e} correct answers`),console.log(`🎉 XP Breakdown: ${Te} base + ${Ie} bonus + ${Me} milestone = ${Ve} total`),H(Ve),_(se,_e)}de().catch(se=>{console.error("Error processing card update:",se)})},Ee=()=>{w(0),k(!1),D(!1),B({total:S.length,correct:0,incorrect:0}),H(0),o&&(p(),S.length>0&&y(o,S))},fe=()=>{i("/decks")},pe=()=>{o&&p(),i("/decks")};if(K.useEffect(()=>{if(!o&&f.length>0){let Z=null,Q=new Date("2099-12-31");for(const T of f){const R=h[T.id]||[];if(R.length===0)continue;const le=R.filter(de=>de.reviewCount===0?!0:new Date(de.nextReview)<=new Date);if(le.length>0){const de=le.reduce((se,_e)=>{const Te=_e.reviewCount===0?new Date(_e.createdAt):new Date(_e.nextReview);return Te<se?Te:se},new Date("2099-12-31"));de<Q&&(Q=de,Z=T)}}if(Z){i(`/study/${Z.id}`,{replace:!0});return}}},[o,f,h,i]),!o)return f.length===0?r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📚"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"No Decks Available"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You don't have any decks to study yet. Create your first deck to get started!"}),r.jsx("button",{onClick:fe,className:"btn btn-primary",children:"Go to My Decks"})]}):r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Finding Your Next Study Session"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Looking for the deck with the most urgent cards to review..."})]});if(!U)return r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"❌"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Deck Not Found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The deck you're trying to study doesn't exist."}),r.jsx("button",{onClick:fe,className:"btn btn-primary",children:"Back to Decks"})]});if(S.length===0)return r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📚"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"No Cards to Study"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This deck doesn't have any cards to study right now."}),r.jsx("button",{onClick:fe,className:"btn btn-primary",children:"Back to Decks"})]});if(j){const Z=O.correct+O.incorrect,Q=Z>0?Math.round(O.correct/Z*100):0;return r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Session Complete!"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:["Great job studying ",r.jsx("strong",{children:U.title})]}),r.jsxs("div",{className:"card p-6 mb-8 max-w-md mx-auto",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Session Stats"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Cards Studied:"}),r.jsx("span",{className:"font-medium",children:Z})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Correct:"}),r.jsx("span",{className:"font-medium text-green-600",children:O.correct})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Incorrect:"}),r.jsx("span",{className:"font-medium text-red-600",children:O.incorrect})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsx("span",{children:"Accuracy:"}),r.jsxs("span",{className:"font-medium",children:[Q,"%"]})]}),W>0&&r.jsxs("div",{className:"flex justify-between border-t pt-2 bg-yellow-50 dark:bg-yellow-900/20 -mx-2 px-2 py-2 rounded",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{children:"🎉"}),r.jsx("span",{className:"font-medium",children:"XP Earned:"})]}),r.jsxs("span",{className:"font-bold text-yellow-600 dark:text-yellow-400",children:["+",W," XP"]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:Ee,className:"btn btn-primary",children:"Study Again"}),r.jsx("button",{onClick:fe,className:"btn btn-secondary",children:"Back to Decks"})]}),r.jsx("button",{onClick:pe,className:"btn btn-outline btn-sm text-gray-500 hover:text-gray-700",children:"Clear Progress & Start Fresh Next Time"})]})]})}return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:U.title}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:["Card ",N+1," of ",S.length]}),E&&r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(zp,{card:E,compact:!0,className:"shadow-sm"})}),o&&C(o)&&N>0&&r.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-4 flex items-center justify-center gap-2",children:[r.jsx("span",{children:"📍"}),"Resumed from where you left off"]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(N+1)/S.length*100}%`}})})]}),r.jsxs("div",{className:"card p-8 mb-8 min-h-[300px] flex flex-col justify-center",children:[r.jsx(Ip,{card:E,showAnswer:I}),I?r.jsxs("div",{className:"space-y-4 mt-6",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-center",children:"How well did you know this?"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsxs("button",{onClick:()=>ue("again"),className:"btn bg-red-500 hover:bg-red-600 text-white py-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Again"}),r.jsx("div",{className:"text-xs opacity-80",children:"< 1 day"}),r.jsx("div",{className:"text-xs opacity-60 mt-1",children:"1 or A"})]}),r.jsxs("button",{onClick:()=>ue("hard"),className:"btn bg-orange-500 hover:bg-orange-600 text-white py-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Hard"}),r.jsx("div",{className:"text-xs opacity-80",children:"1-3 days"}),r.jsx("div",{className:"text-xs opacity-60 mt-1",children:"2 or H"})]}),r.jsxs("button",{onClick:()=>ue("good"),className:"btn bg-green-500 hover:bg-green-600 text-white py-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Good"}),r.jsx("div",{className:"text-xs opacity-80",children:"3-7 days"}),r.jsx("div",{className:"text-xs opacity-60 mt-1",children:"3 or G"})]}),r.jsxs("button",{onClick:()=>ue("easy"),className:"btn bg-blue-500 hover:bg-blue-600 text-white py-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Easy"}),r.jsx("div",{className:"text-xs opacity-80",children:"1+ weeks"}),r.jsx("div",{className:"text-xs opacity-60 mt-1",children:"4 or E"})]})]})]}):r.jsx("div",{className:"text-center mt-6",children:r.jsxs("button",{onClick:()=>k(!0),className:"btn btn-primary btn-lg",children:["Show Answer",r.jsx("span",{className:"ml-2 text-xs opacity-75",children:"(Space/Enter)"})]})})]}),r.jsx(pf,{showAnswer:I,compact:!0,className:"mb-4"}),r.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{children:["Correct: ",r.jsx("span",{className:"text-green-600 font-medium",children:O.correct})," | Incorrect: ",r.jsx("span",{className:"text-red-600 font-medium",children:O.incorrect})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>ge(!he),className:"btn btn-outline btn-sm",title:"Toggle keyboard shortcuts help",children:"⌨️"}),r.jsx("button",{onClick:fe,className:"btn btn-secondary btn-sm",children:"Exit Study"})]})]}),he&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Keyboard Shortcuts"}),r.jsx("button",{onClick:()=>ge(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),r.jsx(pf,{showAnswer:I,compact:!1}),r.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("p",{children:["💡 ",r.jsx("strong",{children:"Tip:"})," Use Space or Enter to flip cards, then 1-4 or A/H/G/E to answer!"]}),r.jsx("p",{children:"Press Esc or Q to exit the study session anytime."})]})]})})]})},Fp=({deckId:o,onClose:i})=>{const{getCards:a,addCard:u,updateCard:c,deleteCard:f,getDeck:h}=Us(),[y,x]=K.useState(!1),[p,C]=K.useState(null),[_,N]=K.useState(""),[w,I]=K.useState(""),k=h(o),S=a(o),v=async W=>{if(W.preventDefault(),!(!_.trim()||!w.trim()))try{await u(o,As(_.trim(),w.trim(),{type:"basic"},[])),N(""),I(""),x(!1)}catch(H){console.error("Failed to add card:",H)}},j=async W=>{if(W.preventDefault(),!(!p||!_.trim()||!w.trim()))try{await c(p.id,{frontContent:_.trim(),backContent:w.trim()}),C(null),N(""),I("")}catch(H){console.error("Failed to update card:",H)}},D=async W=>{if(confirm("Are you sure you want to delete this card?"))try{await f(W)}catch(H){console.error("Failed to delete card:",H)}},O=W=>{C(W),N(W.frontContent),I(W.backContent),x(!1)},B=()=>{C(null),N(""),I(""),x(!1)};return k?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:k.title}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[S.length," cards"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>x(!0),className:"btn btn-primary",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Card"]}),r.jsx("button",{onClick:i,className:"btn btn-secondary",children:"Close"})]})]}),(y||p)&&r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:[r.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:p?"Edit Card":"Add New Card"}),r.jsxs("form",{onSubmit:p?j:v,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Front"}),r.jsx("textarea",{value:_,onChange:W=>N(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",rows:3,placeholder:"Enter the question or front side...",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Back"}),r.jsx("textarea",{value:w,onChange:W=>I(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",rows:3,placeholder:"Enter the answer or back side...",required:!0})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"submit",className:"btn btn-primary",children:p?"Update Card":"Add Card"}),r.jsx("button",{type:"button",onClick:B,className:"btn btn-secondary",children:"Cancel"})]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:S.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:"📝"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No cards yet"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Add your first card to start studying"}),r.jsx("button",{onClick:()=>x(!0),className:"btn btn-primary",children:"Add First Card"})]}):r.jsx("div",{className:"space-y-4",children:S.map((W,H)=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Card #",H+1]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>O(W),className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit card",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("button",{onClick:()=>D(W.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete card",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Front"}),r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-600 rounded border min-h-[60px] text-gray-900 dark:text-white",children:W.frontContent})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Back"}),r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-600 rounded border min-h-[60px] text-gray-900 dark:text-white",children:W.backContent})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{children:["Reviews: ",W.reviewCount]}),r.jsxs("span",{children:["Ease: ",W.easeFactor.toFixed(1)]}),r.jsxs("span",{children:["Interval: ",W.intervalDays," days"]}),W.reviewCount>0&&r.jsxs("span",{children:["Next: ",new Date(W.nextReview).toLocaleDateString()]})]})})]},W.id))})})]})}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[r.jsx("p",{className:"text-red-600",children:"Deck not found"}),r.jsx("button",{onClick:i,className:"btn btn-secondary mt-4",children:"Close"})]})})},yf=({progress:o,label:i,showPercentage:a=!0,className:u=""})=>{const c=Math.min(Math.max(o,0),100);return r.jsxs("div",{className:`w-full ${u}`,children:[i&&r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:i}),a&&r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Math.round(c),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${c}%`}})})]})},xf=[{id:"AL",name:"Albania"},{id:"AD",name:"Andorra"},{id:"AM",name:"Armenia"},{id:"AT",name:"Austria"},{id:"BE",name:"Belgium"},{id:"BG",name:"Bulgaria"},{id:"BA",name:"Bosnia and Herzegovina"},{id:"BY",name:"Belarus"},{id:"CH",name:"Switzerland"},{id:"CZ",name:"Czech Republic"},{id:"DE",name:"Germany"},{id:"DK",name:"Denmark"},{id:"EE",name:"Estonia"},{id:"FI",name:"Finland"},{id:"GB",name:"United Kingdom"},{id:"GE",name:"Georgia"},{id:"GR",name:"Greece"},{id:"HR",name:"Croatia"},{id:"HU",name:"Hungary"},{id:"IE",name:"Ireland"},{id:"IS",name:"Iceland"},{id:"IT",name:"Italy"},{id:"LI",name:"Liechtenstein"},{id:"LT",name:"Lithuania"},{id:"LU",name:"Luxembourg"},{id:"LV",name:"Latvia"},{id:"MD",name:"Moldova"},{id:"MK",name:"Macedonia"},{id:"ME",name:"Montenegro"},{id:"NO",name:"Norway"},{id:"PL",name:"Poland"},{id:"PT",name:"Portugal"},{id:"RO",name:"Romania"},{id:"RS",name:"Serbia"},{id:"SK",name:"Slovakia"},{id:"SI",name:"Slovenia"},{id:"SE",name:"Sweden"},{id:"TR",name:"Turkey"},{id:"UA",name:"Ukraine"},{id:"XK",name:"Kosovo"},{id:"NL",name:"Netherlands"},{id:"ES",name:"Spain"},{id:"FR",name:"France"},{id:"CY",name:"Cyprus"}],vf=[{id:"AL",name:"Albania"},{id:"DZ",name:"Algeria"},{id:"AM",name:"Armenia"},{id:"AT",name:"Austria"},{id:"AE",name:"United Arab Emirates"},{id:"BD",name:"Bangladesh"},{id:"BE",name:"Belgium"},{id:"BJ",name:"Benin"},{id:"BF",name:"Burkina Faso"},{id:"BG",name:"Bulgaria"},{id:"BI",name:"Burundi"},{id:"BN",name:"Brunei"},{id:"BT",name:"Bhutan"},{id:"BY",name:"Belarus"},{id:"BZ",name:"Belize"},{id:"BO",name:"Bolivia"},{id:"BR",name:"Brazil"},{id:"BW",name:"Botswana"},{id:"BA",name:"Bosnia and Herzegovina"},{id:"BH",name:"Bahrain"},{id:"CA",name:"Canada"},{id:"CH",name:"Switzerland"},{id:"CL",name:"Chile"},{id:"CN",name:"China"},{id:"CI",name:"Côte d'Ivoire"},{id:"CM",name:"Cameroon"},{id:"CG",name:"Congo"},{id:"CO",name:"Colombia"},{id:"CR",name:"Costa Rica"},{id:"CU",name:"Cuba"},{id:"CZ",name:"Czech Republic"},{id:"DE",name:"Germany"},{id:"DJ",name:"Djibouti"},{id:"DK",name:"Denmark"},{id:"DO",name:"Dominican Republic"},{id:"EC",name:"Ecuador"},{id:"EG",name:"Egypt"},{id:"ER",name:"Eritrea"},{id:"EE",name:"Estonia"},{id:"ET",name:"Ethiopia"},{id:"FI",name:"Finland"},{id:"FR",name:"France"},{id:"GA",name:"Gabon"},{id:"GB",name:"United Kingdom"},{id:"GE",name:"Georgia"},{id:"GH",name:"Ghana"},{id:"GL",name:"Greenland"},{id:"GM",name:"Gambia"},{id:"GN",name:"Guinea"},{id:"GW",name:"Guinea-Bissau"},{id:"GQ",name:"Equatorial Guinea"},{id:"GR",name:"Greece"},{id:"GT",name:"Guatemala"},{id:"GY",name:"Guyana"},{id:"HN",name:"Honduras"},{id:"HR",name:"Croatia"},{id:"HT",name:"Haiti"},{id:"HU",name:"Hungary"},{id:"ID",name:"Indonesia"},{id:"IN",name:"India"},{id:"IE",name:"Ireland"},{id:"IR",name:"Iran"},{id:"IQ",name:"Iraq"},{id:"IS",name:"Iceland"},{id:"IL",name:"Israel"},{id:"IT",name:"Italy"},{id:"JM",name:"Jamaica"},{id:"JO",name:"Jordan"},{id:"JP",name:"Japan"},{id:"KZ",name:"Kazakhstan"},{id:"KE",name:"Kenya"},{id:"KG",name:"Kyrgyzstan"},{id:"KH",name:"Cambodia"},{id:"KP",name:"North Korea"},{id:"KR",name:"South Korea"},{id:"KW",name:"Kuwait"},{id:"LA",name:"Laos"},{id:"LB",name:"Lebanon"},{id:"LR",name:"Liberia"},{id:"LY",name:"Libya"},{id:"LK",name:"Sri Lanka"},{id:"LS",name:"Lesotho"},{id:"LT",name:"Lithuania"},{id:"LU",name:"Luxembourg"},{id:"LV",name:"Latvia"},{id:"MA",name:"Morocco"},{id:"MD",name:"Moldova"},{id:"MG",name:"Madagascar"},{id:"MX",name:"Mexico"},{id:"MK",name:"North Macedonia"},{id:"ML",name:"Mali"},{id:"MM",name:"Myanmar"},{id:"ME",name:"Montenegro"},{id:"MN",name:"Mongolia"},{id:"MZ",name:"Mozambique"},{id:"MR",name:"Mauritania"},{id:"MW",name:"Malawi"},{id:"MY",name:"Malaysia"},{id:"NA",name:"Namibia"},{id:"NE",name:"Niger"},{id:"NG",name:"Nigeria"},{id:"NI",name:"Nicaragua"},{id:"NL",name:"Netherlands"},{id:"NO",name:"Norway"},{id:"NP",name:"Nepal"},{id:"NZ",name:"New Zealand"},{id:"OM",name:"Oman"},{id:"PA",name:"Panama"},{id:"PE",name:"Peru"},{id:"PH",name:"Philippines"},{id:"PK",name:"Pakistan"},{id:"PL",name:"Poland"},{id:"PT",name:"Portugal"},{id:"PY",name:"Paraguay"},{id:"PS",name:"Palestine"},{id:"QA",name:"Qatar"},{id:"RO",name:"Romania"},{id:"RU",name:"Russia"},{id:"RW",name:"Rwanda"},{id:"EH",name:"Western Sahara"},{id:"SA",name:"Saudi Arabia"},{id:"SD",name:"Sudan"},{id:"SS",name:"South Sudan"},{id:"SN",name:"Senegal"},{id:"SL",name:"Sierra Leone"},{id:"SV",name:"El Salvador"},{id:"RS",name:"Serbia"},{id:"SR",name:"Suriname"},{id:"SK",name:"Slovakia"},{id:"SI",name:"Slovenia"},{id:"SE",name:"Sweden"},{id:"SZ",name:"Eswatini"},{id:"SY",name:"Syria"},{id:"TD",name:"Chad"},{id:"TG",name:"Togo"},{id:"TH",name:"Thailand"},{id:"TJ",name:"Tajikistan"},{id:"TM",name:"Turkmenistan"},{id:"TL",name:"Timor-Leste"},{id:"TN",name:"Tunisia"},{id:"TR",name:"Turkey"},{id:"TW",name:"Taiwan"},{id:"TZ",name:"Tanzania"},{id:"UG",name:"Uganda"},{id:"UA",name:"Ukraine"},{id:"UY",name:"Uruguay"},{id:"US",name:"United States"},{id:"UZ",name:"Uzbekistan"},{id:"VE",name:"Venezuela"},{id:"VN",name:"Vietnam"},{id:"YE",name:"Yemen"},{id:"ZA",name:"South Africa"},{id:"ZM",name:"Zambia"},{id:"ZW",name:"Zimbabwe"},{id:"SO",name:"Somalia"},{id:"XK",name:"Kosovo"},{id:"ES",name:"Spain"}],wf=[{id:"DZ",name:"Algeria"},{id:"AO",name:"Angola"},{id:"BJ",name:"Benin"},{id:"BW",name:"Botswana"},{id:"BF",name:"Burkina Faso"},{id:"BI",name:"Burundi"},{id:"CV",name:"Cape Verde"},{id:"CM",name:"Cameroon"},{id:"CF",name:"Central African Republic"},{id:"TD",name:"Chad"},{id:"KM",name:"Comoros"},{id:"CG",name:"Congo"},{id:"CD",name:"Democratic Republic of the Congo"},{id:"CI",name:"Côte d'Ivoire"},{id:"DJ",name:"Djibouti"},{id:"EG",name:"Egypt"},{id:"GQ",name:"Equatorial Guinea"},{id:"ER",name:"Eritrea"},{id:"ET",name:"Ethiopia"},{id:"GA",name:"Gabon"},{id:"GM",name:"Gambia"},{id:"GH",name:"Ghana"},{id:"GN",name:"Guinea"},{id:"GW",name:"Guinea-Bissau"},{id:"KE",name:"Kenya"},{id:"LS",name:"Lesotho"},{id:"LR",name:"Liberia"},{id:"LY",name:"Libya"},{id:"MG",name:"Madagascar"},{id:"MW",name:"Malawi"},{id:"ML",name:"Mali"},{id:"MR",name:"Mauritania"},{id:"MU",name:"Mauritius"},{id:"MA",name:"Morocco"},{id:"MZ",name:"Mozambique"},{id:"NA",name:"Namibia"},{id:"NE",name:"Niger"},{id:"NG",name:"Nigeria"},{id:"RW",name:"Rwanda"},{id:"ST",name:"São Tomé and Príncipe"},{id:"SN",name:"Senegal"},{id:"SC",name:"Seychelles"},{id:"SL",name:"Sierra Leone"},{id:"SO",name:"Somalia"},{id:"ZA",name:"South Africa"},{id:"SS",name:"South Sudan"},{id:"SD",name:"Sudan"},{id:"SZ",name:"Eswatini"},{id:"TZ",name:"Tanzania"},{id:"TG",name:"Togo"},{id:"TN",name:"Tunisia"},{id:"UG",name:"Uganda"},{id:"ZM",name:"Zambia"},{id:"ZW",name:"Zimbabwe"}],bf=[{id:"AG",name:"Antigua and Barbuda"},{id:"BS",name:"Bahamas"},{id:"BB",name:"Barbados"},{id:"BZ",name:"Belize"},{id:"CA",name:"Canada"},{id:"CR",name:"Costa Rica"},{id:"CU",name:"Cuba"},{id:"DM",name:"Dominica"},{id:"DO",name:"Dominican Republic"},{id:"SV",name:"El Salvador"},{id:"GD",name:"Grenada"},{id:"GT",name:"Guatemala"},{id:"HT",name:"Haiti"},{id:"HN",name:"Honduras"},{id:"JM",name:"Jamaica"},{id:"MX",name:"Mexico"},{id:"NI",name:"Nicaragua"},{id:"PA",name:"Panama"},{id:"KN",name:"Saint Kitts and Nevis"},{id:"LC",name:"Saint Lucia"},{id:"VC",name:"Saint Vincent and the Grenadines"},{id:"TT",name:"Trinidad and Tobago"},{id:"US",name:"United States"}],kf=[{id:"FI-01",name:"Åland"},{id:"FI-02",name:"South Karelia"},{id:"FI-03",name:"Southern Ostrobothnia"},{id:"FI-04",name:"Southern Savonia"},{id:"FI-05",name:"Kainuu"},{id:"FI-06",name:"Tavastia Proper"},{id:"FI-07",name:"Central Ostrobothnia"},{id:"FI-08",name:"Central Finland"},{id:"FI-09",name:"Kymenlaakso"},{id:"FI-10",name:"Lapland"},{id:"FI-11",name:"Pirkanmaa"},{id:"FI-12",name:"Ostrobothnia"},{id:"FI-13",name:"North Karelia"},{id:"FI-14",name:"Northern Ostrobothnia"},{id:"FI-15",name:"Northern Savonia"},{id:"FI-16",name:"Päijät-Häme"},{id:"FI-17",name:"Satakunta"},{id:"FI-18",name:"Uusimaa"},{id:"FI-19",name:"Southwest Finland"}],Sf=[{id:"FR-ARA",name:"Auvergne-Rhône-Alpes"},{id:"FR-BFC",name:"Bourgogne-Franche-Comté"},{id:"FR-BRE",name:"Brittany"},{id:"FR-CVL",name:"Centre-Val de Loire"},{id:"FR-COR",name:"Corsica"},{id:"FR-GES",name:"Grand Est"},{id:"FR-HDF",name:"Hauts-de-France"},{id:"FR-IDF",name:"Île-de-France"},{id:"FR-NOR",name:"Normandy"},{id:"FR-NAQ",name:"Nouvelle-Aquitaine"},{id:"FR-OCC",name:"Occitania"},{id:"FR-PDL",name:"Pays de la Loire"},{id:"FR-PAC",name:"Provence-Alpes-Côte d'Azur"}],Nf=[{id:"GB-ENG",name:"England"},{id:"GB-SCT",name:"Scotland"},{id:"GB-WLS",name:"Wales"},{id:"GB-NIR",name:"Northern Ireland"}],jf=[{id:"NO-03",name:"Oslo"},{id:"NO-11",name:"Rogaland"},{id:"NO-15",name:"Møre og Romsdal"},{id:"NO-18",name:"Nordland"},{id:"NO-30",name:"Viken"},{id:"NO-34",name:"Innlandet"},{id:"NO-38",name:"Vestfold og Telemark"},{id:"NO-42",name:"Agder"},{id:"NO-46",name:"Vestland"},{id:"NO-50",name:"Trøndelag"},{id:"NO-54",name:"Troms og Finnmark"}],_f=[{id:"SE-AB",name:"Stockholm"},{id:"SE-C",name:"Uppsala"},{id:"SE-D",name:"Södermanland"},{id:"SE-E",name:"Östergötland"},{id:"SE-F",name:"Jönköping"},{id:"SE-G",name:"Kronoberg"},{id:"SE-H",name:"Kalmar"},{id:"SE-I",name:"Gotland"},{id:"SE-K",name:"Blekinge"},{id:"SE-M",name:"Skåne"},{id:"SE-N",name:"Halland"},{id:"SE-O",name:"Västra Götaland"},{id:"SE-S",name:"Värmland"},{id:"SE-T",name:"Örebro"},{id:"SE-U",name:"Västmanland"},{id:"SE-W",name:"Dalarna"},{id:"SE-X",name:"Gävleborg"},{id:"SE-Y",name:"Västernorrland"},{id:"SE-Z",name:"Jämtland"},{id:"SE-AC",name:"Västerbotten"},{id:"SE-BD",name:"Norrbotten"}],Cf=[{id:"US-AL",name:"Alabama"},{id:"US-AK",name:"Alaska"},{id:"US-AZ",name:"Arizona"},{id:"US-AR",name:"Arkansas"},{id:"US-CA",name:"California"},{id:"US-CO",name:"Colorado"},{id:"US-CT",name:"Connecticut"},{id:"US-DE",name:"Delaware"},{id:"US-FL",name:"Florida"},{id:"US-GA",name:"Georgia"},{id:"US-HI",name:"Hawaii"},{id:"US-ID",name:"Idaho"},{id:"US-IL",name:"Illinois"},{id:"US-IN",name:"Indiana"},{id:"US-IA",name:"Iowa"},{id:"US-KS",name:"Kansas"},{id:"US-KY",name:"Kentucky"},{id:"US-LA",name:"Louisiana"},{id:"US-ME",name:"Maine"},{id:"US-MD",name:"Maryland"},{id:"US-MA",name:"Massachusetts"},{id:"US-MI",name:"Michigan"},{id:"US-MN",name:"Minnesota"},{id:"US-MS",name:"Mississippi"},{id:"US-MO",name:"Missouri"},{id:"US-MT",name:"Montana"},{id:"US-NE",name:"Nebraska"},{id:"US-NV",name:"Nevada"},{id:"US-NH",name:"New Hampshire"},{id:"US-NJ",name:"New Jersey"},{id:"US-NM",name:"New Mexico"},{id:"US-NY",name:"New York"},{id:"US-NC",name:"North Carolina"},{id:"US-ND",name:"North Dakota"},{id:"US-OH",name:"Ohio"},{id:"US-OK",name:"Oklahoma"},{id:"US-OR",name:"Oregon"},{id:"US-PA",name:"Pennsylvania"},{id:"US-RI",name:"Rhode Island"},{id:"US-SC",name:"South Carolina"},{id:"US-SD",name:"South Dakota"},{id:"US-TN",name:"Tennessee"},{id:"US-TX",name:"Texas"},{id:"US-UT",name:"Utah"},{id:"US-VT",name:"Vermont"},{id:"US-VA",name:"Virginia"},{id:"US-WA",name:"Washington"},{id:"US-WV",name:"West Virginia"},{id:"US-WI",name:"Wisconsin"},{id:"US-WY",name:"Wyoming"}],Ef=[{id:"VN-44",name:"An Giang"},{id:"VN-43",name:"Bà Rịa-Vũng Tàu"},{id:"VN-54",name:"Bắc Giang"},{id:"VN-53",name:"Bắc Kạn"},{id:"VN-55",name:"Bắc Liêu"},{id:"VN-56",name:"Bắc Ninh"},{id:"VN-50",name:"Bến Tre"},{id:"VN-31",name:"Bình Định"},{id:"VN-57",name:"Bình Dương"},{id:"VN-58",name:"Bình Phước"},{id:"VN-40",name:"Bình Thuận"},{id:"VN-59",name:"Cà Mau"},{id:"VN-CT",name:"Cần Thơ"},{id:"VN-04",name:"Cao Bằng"},{id:"VN-DN",name:"Đà Nẵng"},{id:"VN-33",name:"Đắk Lắk"},{id:"VN-72",name:"Đắk Nông"},{id:"VN-71",name:"Điện Biên"},{id:"VN-39",name:"Đồng Nai"},{id:"VN-45",name:"Đồng Tháp"},{id:"VN-30",name:"Gia Lai"},{id:"VN-03",name:"Hà Giang"},{id:"VN-63",name:"Hà Nam"},{id:"HN",name:"Hà Nội"},{id:"VN-23",name:"Hà Tĩnh"},{id:"VN-61",name:"Hải Dương"},{id:"VN-HP",name:"Hải Phòng"},{id:"VN-73",name:"Hậu Giang"},{id:"VN-SG",name:"Hồ Chí Minh"},{id:"VN-14",name:"Hòa Bình"},{id:"VN-66",name:"Hưng Yên"},{id:"VN-34",name:"Khánh Hòa"},{id:"VN-47",name:"Kiên Giang"},{id:"VN-28",name:"Kon Tum"},{id:"VN-01",name:"Lai Châu"},{id:"VN-35",name:"Lâm Đồng"},{id:"VN-09",name:"Lạng Sơn"},{id:"VN-02",name:"Lào Cai"},{id:"VN-41",name:"Long An"},{id:"VN-67",name:"Nam Định"},{id:"VN-22",name:"Nghệ An"},{id:"VN-18",name:"Ninh Bình"},{id:"VN-36",name:"Ninh Thuận"},{id:"VN-68",name:"Phú Thọ"},{id:"VN-32",name:"Phú Yên"},{id:"VN-24",name:"Quảng Bình"},{id:"VN-27",name:"Quảng Nam"},{id:"VN-29",name:"Quảng Ngãi"},{id:"VN-13",name:"Quảng Ninh"},{id:"VN-25",name:"Quảng Trị"},{id:"VN-52",name:"Sóc Trăng"},{id:"VN-05",name:"Sơn La"},{id:"VN-37",name:"Tây Ninh"},{id:"VN-20",name:"Thái Bình"},{id:"VN-69",name:"Thái Nguyên"},{id:"VN-21",name:"Thanh Hóa"},{id:"VN-26",name:"Thừa Thiên Huế"},{id:"VN-46",name:"Tiền Giang"},{id:"VN-51",name:"Trà Vinh"},{id:"VN-07",name:"Tuyên Quang"},{id:"VN-49",name:"Vĩnh Long"},{id:"VN-70",name:"Vĩnh Phúc"},{id:"VN-06",name:"Yên Bái"}],ro=[{id:"europe",mapId:"europe",name:"Europe",mapName:"Europe",description:"Learn all 44 European countries with interactive maps",emoji:"🇪🇺",svgPath:"/europe.svg",regions:xf,countries:xf},{id:"world",mapId:"world",name:"World",mapName:"World",description:"Master geography of all 195+ countries worldwide",emoji:"🌍",svgPath:"/world.svg",regions:vf,countries:vf},{id:"africa",mapId:"africa",name:"Africa",mapName:"Africa",description:"Explore all 54 African countries and their locations",emoji:"🌍",svgPath:"/africa.svg",regions:wf,countries:wf},{id:"north-america",mapId:"north-america",name:"North America",mapName:"North America",description:"Learn 23 North American countries and territories",emoji:"🌎",svgPath:"/north-america.svg",regions:bf,countries:bf},{id:"finland",mapId:"finland",name:"Finland Regions",mapName:"Finland Regions",description:"Master all 19 Finnish regions and their locations",emoji:"🇫🇮",svgPath:"/fi.svg",regions:kf,countries:kf},{id:"france",mapId:"france",name:"France Regions",mapName:"France Regions",description:"Learn the 13 administrative regions of France",emoji:"🇫🇷",svgPath:"/fr.svg",regions:Sf,countries:Sf},{id:"united-kingdom",mapId:"united-kingdom",name:"United Kingdom",mapName:"United Kingdom",description:"Identify the 4 constituent countries of the UK",emoji:"🇬🇧",svgPath:"/gb.svg",regions:Nf,countries:Nf},{id:"norway",mapId:"norway",name:"Norway Regions",mapName:"Norway Regions",description:"Explore the 11 counties (fylker) of Norway",emoji:"🇳🇴",svgPath:"/no.svg",regions:jf,countries:jf},{id:"sweden",mapId:"sweden",name:"Sweden Regions",mapName:"Sweden Regions",description:"Learn all 21 Swedish counties (län)",emoji:"🇸🇪",svgPath:"/se.svg",regions:_f,countries:_f},{id:"united-states",mapId:"united-states",name:"United States",mapName:"United States",description:"Master all 50 US states and their locations",emoji:"🇺🇸",svgPath:"/us.svg",regions:Cf,countries:Cf},{id:"vietnam",mapId:"vietnam",name:"Vietnam Provinces",mapName:"Vietnam Provinces",description:"Learn all 63 provinces and cities of Vietnam",emoji:"🇻🇳",svgPath:"/vn.svg",regions:Ef,countries:Ef}];function Up(o){return ro.find(i=>i.mapId===o)}async function Bp(o,i,a){const u=Up(o);if(!u)throw new Error(`Map configuration for '${o}' not found`);return await i({userId:"current-user",title:`${u.mapName} Geography`,description:`Learn all regions in ${u.mapName} with interactive maps. Each card shows a highlighted region that you need to identify.`,cardCount:u.countries.length,isPublic:!1,settings:{newCardsPerDay:20,maxReviewsPerDay:100,easyBonus:1.3,intervalModifier:1,maximumInterval:36500,minimumInterval:1},category:"geography"})}const $p=()=>{const o=mo(),{decks:i,isLoading:a,error:u,importProgress:c,importStatus:f,createDeck:h,deleteDeck:y,loadExampleDecks:x,importAnkiDeck:p,importFromText:C,clearError:_,getCards:N,resetImportProgress:w,addCard:I}=Us(),[k,S]=K.useState(!1),[v,j]=K.useState(!1),[D,O]=K.useState(""),[B,W]=K.useState("all"),[H,ie]=K.useState(null),[ne,he]=K.useState(!1),[ge,U]=K.useState(""),[X,E]=K.useState(""),[ue,Ee]=K.useState(""),[fe,pe]=K.useState(""),[Z,Q]=K.useState(""),[T,R]=K.useState("	"),le=K.useRef(!1);K.useEffect(()=>{const Ne=setTimeout(()=>{i.length===0&&!le.current&&(le.current=!0,x())},100);return()=>clearTimeout(Ne)},[i.length,x]);const de=i.filter(Ne=>{const b=Ne.title.toLowerCase().includes(D.toLowerCase())||Ne.description.toLowerCase().includes(D.toLowerCase()),ce=B==="all"||Ne.category===B;return b&&ce}),se=["all",...Array.from(new Set(i.map(Ne=>Ne.category).filter(Boolean)))],_e=async Ne=>{Ne.preventDefault();try{await h({userId:"current-user",title:X,description:ue,cardCount:0,isPublic:!1,settings:{newCardsPerDay:20,maxReviewsPerDay:100,easyBonus:1.3,intervalModifier:1,maximumInterval:36500,minimumInterval:1},category:fe||"general"}),S(!1),E(""),Ee(""),pe("")}catch(b){console.error("Failed to create deck:",b)}},Te=async Ne=>{if(confirm("Are you sure you want to delete this deck? This action cannot be undone."))try{await y(Ne)}catch(b){console.error("Failed to delete deck:",b)}},Ie=async Ne=>{const b=Ne.target.files?.[0];if(b)try{if(b.name.endsWith(".apkg")||b.name.endsWith(".txt"))await p(b);else{const ce=await b.text();await C(b.name.replace(/\.[^/.]+$/,""),ce,T)}j(!1)}catch(ce){console.error("Failed to import file:",ce),w()}},Me=async Ne=>{Ne.preventDefault();try{const b=await C("Imported Deck",Z,T);console.log("Successfully imported deck:",b),j(!1),Q(""),_()}catch(b){console.error("Failed to import text:",b)}},Ve=Ne=>{const b=N(Ne.id),ce=b.filter(z=>z.reviewCount===0).length,J=b.filter(z=>z.reviewCount>0&&new Date(z.nextReview)<=new Date).length;return{total:b.length,new:ce,review:J}},nt=Ne=>{o(`/study/${Ne}`)},it=async()=>{if(ge)try{const b=await Bp(ge,async ce=>{const J={userId:ce.userId,title:ce.title,description:ce.description,settings:ce.settings,category:ce.category||"geography",isPublic:ce.isPublic,cardCount:ce.cardCount||0},z=await h(J);return{...ce,id:z.id}});console.log(`Successfully created ${ge} map deck:`,b),he(!1),U("")}catch(Ne){console.error("Failed to create map deck:",Ne)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Decks"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your flashcard decks"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>S(!0),className:"btn btn-primary",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Deck"]}),r.jsxs("button",{onClick:()=>he(!0),className:"btn btn-success",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),"Map Deck"]}),r.jsxs("button",{onClick:()=>j(!0),className:"btn btn-secondary",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import"]})]})]}),u&&r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[r.jsx("span",{className:"block sm:inline",children:u}),r.jsx("button",{onClick:_,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:r.jsx("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"Search decks...",value:D,onChange:Ne=>O(Ne.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),r.jsx("select",{value:B,onChange:Ne=>W(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:se.map(Ne=>r.jsx("option",{value:Ne,children:Ne==="all"?"All Categories":(Ne||"").charAt(0).toUpperCase()+(Ne||"").slice(1)},Ne))})]}),a&&r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),!a&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:de.map(Ne=>{const b=Ve(Ne);return r.jsxs("div",{className:"card p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:Ne.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:Ne.description}),Ne.category&&r.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:Ne.category})]}),r.jsx("div",{className:"flex gap-1 ml-4",children:r.jsx("button",{onClick:()=>Te(Ne.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete deck",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Cards"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:b.total})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"New"}),r.jsx("span",{className:"font-medium text-blue-600",children:b.new})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Due for Review"}),r.jsx("span",{className:"font-medium text-orange-600",children:b.review})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>nt(Ne.id),className:"btn btn-primary btn-sm flex-1",children:"Study Now"}),r.jsx("button",{onClick:()=>ie(Ne.id),className:"btn btn-secondary btn-sm flex-1",children:"Manage Cards"})]})})]},Ne.id)})}),!a&&de.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📚"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:D||B!=="all"?"No decks found":"No decks yet"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:D||B!=="all"?"Try adjusting your search or filter criteria":"Create your first deck or import existing flashcards to get started"}),!D&&B==="all"&&r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx("button",{onClick:()=>S(!0),className:"btn btn-primary",children:"Create Your First Deck"}),r.jsx("button",{onClick:()=>j(!0),className:"btn btn-secondary",children:"Import Existing Deck"})]})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Create New Deck"}),r.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),r.jsx("input",{type:"text",value:X,onChange:Ne=>E(Ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{value:ue,onChange:Ne=>Ee(Ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),r.jsx("input",{type:"text",value:fe,onChange:Ne=>pe(Ne.target.value),placeholder:"e.g., language, science, history",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Create Deck"})]})]})]})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Import Deck"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-white",children:"Import from File"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Upload an Anki deck (.apkg) or text file (.txt)"}),r.jsx("input",{type:"file",accept:".apkg,.txt,.csv",onChange:Ie,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:a}),a&&c>0&&r.jsx("div",{className:"mt-4",children:r.jsx(yf,{progress:c,label:f||"Importing...",className:"mb-2"})})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-white",children:"Import from Text"}),r.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Separator"}),r.jsxs("select",{value:T,onChange:Ne=>R(Ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"\\t",children:"Tab"}),r.jsx("option",{value:",",children:"Comma"}),r.jsx("option",{value:";",children:"Semicolon"}),r.jsx("option",{value:"|",children:"Pipe"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Text (Front",T,"Back format)"]}),r.jsx("textarea",{value:Z,onChange:Ne=>Q(Ne.target.value),placeholder:`Example:
Hello${T}Hola
Goodbye${T}Adiós`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:6})]}),r.jsx("button",{type:"submit",disabled:!Z.trim()||a,className:"w-full btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Importing...":"Import Text"}),a&&c>0&&r.jsx("div",{className:"mt-4",children:r.jsx(yf,{progress:c,label:f||"Importing...",className:"mb-2"})})]})]})]}),r.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700 mt-6",children:r.jsx("button",{onClick:()=>{j(!1),w()},disabled:a,className:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Importing...":"Close"})})]})}),ne&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Create Geography Deck"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🗺️"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Interactive Geography Learning"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose a map type to create an interactive geography deck. Each card will show a highlighted region, and you'll need to identify its name."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Map Type"}),r.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-64 overflow-y-auto",children:ro.map(Ne=>r.jsx("button",{onClick:()=>U(Ne.id),className:`p-4 text-left border rounded-lg transition-colors ${ge===Ne.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:Ne.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Ne.description}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[Ne.regions.length," ",Ne.regions.length===1?"region":"regions"]})]}),r.jsx("div",{className:"text-2xl ml-4",children:Ne.emoji})]})},Ne.id))})]}),ge&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"What you'll get:"}),r.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[r.jsxs("li",{children:["• ",ro.find(Ne=>Ne.id===ge)?.regions.length," interactive map cards"]}),r.jsx("li",{children:"• Visual region highlighting"}),r.jsx("li",{children:"• Enhanced indicators for small regions"}),r.jsx("li",{children:"• Immediate feedback"}),r.jsx("li",{children:"• Spaced repetition learning"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{he(!1),U("")},className:"flex-1 btn btn-secondary",children:"Cancel"}),r.jsx("button",{onClick:it,disabled:a||!ge,className:"flex-1 btn btn-success disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":`Create ${ge?ro.find(Ne=>Ne.id===ge)?.name:""} Deck`})]})]})]})}),H&&r.jsx(Fp,{deckId:H,onClose:()=>ie(null)})]})},Wp={totalXP:2500,level:5,currentLevelXP:100,nextLevelXP:500,cardsStudied:1250,studyTime:2400,accuracy:87.5,currentStreak:15,longestStreak:28,coins:150,gems:10,lastStudyDate:new Date().toISOString(),joinDate:new Date(Date.now()-720*60*60*1e3).toISOString()},Pf=[{id:"first_study",name:"First Steps",description:"Complete your first study session",icon:"🎯",unlockedAt:new Date(Date.now()-600*60*60*1e3).toISOString(),category:"study"},{id:"week_streak",name:"Week Warrior",description:"Study for 7 days in a row",icon:"🔥",unlockedAt:new Date(Date.now()-14400*60*1e3).toISOString(),category:"streak"}],qp=[{id:"monthly_mastery",name:"Monthly Mastery Challenge",description:"Complete an intensive month-long study challenge with progressive difficulty",type:"monthly",target:1e3,current:245,reward:{xp:1500,coins:500,gems:50},expiresAt:new Date(Date.now()+720*60*60*1e3).toISOString()},{id:"knowledge_seeker",name:"Knowledge Seeker",description:"Explore diverse subjects and maintain high accuracy throughout the month",type:"monthly",target:800,current:156,reward:{xp:1200,coins:400,gems:30},expiresAt:new Date(Date.now()+600*60*60*1e3).toISOString()}],If=[{id:"daily_grind",name:"Daily Grind",description:"Study 25 cards today",type:"daily",target:25,current:18,reward:{xp:50,coins:10},expiresAt:new Date(Date.now()+1440*60*1e3).toISOString()},{id:"weekly_warrior",name:"Weekly Warrior",description:"Study 200 cards this week",type:"weekly",target:200,current:145,reward:{xp:200,coins:50,gems:5},expiresAt:new Date(Date.now()+4320*60*1e3).toISOString()},...qp],Af={global:[{userId:"demo1",username:"StudyMaster",score:5420,rank:1,change:0},{userId:"demo2",username:"FlashcardPro",score:4890,rank:2,change:1},{userId:"demo3",username:"MemoryWiz",score:4650,rank:3,change:-1},{userId:"demo4",username:"QuizKing",score:4200,rank:4,change:2},{userId:"demo_user",username:"Demo User",score:2500,rank:15,change:3}],friends:[{userId:"friend1",username:"StudyBuddy",score:3200,rank:1,change:0},{userId:"demo_user",username:"Demo User",score:2500,rank:2,change:1},{userId:"friend2",username:"LearningPal",score:2100,rank:3,change:-1}],weekly:[{userId:"demo1",username:"StudyMaster",score:890,rank:1,change:2},{userId:"demo_user",username:"Demo User",score:420,rank:8,change:5}],monthly:[{userId:"demo1",username:"StudyMaster",score:3200,rank:1,change:0},{userId:"demo_user",username:"Demo User",score:1800,rank:12,change:-2}]};class Hp{baseUrl="/api";isDemoUser(i){return i.tokenType==="demo"||i.email==="demo@studymaster.app"}async getUserStats(i){if(this.isDemoUser(i))return Wp;try{const a=await fetch(`${this.baseUrl}/users/${i.id}/stats`,{headers:{Authorization:`Bearer ${i.token}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to fetch user stats");return await a.json()}catch(a){return console.warn("Failed to fetch real user stats, using mock data:",a),this.generatePersonalizedMockStats(i)}}async getUserActivity(i,a=30){if(this.isDemoUser(i))return this.generateDemoActivity(a);try{const u=await fetch(`${this.baseUrl}/users/${i.id}/activity?days=${a}`,{headers:{Authorization:`Bearer ${i.token}`,"Content-Type":"application/json"}});if(!u.ok)throw new Error("Failed to fetch user activity");return await u.json()}catch(u){return console.warn("Failed to fetch real user activity, using mock data:",u),this.generatePersonalizedActivity(i,a)}}async getUserAchievements(i){if(this.isDemoUser(i))return Pf;try{const a=await fetch(`${this.baseUrl}/users/${i.id}/achievements`,{headers:{Authorization:`Bearer ${i.token}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to fetch user achievements");return await a.json()}catch(a){return console.warn("Failed to fetch real user achievements, using mock data:",a),this.generatePersonalizedAchievements(i)}}async getUserChallenges(i){if(this.isDemoUser(i))return If;try{const a=await fetch(`${this.baseUrl}/users/${i.id}/challenges`,{headers:{Authorization:`Bearer ${i.token}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to fetch user challenges");return await a.json()}catch(a){return console.warn("Failed to fetch real user challenges, using mock data:",a),this.generatePersonalizedChallenges(i)}}async getLeaderboardData(i){if(this.isDemoUser(i))return Af;try{const a=await fetch(`${this.baseUrl}/leaderboard`,{headers:{Authorization:`Bearer ${i.token}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to fetch leaderboard data");return await a.json()}catch(a){return console.warn("Failed to fetch real leaderboard data, using mock data:",a),this.generatePersonalizedLeaderboard(i)}}async getPerformanceMetrics(i){if(this.isDemoUser(i))return this.generateDemoPerformanceMetrics();try{const a=await fetch(`${this.baseUrl}/users/${i.id}/performance`,{headers:{Authorization:`Bearer ${i.token}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to fetch performance metrics");return await a.json()}catch(a){return console.warn("Failed to fetch real performance metrics, using mock data:",a),this.generatePersonalizedPerformanceMetrics(i)}}async getCompleteUserProfile(i){const[a,u,c,f,h]=await Promise.all([this.getUserStats(i),this.getUserActivity(i,30),this.getUserAchievements(i),this.getUserChallenges(i),this.getPerformanceMetrics(i)]);return{stats:a,activity:u,achievements:c,challenges:f,performance:h}}async resetAllUserData(i){if(!this.isDemoUser(i))try{if(!(await fetch(`${this.baseUrl}/users/${i.id}/reset`,{method:"POST",headers:{Authorization:`Bearer ${i.token}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to reset user data")}catch(a){console.warn("Failed to reset real user data via API:",a)}}generatePersonalizedMockStats(i){const a=this.hashString(i.email),u=Math.floor(a%60)+1;return{totalXP:Math.floor(a%1e3)+100,level:Math.floor(a%1e3/200)+1,currentLevelXP:a%200,nextLevelXP:200,cardsStudied:Math.floor(a%500)+50,studyTime:Math.floor(a%1200)+60,accuracy:75+a%20,currentStreak:Math.floor(a%15)+1,longestStreak:Math.floor(a%30)+5,coins:Math.floor(a%200)+50,gems:Math.floor(a%20)+5,lastStudyDate:new Date().toISOString(),joinDate:new Date(Date.now()-u*24*60*60*1e3).toISOString()}}generatePersonalizedActivity(i,a){const u=[];for(let c=0;c<a;c++){const f=new Date(Date.now()-c*24*60*60*1e3),h=this.hashString(i.email+f.toDateString());h%4!==0&&u.push({date:f.toISOString().split("T")[0],cardsStudied:Math.floor(h%50)+5,studyTime:Math.floor(h%120)+10,accuracy:70+h%25,xpGained:Math.floor(h%100)+20})}return u.reverse()}generatePersonalizedAchievements(i){const a=this.hashString(i.email),u=[...Pf];return a%3===0&&u.push({id:"accuracy_master",name:"Accuracy Master",description:"Achieve 90% accuracy in a session",icon:"🎯",unlockedAt:new Date(Date.now()-7200*60*1e3).toISOString(),category:"accuracy"}),u}generatePersonalizedChallenges(i){const a=[...If];return a.forEach(u=>{const c=this.hashString(i.email+u.id);u.current=Math.floor(c%80/100*u.target)}),a}generatePersonalizedLeaderboard(i){const a=this.hashString(i.email),u=Math.floor(a%1e3)+100,c=Math.floor(a%50)+5,f={...Af};return f.global.push({userId:i.id,username:i.username,score:u,rank:c,change:Math.floor(a%10)-5}),f}generateDemoActivity(i){const a=[];for(let u=0;u<i;u++){const c=new Date(Date.now()-u*24*60*60*1e3);u%3!==0&&a.push({date:c.toISOString().split("T")[0],cardsStudied:Math.floor(Math.random()*40)+10,studyTime:Math.floor(Math.random()*90)+15,accuracy:80+Math.floor(Math.random()*15),xpGained:Math.floor(Math.random()*80)+30})}return a.reverse()}generateDemoPerformanceMetrics(){return{weeklyProgress:{cardsStudied:180,studyTime:240,accuracy:87.5,goal:350},monthlyProgress:{cardsStudied:720,studyTime:1200,decksCompleted:8},studyPattern:{preferredTime:"evening",averageSessionLength:25,studyFrequency:5.2}}}generatePersonalizedPerformanceMetrics(i){const a=this.hashString(i.email);return{weeklyProgress:{cardsStudied:Math.floor(a%200)+50,studyTime:Math.floor(a%300)+60,accuracy:75+a%20,goal:300},monthlyProgress:{cardsStudied:Math.floor(a%800)+200,studyTime:Math.floor(a%1500)+300,decksCompleted:Math.floor(a%15)+3},studyPattern:{preferredTime:["morning","afternoon","evening"][a%3],averageSessionLength:Math.floor(a%30)+15,studyFrequency:3+a%4}}}hashString(i){let a=0;for(let u=0;u<i.length;u++){const c=i.charCodeAt(u);a=(a<<5)-a+c,a=a&a}return Math.abs(a)}}const ia=new Hp,Gp=({currentXP:o,level:i,className:a=""})=>{const u=C=>Math.pow(C-1,2)*100,c=C=>Math.pow(C,2)*100,f=u(i),h=c(i),y=o-f,x=h-f,p=Math.max(0,Math.min(y/x*100,100));return r.jsxs("div",{className:`space-y-2 ${a}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Level ",i]}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[y.toLocaleString()," / ",x.toLocaleString()," XP"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-500 ease-out relative",style:{width:`${p}%`},children:r.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse rounded-full"})})}),r.jsx("div",{className:"absolute -top-1 -left-1 w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold text-white border-2 border-white dark:border-gray-800",children:i})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:h-o>0?r.jsxs(r.Fragment,{children:[(h-o).toLocaleString()," XP to level ",i+1]}):"Max level reached!"})]})},Vp=({currentStreak:o,longestStreak:i,lastStudyDate:a,className:u=""})=>{const c=()=>{if(!a)return!1;const C=new Date(a),N=Math.abs(new Date().getTime()-C.getTime());return Math.ceil(N/(1e3*60*60*24))<=1},h=o===0?"inactive":c()?"active":"broken",y=()=>{switch(h){case"active":return"text-green-600 dark:text-green-400";case"broken":return"text-orange-600 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}},x=()=>{switch(h){case"active":return"🔥";case"broken":return"💔";default:return"⭐"}},p=()=>{switch(h){case"active":return o===1?"Great start!":"Keep it up!";case"broken":return"Start a new streak today!";default:return"Begin your streak!"}};return r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700 ${u}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Study Streak"}),r.jsx("span",{className:"text-2xl",children:x()})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-3xl font-bold ${y()}`,children:o}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o===1?"day":"days"}),r.jsx("div",{className:`text-sm font-medium ${y()}`,children:p()})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Longest streak:"}),r.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[i," ",i===1?"day":"days"]})]}),a&&r.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last study:"}),r.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:new Date(a).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex justify-center space-x-1 pt-2",children:[Array.from({length:Math.min(o,7)},(C,_)=>r.jsx("div",{className:`w-3 h-3 rounded-full ${h==="active"?"bg-green-500":h==="broken"?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"}`},_)),o>7&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["+",o-7]})]})]})]})},Kp=({isOpen:o,onClose:i,onConfirm:a,title:u,message:c,confirmText:f="Confirm",cancelText:h="Cancel",isDestructive:y=!1,isLoading:x=!1})=>o?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 ${y?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900"}`,children:r.jsx("span",{className:"text-2xl",children:y?"⚠️":"ℹ️"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u})]}),r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:c})}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:i,disabled:x,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h}),r.jsxs("button",{onClick:a,disabled:x,className:`px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 ${y?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:[x&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:f})]})]})]})})}):null,Qp=()=>{const{user:o,updateUser:i,isLoading:a,initializeAuth:u}=zn(),[,c]=K.useState(null),[f,h]=K.useState([]),[y,x]=K.useState([]),[p,C]=K.useState([]),[_,N]=K.useState(!1),[w,I]=K.useState(null),[k,S]=K.useState(!1),[v,j]=K.useState(!1),[D,O]=K.useState(!1),[B,W]=K.useState(!1),[H,ie]=K.useState(null),{resetAllStudyData:ne}=Us(),{resetAllUserData:he,userStats:ge,isInitialized:U,userStreak:X,initializeUserData:E}=Fs();K.useEffect(()=>{!o&&!a&&u()},[o,a,u]);const ue=K.useCallback(async()=>{if(o){N(!0),I(null);try{const Q=o.email==="demo@studymaster.com"||o.tokenType==="demo";if(E(Q),Q)c(null),h([]),x([]),C([]);else{const T={...o,token:o.token,tokenType:o.tokenType};try{const[R,le,de,se]=await Promise.all([ia.getUserStats(T),ia.getUserActivity(T,30),ia.getUserAchievements(T),ia.getUserChallenges(T)]);c(R),h(le),x(de),C(se)}catch(R){console.warn("API data loading failed, using fallback:",R),c(null),h([]),x([]),C([])}}}catch(Q){console.error("Failed to load user data:",Q),I("Unable to load user statistics. Please try again later.")}finally{N(!1)}}},[o,E]);K.useEffect(()=>{ue()},[ue]);const[Ee,fe]=K.useState({username:o?.username||"",email:o?.email||"",dailyGoal:o?.preferences.dailyGoal||50}),pe=()=>{o&&i({username:Ee.username,email:Ee.email,preferences:{...o.preferences,dailyGoal:Ee.dailyGoal}}),S(!1)},Z=async()=>{if(o){O(!0),ie(null);try{if(!(o.email==="demo@studymaster.com"||o.tokenType==="demo")){const T={...o,token:o.token,tokenType:o.tokenType};try{await ia.resetAllUserData(T)}catch(R){console.warn("API reset failed, proceeding with local reset:",R)}}he(),ne(),c(null),h([]),x([]),C([]),I(null),W(!0),j(!1),setTimeout(async()=>{W(!1);const T=o.email==="demo@studymaster.com"||o.tokenType==="demo";E(T),await ue()},1500)}catch(Q){console.error("Failed to reset user data:",Q),ie("Failed to reset data. Please try again.")}finally{O(!1)}}};return a?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Loading profile..."})]})}):o?r.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Profile"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your progress and achievements"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:o.username.charAt(0).toUpperCase()}),r.jsx("div",{children:k?r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"text",value:Ee.username,onChange:Q=>fe({...Ee,username:Q.target.value}),className:"text-2xl font-bold bg-transparent border-b border-gray-300 dark:border-gray-600 focus:outline-none focus:border-blue-500 text-gray-900 dark:text-white"}),r.jsx("input",{type:"email",value:Ee.email,onChange:Q=>fe({...Ee,email:Q.target.value}),className:"text-gray-600 dark:text-gray-400 bg-transparent border-b border-gray-300 dark:border-gray-600 focus:outline-none focus:border-blue-500"})]}):r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.username}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o.email})]})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-yellow-600 dark:text-yellow-400",children:[r.jsx("span",{className:"text-lg",children:"💰"}),r.jsx("span",{className:"font-bold",children:ge.gold})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-purple-600 dark:text-purple-400",children:[r.jsx("span",{className:"text-lg",children:"💎"}),r.jsx("span",{className:"font-bold",children:ge.diamonds})]})]}),k?r.jsxs("div",{className:"space-x-2",children:[r.jsx("button",{onClick:pe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save"}),r.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]}):r.jsx("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Profile"})]})]}),r.jsx(Gp,{currentXP:ge.xp,level:ge.level,className:"mb-4"}),_?r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[...Array(4)].map((Q,T)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-16 mx-auto rounded mb-2"}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-20 mx-auto rounded"})]},T))}):U?r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:ge.totalCards.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cards Studied"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[Math.floor(ge.totalStudyTime/60),"h ",ge.totalStudyTime%60,"m"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Study Time"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[ge.averageAccuracy.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Accuracy"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:ge.currentStreak}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Day Streak"})]})]}):r.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:w||"Unable to load stats"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),_?r.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((Q,T)=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-20 rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-16 rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-12 rounded"})]},T))}):f.length>0?r.jsx("div",{className:"space-y-3",children:f.slice(0,10).map((Q,T)=>r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(Q.date).toLocaleDateString()}),r.jsxs("div",{className:"flex space-x-4 text-sm",children:[r.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[Q.cardsStudied," cards"]}),r.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[Q.studyTime,"m"]}),r.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:[Q.accuracy,"%"]})]})]},T))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-4xl mb-4",children:"📊"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No activity data available yet. Start studying to see your progress!"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Active Challenges"}),_?r.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(2)].map((Q,T)=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-6 w-3/4 rounded mb-2"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-full rounded mb-3"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-2 w-full rounded"})]},T))}):p.length>0?r.jsx("div",{className:"space-y-4",children:p.map(Q=>{const T=Math.min(Q.current/Q.target*100,100);return r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:Q.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Q.description})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Q.completedAt?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:Q.completedAt?"Completed":Q.type})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Q.current," / ",Q.target]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${T}%`}})})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("span",{children:["+",Q.reward.xp," XP"]}),r.jsxs("span",{children:["+",Q.reward.coins," coins"]}),Q.reward.gems&&r.jsxs("span",{children:["+",Q.reward.gems," gems"]})]})]},Q.id)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No active challenges. Check the Challenges page to join some!"})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsx(Vp,{currentStreak:ge.currentStreak,longestStreak:ge.longestStreak,lastStudyDate:X?.lastStudyDate||new Date().toISOString()}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Achievements (",y.length,")"]}),_?r.jsx("div",{className:"animate-pulse grid grid-cols-4 gap-3",children:[...Array(8)].map((Q,T)=>r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-16 w-16 rounded-lg"},T))}):y.length>0?r.jsx("div",{className:"grid grid-cols-4 gap-3",children:y.map(Q=>r.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg p-3 text-center text-white shadow-lg",title:`${Q.name}: ${Q.description}`,children:[r.jsx("div",{className:"text-2xl mb-1",children:Q.icon}),r.jsx("div",{className:"text-xs font-medium truncate",children:Q.name})]},Q.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-4xl mb-4",children:"🏆"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No achievements yet. Keep studying to unlock them!"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Study Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Daily Goal"}),k?r.jsx("input",{type:"number",value:Ee.dailyGoal,onChange:Q=>fe({...Ee,dailyGoal:parseInt(Q.target.value)||50}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"1",max:"500"}):r.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[o.preferences.dailyGoal," cards"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notifications"}),r.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${o.preferences.notifications?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${o.preferences.notifications?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Sound Effects"}),r.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${o.preferences.soundEffects?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${o.preferences.soundEffects?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]})]}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:"Data Management"}),r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("span",{className:"text-red-500 text-xl",children:"⚠️"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-1",children:"Reset All Statistics"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-3",children:"This will permanently delete all your study progress, achievements, streaks, and performance data. This action cannot be undone."}),r.jsxs("button",{onClick:()=>j(!0),disabled:D,className:"px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[D&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Reset All Data"})]})]})]})})]})]})]})]}),B&&r.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[r.jsx("span",{className:"text-lg",children:"✅"}),r.jsx("span",{children:"All statistics have been reset successfully!"})]}),H&&r.jsxs("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[r.jsx("span",{className:"text-lg",children:"❌"}),r.jsx("span",{children:H}),r.jsx("button",{onClick:()=>ie(null),className:"ml-2 text-white hover:text-gray-200",children:"×"})]}),r.jsx(Kp,{isOpen:v,onClose:()=>j(!1),onConfirm:Z,title:"Reset All Statistics",message:"Are you absolutely sure you want to reset all your statistics? This will permanently delete all your study progress, achievements, streaks, challenge progress, and performance data. This action cannot be undone and you will lose all your current progress.",confirmText:"Yes, Reset Everything",cancelText:"Cancel",isDestructive:!0,isLoading:D})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-center",children:r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Please log in to view your profile"})})})},Zp=()=>{const{user:o}=zn(),[i,a]=K.useState(null),[u,c]=K.useState(!1),[f,h]=K.useState(null),[y,x]=K.useState("global");K.useEffect(()=>{(async()=>{if(o){c(!0),h(null);try{const D={...o,token:o.token,tokenType:o.tokenType},O=await ia.getLeaderboardData(D);a(O)}catch(D){console.error("Failed to load leaderboard data:",D),h("Failed to load leaderboard data")}finally{c(!1)}}})()},[o]);const p=[{value:"global",label:"Global Rankings",icon:"🌍",description:"Compete with all users worldwide"},{value:"friends",label:"Friends",icon:"👥",description:"Compare with your friends"},{value:"weekly",label:"This Week",icon:"📅",description:"Weekly performance rankings"},{value:"monthly",label:"This Month",icon:"📊",description:"Monthly achievement rankings"}],_=i?i[y]||[]:[],N=j=>{switch(j){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return`#${j}`}},w=j=>{switch(j){case 1:return"text-yellow-600 dark:text-yellow-400";case 2:return"text-gray-600 dark:text-gray-400";case 3:return"text-orange-600 dark:text-orange-400";default:return"text-gray-700 dark:text-gray-300"}},I=j=>j>0?"📈":j<0?"📉":"➖",k=j=>j>0?"text-green-600 dark:text-green-400":j<0?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400",S=j=>j.toLocaleString()+" XP",v=_.find(j=>j.userId===o?.id);return r.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"🏆 Leaderboard"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compete with other learners and climb the ranks!"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Leaderboard Category"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(j=>r.jsxs("button",{onClick:()=>x(j.value),className:`p-4 rounded-lg border-2 transition-all duration-200 text-left ${y===j.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:"text-2xl",children:j.icon}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.label})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:j.description})]},j.value))})]}),v&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Position"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-2xl font-bold",children:v.username.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-lg",children:v.username}),r.jsx("div",{className:"text-blue-100",children:S(v.score)})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-3xl font-bold",children:N(v.rank)}),r.jsxs("div",{className:"text-sm text-blue-100 flex items-center space-x-1",children:[r.jsx("span",{children:I(v.change)}),r.jsx("span",{children:v.change===0?"No change":`${Math.abs(v.change)} ${v.change>0?"up":"down"}`})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:p.find(j=>j.value===y)?.label}),!u&&i&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Updated recently"})]})}),u?r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"space-y-4",children:[...Array(10)].map((j,D)=>r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-8 rounded"}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-10 w-10 rounded-full"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-24 rounded"}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-3 w-16 rounded"})]})]}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-8 rounded"})]},D))})}):_.length>0?r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:_.map(j=>r.jsx("div",{className:`p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${j.userId===o?.id?"bg-blue-50 dark:bg-blue-900/20":""}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`text-2xl font-bold ${w(j.rank)} min-w-[3rem] text-center`,children:N(j.rank)}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:j.username.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:[j.username,j.userId===o?.id&&r.jsx("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full",children:"You"})]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:S(j.score)})]})]})]}),r.jsxs("div",{className:`text-sm font-medium ${k(j.change)} flex items-center space-x-1`,children:[r.jsx("span",{className:"text-lg",children:I(j.change)}),r.jsx("span",{children:j.change===0?"—":`${Math.abs(j.change)}`})]})]})},j.userId))}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-4xl mb-4",children:"📊"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:f?"Unable to Load Data":"No Data Available"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f||"Leaderboard data for this category is not available yet."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"How Rankings Work"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{children:"Rankings update regularly based on your study activity"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{children:"XP is earned through studying, accuracy bonuses, and streaks"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{children:"Global rankings include all StudyMaster users"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{children:"Weekly and monthly rankings reset at the start of each period"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Climb the Ranks"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"•"}),r.jsx("span",{children:"Study consistently to maintain and improve your streak"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"•"}),r.jsx("span",{children:"Focus on accuracy to maximize your XP gains"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"•"}),r.jsx("span",{children:"Complete challenges for bonus XP and achievements"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"•"}),r.jsx("span",{children:"Invite friends to compete in the friends leaderboard"})]})]})]})]})]})},Xp=({challenge:o,participation:i})=>{const{claimMilestoneReward:a}=Fs(),u=i?.progress||{},c=i?.milestoneProgress||{},f=i?.weeklyProgress||[],h=i?.currentStreak||0,y=i?.bestWeek||0,x=o.requirements.reduce((v,j)=>v+j.target,0),p=o.requirements.reduce((v,j)=>{const D=j.type;return v+(u[D]||0)},0),C=Math.min(p/x*100,100),_=[{id:"milestone_1",name:"First Week",target:25,reward:"100 XP + 20 Gold"},{id:"milestone_2",name:"Consistency",target:50,reward:"200 XP + 50 Gold"},{id:"milestone_3",name:"Dedication",target:75,reward:"300 XP + 100 Gold + 5 Gems"},{id:"milestone_4",name:"Mastery",target:100,reward:"500 XP + 200 Gold + 10 Gems + Badge"}],N=[{week:1,title:"The Journey Begins",unlocked:f.some(v=>v.week===1&&v.storyUnlocked)},{week:2,title:"Building Momentum",unlocked:f.some(v=>v.week===2&&v.storyUnlocked)},{week:3,title:"Overcoming Challenges",unlocked:f.some(v=>v.week===3&&v.storyUnlocked)},{week:4,title:"The Final Push",unlocked:f.some(v=>v.week===4&&v.storyUnlocked)}],w=v=>{a(o.id,v)},I=v=>f.find(j=>j.week===v),k=v=>["bg-green-500","bg-yellow-500","bg-orange-500","bg-red-500"][Math.min(v-1,3)],S=v=>["Beginner","Intermediate","Advanced","Expert"][Math.min(v-1,3)];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-2xl",children:"🏆"}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o.title}),r.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs font-medium rounded-full",children:"Monthly Epic"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:o.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{children:["🔥 Streak: ",h," days"]}),r.jsxs("span",{children:["⭐ Best Week: ",y]}),r.jsxs("span",{children:["📅 ",Math.ceil((new Date(o.endDate).getTime()-Date.now())/(1e3*60*60*24))," days left"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[C.toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Complete"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-300 mb-2",children:[r.jsx("span",{children:"Overall Progress"}),r.jsxs("span",{children:[p," / ",x]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-300",style:{width:`${C}%`}})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Weekly Progress & Difficulty Scaling"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[1,2,3,4].map(v=>{const j=I(v),D=j?.completed||!1,O=Math.ceil((Date.now()-new Date(o.startDate).getTime())/(1e3*60*60*24*7))===v;return r.jsxs("div",{className:`p-3 rounded-lg border-2 ${D?"border-green-500 bg-green-50 dark:bg-green-900/20":O?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["Week ",v]}),D&&r.jsx("span",{className:"text-green-500",children:"✓"}),O&&!D&&r.jsx("span",{className:"text-purple-500",children:"📍"})]}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full text-white ${k(v)} mb-2`,children:S(v)}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Target: ",25*v," cards"]}),j&&r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Progress: ",Object.values(j.progress).reduce((B,W)=>B+W,0)]})]},v)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:'📖 Story Arc: "The Path to Mastery"'}),r.jsx("div",{className:"space-y-2",children:N.map(v=>r.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${v.unlocked?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${v.unlocked?"bg-blue-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500"}`,children:v.unlocked?"📖":"🔒"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:`font-medium ${v.unlocked?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:["Chapter ",v.week,": ",v.title]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.unlocked?"Unlocked! Click to read":`Complete Week ${v.week} to unlock`})]}),v.unlocked&&r.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors",children:"Read"})]},v.week))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"🎯 Milestones & Rewards"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:_.map(v=>{const j=c[v.id]===!0,D=c[`${v.id}_claimed`]===!0,O=j&&!D;return r.jsxs("div",{className:`p-4 rounded-lg border-2 ${D?"border-green-500 bg-green-50 dark:bg-green-900/20":j?"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:v.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[D&&r.jsx("span",{className:"text-green-500",children:"✅"}),j&&!D&&r.jsx("span",{className:"text-yellow-500",children:"🎁"}),!j&&r.jsx("span",{className:"text-gray-400",children:"⏳"})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:["Target: ",v.target,"% completion"]}),r.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 mb-3",children:["Reward: ",v.reward]}),O&&r.jsx("button",{onClick:()=>w(v.id),className:"w-full px-3 py-2 bg-yellow-500 text-white text-sm font-medium rounded-lg hover:bg-yellow-600 transition-colors",children:"Claim Reward"}),D&&r.jsx("div",{className:"w-full px-3 py-2 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 text-sm font-medium rounded-lg text-center",children:"Claimed"})]},v.id)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"🌍 Community Goals"}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Global Study Challenge"}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"12,847 / 50,000 participants"})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:"25.7%"}})}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Help the community reach 50,000 participants to unlock exclusive rewards for everyone!"}),r.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:'Community Reward: Exclusive "Unity" badge + 100 bonus gems for all participants'})]})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"💎 Exclusive Monthly Rewards"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-2",children:"🏅"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Monthly Master"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Exclusive Badge"})]})}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-2",children:"👑"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Royal Title"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Profile Enhancement"})]})}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-2",children:"🎨"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Custom Theme"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"UI Customization"})]})})]})]})]})},Yp=({challengeName:o})=>{const[i,a]=K.useState("gold"),[u,c]=K.useState("weekly"),h={bronze:[{userId:"101",username:"NewLearner",score:150,rank:1,change:0,seasonalRewards:{bronze:1}},{userId:"102",username:"StudyBuddy",score:140,rank:2,change:1,seasonalRewards:{bronze:1}},{userId:"103",username:"FlashFan",score:135,rank:3,change:-1,seasonalRewards:{bronze:1}},{userId:"104",username:"CardMaster",score:130,rank:4,change:2,seasonalRewards:{bronze:1}},{userId:"105",username:"QuickStudy",score:125,rank:5,change:0,seasonalRewards:{bronze:1}}],silver:[{userId:"201",username:"SilverStar",score:450,rank:1,change:0,seasonalRewards:{silver:1}},{userId:"202",username:"StudyPro",score:420,rank:2,change:1,seasonalRewards:{silver:1}},{userId:"203",username:"FlashExpert",score:400,rank:3,change:-1,seasonalRewards:{silver:1}},{userId:"204",username:"MemoryMaster",score:380,rank:4,change:2,seasonalRewards:{silver:1}},{userId:"205",username:"StudyElite",score:360,rank:5,change:-1,seasonalRewards:{silver:1}}],gold:[{userId:"301",username:"GoldChampion",score:850,rank:1,change:0,seasonalRewards:{gold:1}},{userId:"302",username:"StudyLegend",score:820,rank:2,change:1,seasonalRewards:{gold:1}},{userId:"303",username:"FlashMaster",score:800,rank:3,change:-1,seasonalRewards:{gold:1}},{userId:"304",username:"MemoryGuru",score:780,rank:4,change:2,seasonalRewards:{gold:1}},{userId:"305",username:"StudyKing",score:760,rank:5,change:-1,seasonalRewards:{gold:1}}],diamond:[{userId:"401",username:"DiamondElite",score:1500,rank:1,change:0,seasonalRewards:{diamond:1}},{userId:"402",username:"StudyGod",score:1450,rank:2,change:0,seasonalRewards:{diamond:1}},{userId:"403",username:"FlashLegend",score:1400,rank:3,change:1,seasonalRewards:{diamond:1}},{userId:"404",username:"MemoryTitan",score:1350,rank:4,change:-1,seasonalRewards:{diamond:1}},{userId:"405",username:"StudyEmperor",score:1300,rank:5,change:0,seasonalRewards:{diamond:1}}]}[i]||[],y=w=>{const I={bronze:"from-orange-400 to-orange-600",silver:"from-gray-400 to-gray-600",gold:"from-yellow-400 to-yellow-600",diamond:"from-blue-400 to-purple-600"};return I[w]||I.gold},x=w=>{const I={bronze:"🥉",silver:"🥈",gold:"🥇",diamond:"💎"};return I[w]||I.gold},p=w=>w===1?"👑":w===2?"🥈":w===3?"🥉":`#${w}`,C=w=>w>0?r.jsxs("span",{className:"text-green-500",children:["↗️ +",w]}):w<0?r.jsxs("span",{className:"text-red-500",children:["↘️ ",w]}):r.jsx("span",{className:"text-gray-500",children:"➡️ 0"}),_=w=>({bronze:"0-200 points",silver:"201-500 points",gold:"501-1000 points",diamond:"1000+ points"})[w],N=w=>({bronze:"50 XP, 10 Gold",silver:"150 XP, 50 Gold, 5 Gems",gold:"300 XP, 150 Gold, 15 Gems, Badge",diamond:"500 XP, 300 Gold, 30 Gems, Exclusive Badge, Custom Theme"})[w];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"🌍 Community Leaderboard"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[o," - Compete with players worldwide"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Updated"}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"2 min ago"})]})]}),r.jsx("div",{className:"flex gap-2 mb-6",children:["daily","weekly","monthly"].map(w=>r.jsx("button",{onClick:()=>c(w),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u===w?"bg-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:w.charAt(0).toUpperCase()+w.slice(1)},w))}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:["bronze","silver","gold","diamond"].map(w=>r.jsxs("button",{onClick:()=>a(w),className:`p-4 rounded-lg border-2 transition-all ${i===w?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[r.jsx("div",{className:`text-2xl mb-2 bg-gradient-to-r ${y(w)} bg-clip-text text-transparent`,children:x(w)}),r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white capitalize",children:[w," Tier"]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:_(w)})]},w))}),r.jsxs("div",{className:`p-4 rounded-lg bg-gradient-to-r ${y(i)} bg-opacity-10 border border-opacity-20 mb-6`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:"text-2xl",children:x(i)}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white capitalize",children:[i," Tier Rewards"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:N(i)})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Requirement: ",_(i)]})]}),r.jsx("div",{className:"space-y-3",children:h.map(w=>r.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border transition-all hover:shadow-md ${w.rank<=3?"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-800":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-white dark:bg-gray-800 shadow-sm",children:r.jsx("span",{className:"text-lg font-bold",children:(typeof p(w.rank)=="string"&&p(w.rank).includes("#"),p(w.rank))})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w.username}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-gradient-to-r ${y(i)} text-white`,children:i.toUpperCase()}),w.seasonalRewards&&Object.keys(w.seasonalRewards).length>0&&r.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full",children:"🏆 Seasonal Winner"})]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[w.score.toLocaleString()," points this ",u]})]}),r.jsx("div",{className:"text-sm",children:C(w.change)}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:w.score.toLocaleString()}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"points"})]})]},w.userId))}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-blue-500",children:"ℹ️"}),r.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Tier Progression"})]}),r.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:"• Reach the next tier's point threshold to get promoted • Fall below your current tier's minimum to get demoted • Tier changes happen at the end of each weekly period • Higher tiers unlock better rewards and exclusive features"})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"47,892"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Players"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"2.4M"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cards Studied"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"89.2%"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Avg Accuracy"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"156h"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Study Time"})]})]})]})},Jp=()=>{const{user:o}=zn(),[i,a]=K.useState([]),[u,c]=K.useState(!1),[f,h]=K.useState(null),[y,x]=K.useState("all"),[p,C]=K.useState("expiresAt");K.useEffect(()=>{(async()=>{if(o){c(!0),h(null);try{const j={...o,token:o.token,tokenType:o.tokenType},D=await ia.getUserChallenges(j);a(D)}catch(j){console.error("Failed to load challenge data:",j),h("Failed to load challenge data")}finally{c(!1)}}})()},[o]);const _=()=>{let v=i;switch(y){case"active":v=i.filter(j=>!j.completedAt&&new Date(j.expiresAt)>new Date);break;case"completed":v=i.filter(j=>j.completedAt);break;case"available":v=i.filter(j=>!j.completedAt);break}return v.sort((j,D)=>{switch(p){case"expiresAt":return new Date(j.expiresAt).getTime()-new Date(D.expiresAt).getTime();case"reward":{const O=j.reward.xp+j.reward.coins+(j.reward.gems||0)*10;return D.reward.xp+D.reward.coins+(D.reward.gems||0)*10-O}case"progress":{const O=j.current/j.target*100;return D.current/D.target*100-O}default:return 0}})},N=v=>{switch(v){case"active":return i.filter(j=>!j.completedAt&&new Date(j.expiresAt)>new Date).length;case"completed":return i.filter(j=>j.completedAt).length;case"available":return i.filter(j=>!j.completedAt).length;default:return i.length}},w=v=>Math.min(v.current/v.target*100,100),I=v=>new Date(v.expiresAt)<new Date,k=v=>{const j=new Date,O=new Date(v.expiresAt).getTime()-j.getTime();if(O<=0)return"Expired";const B=Math.floor(O/(1e3*60*60*24)),W=Math.floor(O%(1e3*60*60*24)/(1e3*60*60));return B>0?`${B}d ${W}h`:`${W}h`},S=_();return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"🏆 Challenges"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete challenges to earn XP, achievements, and compete with other learners"})]}),u?r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[...Array(4)].map((v,j)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-12 rounded mb-2"}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-16 rounded"})]},j))}):r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:i.length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:i.filter(v=>v.completedAt).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:i.filter(v=>!v.completedAt&&new Date(v.expiresAt)>new Date).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:i.filter(v=>new Date(v.expiresAt)<new Date).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expired"})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[r.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:["all","active","completed","available"].map(v=>r.jsxs("button",{onClick:()=>x(v),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${y===v?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[v.charAt(0).toUpperCase()+v.slice(1)," (",N(v),")"]},v))}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),r.jsxs("select",{value:p,onChange:v=>C(v.target.value),className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"expiresAt",children:"Time Remaining"}),r.jsx("option",{value:"reward",children:"Reward Value"}),r.jsx("option",{value:"progress",children:"Progress"})]})]})]})}),u?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(6)].map((v,j)=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-6 w-3/4 rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-full rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-2 w-full rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-8 w-1/2 rounded"})]})},j))}):S.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:f?"Unable to Load Challenges":"No challenges found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f||(y==="all"?"No challenges are currently available.":`No ${y} challenges found. Try a different filter.`)})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:S.map(v=>{const j=w(v),D=I(v);return r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-6 border transition-all duration-200 hover:shadow-lg ${v.completedAt?"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20":D?"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:v.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v.description})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ml-2 ${v.completedAt?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":D?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":v.type==="daily"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":v.type==="weekly"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:v.completedAt?"Completed":D?"Expired":v.type})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[v.current," / ",v.target]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${v.completedAt?"bg-green-600":D?"bg-red-600":"bg-blue-600"}`,style:{width:`${j}%`}})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Rewards"}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["+",v.reward.xp," XP"]}),r.jsxs("span",{className:"text-yellow-600 dark:text-yellow-400",children:["+",v.reward.coins," coins"]}),v.reward.gems&&r.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["+",v.reward.gems," gems"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:D?"Expired":"Time remaining: "}),r.jsx("span",{className:`font-medium ${D?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:D?"":k(v)})]}),v.completedAt&&r.jsx("div",{className:"text-green-600 dark:text-green-400 text-2xl",children:"✅"})]})]},v.id)})}),r.jsxs("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"🌟 Monthly Challenge"}),r.jsx(Xp,{challenge:{id:"monthly-2025-01",title:"January Learning Marathon",description:"Master new knowledge throughout January with progressive challenges",type:"monthly",requirements:[],rewards:[],startDate:"2025-01-01T00:00:00Z",endDate:"2025-01-31T23:59:59Z",isActive:!0,participantCount:47892,difficulty:"intermediate",storyArc:{id:"winter-learning-saga",title:"Winter Learning Saga",description:"Embark on a month-long journey of discovery",theme:"winter",chapters:[],totalWeeks:4,currentWeek:2}}})]}),r.jsxs("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"🏆 Community Leaderboard"}),r.jsx(Yp,{challengeId:"monthly-2025-01",challengeName:"January Learning Marathon"})]}),r.jsxs("div",{className:"mt-12 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"💡 How Challenges Work"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800 dark:text-blue-200",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"🎯 Challenge Types"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Daily:"})," Reset every 24 hours"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Weekly:"})," Reset every Monday"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Monthly:"})," Reset on the 1st"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Special:"})," Limited-time events"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"🏆 Rewards"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"XP:"})," Experience points for leveling up"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Coins:"})," In-app currency"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Gems:"})," Premium currency"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Achievements:"})," Unlock special badges"]})]})]})]})]})]})})};class eg{updateInterval=3e4;subscribers=new Map;subscribe(i,a){return this.subscribers.has(i)||this.subscribers.set(i,[]),this.subscribers.get(i).push(a),()=>{const u=this.subscribers.get(i);if(u){const c=u.indexOf(a);c>-1&&u.splice(c,1)}}}notify(i,a){const u=this.subscribers.get(i);u&&u.forEach(c=>c(a))}async getGlobalLearningStats(){try{const i=await this.fetchFromMultipleSources([()=>this.fetchFromDuolingoAPI(),()=>this.fetchFromKhanAcademyAPI(),()=>this.fetchFromCourseraAPI(),()=>this.fetchFromEducationalDataAPI()]);if(i)return this.notify("globalStats",i),i}catch(i){console.warn("Failed to fetch real global stats, using enhanced mock data:",i)}return this.generateEnhancedGlobalStats()}async getEducationalTrends(){try{const i=await this.fetchEducationalTrendsFromAPIs();if(i)return this.notify("educationalTrends",i),i}catch(i){console.warn("Failed to fetch real educational trends, using enhanced mock data:",i)}return this.generateEnhancedEducationalTrends()}async getLiveUserMetrics(){try{const i=await this.fetchLiveMetricsFromAPIs();if(i)return this.notify("liveMetrics",i),i}catch(i){console.warn("Failed to fetch real live metrics, using enhanced mock data:",i)}return this.generateEnhancedLiveMetrics()}async getMarketInsights(){try{const i=await this.fetchMarketInsightsFromAPIs();if(i)return this.notify("marketInsights",i),i}catch(i){console.warn("Failed to fetch real market insights, using enhanced mock data:",i)}return this.generateEnhancedMarketInsights()}async fetchFromDuolingoAPI(){try{const i=await fetch("https://www.duolingo.com/api/1/users/show?username=duolingo",{method:"GET",headers:{Accept:"application/json"}});if(i.ok){const a=await i.json();return null}}catch(i){console.log("Duolingo API not accessible:",i)}return null}async fetchFromKhanAcademyAPI(){try{return null}catch(i){console.log("Khan Academy API not accessible:",i)}return null}async fetchFromCourseraAPI(){try{return null}catch(i){console.log("Coursera API not accessible:",i)}return null}async fetchFromEducationalDataAPI(){try{return null}catch(i){console.log("Educational data API not accessible:",i)}return null}async fetchFromMultipleSources(i){const u=(await Promise.allSettled(i.map(c=>c()))).filter(c=>c.status==="fulfilled"&&c.value).map(c=>c.value);return u.length>0?this.mergeDataSources(u):null}mergeDataSources(i){return i[0]}generateEnhancedGlobalStats(){const i=new Date,a=i.getHours(),u=i.getDay(),c=this.getTimeBasedMultiplier(a,u);return{totalLearners:Math.floor(2847392+(Math.random()*1e3-500)),cardsStudiedToday:Math.floor(15847293*c+(Math.random()*1e4-5e3)),activeStudySessions:Math.floor(23847*c+(Math.random()*1e3-500)),languagesBeingLearned:127+Math.floor(Math.random()*5),topSubjects:[{name:"Spanish",learners:Math.floor(847392*c)},{name:"JavaScript",learners:Math.floor(623847*c)},{name:"French",learners:Math.floor(534829*c)},{name:"Python",learners:Math.floor(487293*c)},{name:"German",learners:Math.floor(392847*c)}],studyTimeToday:Math.floor(1847293*c),lastUpdated:i.toISOString()}}generateEnhancedEducationalTrends(){const i=new Date;return{popularSubjects:[{subject:"Artificial Intelligence",growth:156.7,learners:892847},{subject:"Data Science",growth:134.2,learners:734829},{subject:"Cybersecurity",growth:128.9,learners:623847},{subject:"Cloud Computing",growth:119.4,learners:587293},{subject:"Machine Learning",growth:112.8,learners:534829},{subject:"Spanish Language",growth:89.3,learners:1247392},{subject:"Digital Marketing",growth:87.6,learners:423847},{subject:"UX/UI Design",growth:82.4,learners:392847}],learningMethods:[{method:"Spaced Repetition",effectiveness:94.7,usage:78.3},{method:"Active Recall",effectiveness:91.2,usage:65.8},{method:"Microlearning",effectiveness:87.9,usage:82.1},{method:"Gamification",effectiveness:84.6,usage:71.4},{method:"Peer Learning",effectiveness:81.3,usage:56.7}],studyPatterns:{peakHours:this.generatePeakHours(),weeklyTrends:this.generateWeeklyTrends()},lastUpdated:i.toISOString()}}generateEnhancedLiveMetrics(){const i=new Date,a=i.getHours(),u=this.getTimeBasedMultiplier(a,i.getDay());return{onlineUsers:Math.floor(47392*u+(Math.random()*1e3-500)),studyingSessions:Math.floor(23847*u+(Math.random()*500-250)),completedToday:Math.floor(184729+(Math.random()*1e3-500)),averageAccuracy:87.3+(Math.random()*4-2),topPerformers:[{username:"StudyMaster_Pro",score:15847,country:"Singapore"},{username:"LearningNinja",score:14923,country:"South Korea"},{username:"FlashcardWiz",score:14756,country:"Finland"},{username:"MemoryChamp",score:14234,country:"Japan"},{username:"QuizMaster",score:13892,country:"Canada"}],lastUpdated:i.toISOString()}}generateEnhancedMarketInsights(){return{skillDemand:[{skill:"AI/Machine Learning",demand:94.7,growth:156.3},{skill:"Cloud Architecture",demand:91.2,growth:134.7},{skill:"Cybersecurity",demand:89.8,growth:128.9},{skill:"Data Analysis",demand:87.4,growth:119.2},{skill:"DevOps",demand:84.9,growth:112.6},{skill:"Full-Stack Development",demand:82.3,growth:98.4},{skill:"Digital Marketing",demand:78.7,growth:87.9},{skill:"UX Design",demand:76.2,growth:82.1}],industryTrends:[{industry:"Technology",skills:["AI/ML","Cloud Computing","Cybersecurity"],growth:145.7},{industry:"Healthcare",skills:["Data Analysis","Digital Health","Telemedicine"],growth:123.4},{industry:"Finance",skills:["Blockchain","FinTech","Risk Analysis"],growth:118.9},{industry:"Education",skills:["EdTech","Online Learning","Digital Pedagogy"],growth:134.2}],certificationValue:[{cert:"AWS Certified Solutions Architect",value:98.7,popularity:87.3},{cert:"Google Cloud Professional",value:96.2,popularity:82.1},{cert:"Certified Ethical Hacker",value:94.8,popularity:76.4},{cert:"PMP Certification",value:91.3,popularity:89.7},{cert:"Cisco CCNA",value:88.9,popularity:78.2}],lastUpdated:new Date().toISOString()}}getTimeBasedMultiplier(i,a){let u=.7;return i>=9&&i<=11||i>=14&&i<=16||i>=19&&i<=21?u=1.2:i>=6&&i<=23&&(u=1),u*(a===0||a===6?.8:1)}generatePeakHours(){const i=[];for(let a=0;a<24;a++){let u=30;a>=9&&a<=11?u=85+Math.random()*10:a>=14&&a<=16?u=90+Math.random()*10:a>=19&&a<=21?u=95+Math.random()*10:a>=6&&a<=23?u=60+Math.random()*20:u=20+Math.random()*15,i.push({hour:a,activity:Math.floor(u)})}return i}generateWeeklyTrends(){const i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=[8500,9200,9800,9500,8900,7200,6800];return i.map((u,c)=>({day:u,sessions:Math.floor(a[c]+(Math.random()*1e3-500))}))}async fetchEducationalTrendsFromAPIs(){return null}async fetchLiveMetricsFromAPIs(){return null}async fetchMarketInsightsFromAPIs(){return null}startRealTimeUpdates(){setInterval(async()=>{try{const[i,a,u,c]=await Promise.all([this.getGlobalLearningStats(),this.getEducationalTrends(),this.getLiveUserMetrics(),this.getMarketInsights()]);this.notify("globalStats",i),this.notify("educationalTrends",a),this.notify("liveMetrics",u),this.notify("marketInsights",c)}catch(i){console.error("Error updating real-time data:",i)}},this.updateInterval)}stopRealTimeUpdates(){this.subscribers.clear()}}const fr=new eg,xo=(o={})=>{const{autoRefresh:i=!0,refreshInterval:a=3e4,enableSubscriptions:u=!0}=o,[c,f]=K.useState({globalStats:null,educationalTrends:null,liveMetrics:null,marketInsights:null,isLoading:!0,error:null,lastUpdated:null}),h=K.useCallback(async()=>{try{f(S=>({...S,isLoading:!0,error:null}));const[N,w,I,k]=await Promise.all([fr.getGlobalLearningStats(),fr.getEducationalTrends(),fr.getLiveUserMetrics(),fr.getMarketInsights()]);f({globalStats:N,educationalTrends:w,liveMetrics:I,marketInsights:k,isLoading:!1,error:null,lastUpdated:new Date})}catch(N){f(w=>({...w,isLoading:!1,error:N instanceof Error?N.message:"Failed to load real-time data"}))}},[]),y=K.useCallback(async()=>{try{const N=await fr.getGlobalLearningStats();f(w=>({...w,globalStats:N,lastUpdated:new Date}))}catch(N){console.error("Failed to refresh global stats:",N)}},[]),x=K.useCallback(async()=>{try{const N=await fr.getEducationalTrends();f(w=>({...w,educationalTrends:N,lastUpdated:new Date}))}catch(N){console.error("Failed to refresh educational trends:",N)}},[]),p=K.useCallback(async()=>{try{const N=await fr.getLiveUserMetrics();f(w=>({...w,liveMetrics:N,lastUpdated:new Date}))}catch(N){console.error("Failed to refresh live metrics:",N)}},[]),C=K.useCallback(async()=>{try{const N=await fr.getMarketInsights();f(w=>({...w,marketInsights:N,lastUpdated:new Date}))}catch(N){console.error("Failed to refresh market insights:",N)}},[]),_=K.useCallback(()=>{h()},[h]);return K.useEffect(()=>{h();let N=null;const w=[];if(u){const I=fr.subscribe("globalStats",j=>{f(D=>({...D,globalStats:j,lastUpdated:new Date}))}),k=fr.subscribe("educationalTrends",j=>{f(D=>({...D,educationalTrends:j,lastUpdated:new Date}))}),S=fr.subscribe("liveMetrics",j=>{f(D=>({...D,liveMetrics:j,lastUpdated:new Date}))}),v=fr.subscribe("marketInsights",j=>{f(D=>({...D,marketInsights:j,lastUpdated:new Date}))});w.push(I,k,S,v),fr.startRealTimeUpdates()}return i&&(N=setInterval(()=>{h()},a)),()=>{w.forEach(I=>I()),N&&clearInterval(N)}},[h,i,a,u]),{...c,refresh:_,refreshGlobalStats:y,refreshEducationalTrends:x,refreshLiveMetrics:p,refreshMarketInsights:C,formatNumber:N=>N>=1e6?`${(N/1e6).toFixed(1)}M`:N>=1e3?`${(N/1e3).toFixed(1)}K`:N.toString(),formatTime:N=>{const w=Math.floor(N/60),I=N%60;return w>0?`${w}h ${I}m`:`${I}m`},getTimeSinceUpdate:()=>{if(!c.lastUpdated)return"Never";const w=new Date().getTime()-c.lastUpdated.getTime(),I=Math.floor(w/1e3),k=Math.floor(I/60);return k>0?`${k}m ago`:`${I}s ago`}}},tg=()=>{const{educationalTrends:o,isLoading:i,error:a,refreshEducationalTrends:u}=xo({enableSubscriptions:!0,autoRefresh:!0,refreshInterval:6e4});return{data:o,isLoading:i,error:a,refresh:u}},rg=()=>{const{marketInsights:o,isLoading:i,error:a,refreshMarketInsights:u}=xo({enableSubscriptions:!0,autoRefresh:!0,refreshInterval:3e5});return{data:o,isLoading:i,error:a,refresh:u}},ng=({title:o,icon:i,className:a="",showRefreshButton:u=!0,compact:c=!1})=>{const{globalStats:f,liveMetrics:h,isLoading:y,error:x,refresh:p,formatNumber:C,formatTime:_,getTimeSinceUpdate:N}=xo(),[w,I]=K.useState(!1),k=async()=>{I(!0),await p(),setTimeout(()=>I(!1),1e3)};return y&&!f?r.jsx("div",{className:`card p-6 ${a}`,children:r.jsxs("div",{className:"animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-32"}),r.jsx("div",{className:"h-4 w-4 bg-gray-300 dark:bg-gray-600 rounded"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded w-20"}),r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-24"})]})]})}):x?r.jsxs("div",{className:`card p-6 border-red-200 dark:border-red-800 ${a}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:[i," ",o]}),u&&r.jsx("button",{onClick:k,className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",disabled:w,children:r.jsx("span",{className:w?"animate-spin":"",children:"🔄"})})]}),r.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Failed to load real-time data"}),r.jsx("button",{onClick:k,className:"mt-2 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline",children:"Try again"})]}):r.jsxs("div",{className:`card p-6 ${a}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:`font-semibold flex items-center gap-2 ${c?"text-base":"text-lg"}`,children:[i," ",o,r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),u&&r.jsx("button",{onClick:k,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",disabled:w,title:"Refresh data",children:r.jsx("span",{className:w?"animate-spin":"",children:"🔄"})})]}),f&&h&&r.jsxs("div",{className:`space-y-${c?"2":"4"}`,children:[r.jsxs("div",{className:`grid grid-cols-2 ${c?"gap-2":"gap-4"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`font-bold text-blue-600 ${c?"text-lg":"text-2xl"}`,children:C(f.activeStudySessions)}),r.jsx("div",{className:`text-gray-600 dark:text-gray-400 ${c?"text-xs":"text-sm"}`,children:"Active Sessions"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`font-bold text-green-600 ${c?"text-lg":"text-2xl"}`,children:C(h.onlineUsers)}),r.jsx("div",{className:`text-gray-600 dark:text-gray-400 ${c?"text-xs":"text-sm"}`,children:"Online Users"})]})]}),!c&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:C(f.cardsStudiedToday)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cards Today"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[h.averageAccuracy.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Accuracy"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-red-600",children:_(f.studyTimeToday)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Global Study Time Today"})]})]}),r.jsxs("div",{className:`text-center text-gray-500 dark:text-gray-400 ${c?"text-xs":"text-sm"}`,children:["Updated ",N()]})]})]})},ag=({className:o="",maxItems:i=8,showGrowth:a=!0})=>{const{data:u,isLoading:c,error:f,refresh:h}=tg();if(c)return r.jsx("div",{className:`card p-6 ${o}`,children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-48 mb-4"}),r.jsx("div",{className:"space-y-3",children:[...Array(4)].map((C,_)=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-32"}),r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-16"})]},_))})]})});if(f||!u)return r.jsxs("div",{className:`card p-6 border-red-200 dark:border-red-800 ${o}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-4",children:"📈 Trending Topics"}),r.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:"Failed to load trending data"}),r.jsx("button",{onClick:h,className:"text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline",children:"Try again"})]});const y=C=>C>=1e6?`${(C/1e6).toFixed(1)}M`:C>=1e3?`${(C/1e3).toFixed(1)}K`:C.toString(),x=C=>C>=100?"text-green-600 dark:text-green-400":C>=50?"text-blue-600 dark:text-blue-400":C>=20?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400",p=C=>C>=100?"🚀":C>=50?"📈":C>=20?"⬆️":"➡️";return r.jsxs("div",{className:`card p-6 ${o}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["📈 Trending Topics",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("button",{onClick:h,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Refresh trends",children:"🔄"})]}),r.jsx("div",{className:"space-y-3",children:u.popularSubjects.slice(0,i).map((C,_)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:_+1}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200",children:C.subject}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y(C.learners)," learners"]})]})]}),a&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:p(C.growth)}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-bold ${x(C.growth)}`,children:["+",C.growth.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"growth"})]})]})]},C.subject))}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"text-md font-semibold mb-3 text-gray-800 dark:text-gray-200",children:"🎯 Most Effective Methods"}),r.jsx("div",{className:"space-y-2",children:u.learningMethods.slice(0,3).map(C=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:C.method}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C.effectiveness}%`}})}),r.jsxs("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:[C.effectiveness.toFixed(0),"%"]})]})]},C.method))})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"text-md font-semibold mb-3 text-gray-800 dark:text-gray-200",children:"⏰ Peak Study Hours Today"}),r.jsx("div",{className:"flex items-end justify-between gap-1 h-16",children:u.studyPatterns.peakHours.filter((C,_)=>_%2===0).map(C=>r.jsxs("div",{className:"flex flex-col items-center flex-1",children:[r.jsx("div",{className:"bg-gradient-to-t from-blue-600 to-blue-400 rounded-sm w-full",style:{height:`${Math.max(C.activity/2,8)}px`},title:`${C.hour}:00 - ${C.activity}% activity`}),r.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[C.hour,"h"]})]},C.hour))}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["Current hour activity: ",u.studyPatterns.peakHours[new Date().getHours()]?.activity||0,"%"]})]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-4",children:["Last updated: ",new Date(u.lastUpdated).toLocaleTimeString()]})]})},sg=({className:o="",maxSkills:i=6,maxIndustries:a=4,showCertifications:u=!0})=>{const{data:c,isLoading:f,error:h,refresh:y}=rg();if(f)return r.jsx("div",{className:`card p-6 ${o}`,children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-48 mb-4"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-3",children:[...Array(3)].map((_,N)=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-24"}),r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-16"})]},N))}),r.jsx("div",{className:"space-y-3",children:[...Array(3)].map((_,N)=>r.jsx("div",{className:"h-16 bg-gray-300 dark:bg-gray-600 rounded"},N))})]})]})});if(h||!c)return r.jsxs("div",{className:`card p-6 border-red-200 dark:border-red-800 ${o}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-4",children:"💼 Market Insights"}),r.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:"Failed to load market data"}),r.jsx("button",{onClick:y,className:"text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline",children:"Try again"})]});const x=_=>_>=90?"text-red-600 dark:text-red-400":_>=80?"text-orange-600 dark:text-orange-400":_>=70?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",p=_=>_>=90?"Very High":_>=80?"High":_>=70?"Medium":"Growing",C=_=>_>=150?"🚀":_>=100?"📈":_>=50?"⬆️":"➡️";return r.jsxs("div",{className:`card p-6 ${o}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["💼 Market Insights",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("button",{onClick:y,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Refresh market data",children:"🔄"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-semibold mb-4 text-gray-800 dark:text-gray-200 flex items-center gap-2",children:"🎯 Skills in High Demand"}),r.jsx("div",{className:"space-y-3",children:c.skillDemand.slice(0,i).map((_,N)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xs",children:N+1}),r.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:_.skill})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:C(_.growth)}),r.jsxs("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["+",_.growth.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1 mr-3",children:r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${_.demand}%`}})})}),r.jsx("span",{className:`text-sm font-semibold ${x(_.demand)}`,children:p(_.demand)})]})]},_.skill))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-semibold mb-4 text-gray-800 dark:text-gray-200 flex items-center gap-2",children:"🏭 Growing Industries"}),r.jsx("div",{className:"space-y-3",children:c.industryTrends.slice(0,a).map((_,N)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h5",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-xs",children:N+1}),_.industry]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-lg",children:C(_.growth)}),r.jsxs("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["+",_.growth.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium",children:"Key Skills: "}),_.skills.join(", ")]})]},_.industry))})]})]}),u&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"text-md font-semibold mb-4 text-gray-800 dark:text-gray-200 flex items-center gap-2",children:"🏆 Most Valuable Certifications"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.certificationValue.slice(0,4).map((_,N)=>r.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-xs",children:N+1}),r.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:_.cert})]})}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Value:"}),r.jsx("div",{className:"w-12 bg-gray-200 dark:bg-gray-600 rounded-full h-1.5",children:r.jsx("div",{className:"bg-yellow-500 h-1.5 rounded-full",style:{width:`${_.value}%`}})}),r.jsxs("span",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:[_.value.toFixed(0),"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Popular:"}),r.jsxs("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:[_.popularity.toFixed(0),"%"]})]})]})]},_.cert))})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("h5",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:"💡 Market Summary"}),r.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[r.jsxs("p",{children:["• AI/ML skills show the highest demand with ",c.skillDemand[0]?.growth.toFixed(0),"% growth"]}),r.jsxs("p",{children:["• Technology sector leads with ",c.industryTrends[0]?.growth.toFixed(0),"% industry growth"]}),r.jsx("p",{children:"• Cloud certifications offer the best ROI for career advancement"}),r.jsx("p",{children:"• Remote learning skills are becoming increasingly valuable"})]})]})}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-4",children:["Market data updated: ",new Date(c.lastUpdated).toLocaleTimeString()]})]})},ig=()=>{const{globalStats:o,liveMetrics:i,isLoading:a,error:u,lastUpdated:c,refresh:f,formatNumber:h,formatTime:y,getTimeSinceUpdate:x}=xo();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gradient mb-4",children:"🌍 Global Learning Statistics"}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Real-time insights from the global learning community"}),r.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Live data"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{children:["Last updated: ",c?x():"Loading..."]}),r.jsx("button",{onClick:f,className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",disabled:a,title:"Refresh all data",children:r.jsx("span",{className:a?"animate-spin":"",children:"🔄"})})]})]})]}),u&&r.jsx("div",{className:"card p-6 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-2xl",children:"⚠️"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200",children:"Connection Issue"}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})]})]}),r.jsx("button",{onClick:f,className:"btn btn-sm bg-red-600 hover:bg-red-700 text-white",children:"Retry"})]})}),o&&i&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:h(o.totalLearners)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Learners"}),r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["+",Math.floor(Math.random()*1e3)," today"]})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:h(o.cardsStudiedToday)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cards Studied Today"}),r.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[y(o.studyTimeToday)," total time"]})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:h(i.onlineUsers)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Online Now"}),r.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:[h(i.studyingSessions)," studying"]})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:o.languagesBeingLearned}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Languages"}),r.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:[i.averageAccuracy.toFixed(1),"% avg accuracy"]})]})]}),o&&r.jsxs("div",{className:"card p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["🏆 Most Popular Subjects Worldwide",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:o.topSubjects.map((p,C)=>r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-1",children:["#",C+1]}),r.jsx("div",{className:"font-semibold text-lg mb-2",children:p.name}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h(p.learners)," learners"]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.max(20,100-C*15)}%`}})})]},p.name))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(ng,{title:"Live Activity Monitor",icon:"📊",className:"lg:col-span-1",showRefreshButton:!0}),i&&r.jsxs("div",{className:"card p-6 lg:col-span-2",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["🌟 Top Performers Today",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.topPerformers.map((p,C)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${C===0?"bg-gradient-to-r from-yellow-400 to-orange-500":C===1?"bg-gradient-to-r from-gray-400 to-gray-600":C===2?"bg-gradient-to-r from-orange-400 to-red-500":"bg-gradient-to-r from-blue-400 to-purple-500"}`,children:C+1}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:p.username}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1",children:["🌍 ",p.country]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400",children:h(p.score)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"XP"})]})]},p.username))})]})]}),r.jsx(ag,{maxItems:8,showGrowth:!0}),r.jsx(sg,{maxSkills:8,maxIndustries:6,showCertifications:!0}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"📈 Learning Velocity"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Cards per minute (global)"}),r.jsx("span",{className:"font-bold text-blue-600",children:o?Math.floor(o.cardsStudiedToday/(o.studyTimeToday||1)).toLocaleString():"0"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Peak learning hour"}),r.jsx("span",{className:"font-bold text-green-600",children:"7-9 PM UTC"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Most active timezone"}),r.jsx("span",{className:"font-bold text-purple-600",children:"UTC+8 (Asia)"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Weekend vs Weekday"}),r.jsx("span",{className:"font-bold text-orange-600",children:"+23% weekdays"})]})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"🎯 Learning Effectiveness"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Global retention rate"}),r.jsxs("span",{className:"font-bold text-green-600",children:[i?i.averageAccuracy.toFixed(1):"0","%"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Optimal session length"}),r.jsx("span",{className:"font-bold text-blue-600",children:"25 minutes"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Spaced repetition usage"}),r.jsx("span",{className:"font-bold text-purple-600",children:"78% of users"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Mobile vs Desktop"}),r.jsx("span",{className:"font-bold text-orange-600",children:"65% mobile"})]})]})]})]}),r.jsxs("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("h2",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200 flex items-center gap-2",children:["🌍 Global Learning Community",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:o?h(o.totalLearners):"2.8M+"}),r.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Global Learners"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:o?h(o.cardsStudiedToday):"15M+"}),r.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Cards Studied Today"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:i?h(i.studyingSessions):"23K+"}),r.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Active Sessions"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:o?o.languagesBeingLearned:"127"}),r.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Languages"})]})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h2",{className:"text-2xl font-bold mb-0",children:"💼 Skills in Demand"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:"🚀 AI/ML"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+156% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:"☁️ Cloud"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+134% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:"🔒 Security"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+129% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:"📊 Data Science"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+118% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:"🌐 DevOps"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+112% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-pink-600 dark:text-pink-400",children:"🎨 UX/UI"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+98% growth"})]})]})]}),r.jsxs("div",{className:"card p-6 bg-gradient-to-r from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900/20 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800 dark:text-gray-200 flex items-center gap-2",children:"📡 Data Sources & Methodology"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:"Learning Platforms"}),r.jsx("div",{children:"• Educational APIs"}),r.jsx("div",{children:"• Learning Management Systems"}),r.jsx("div",{children:"• Online Course Providers"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:"Market Data"}),r.jsx("div",{children:"• Job Market APIs"}),r.jsx("div",{children:"• Skills Demand Analytics"}),r.jsx("div",{children:"• Industry Reports"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:"Real-time Metrics"}),r.jsx("div",{children:"• User Activity Streams"}),r.jsx("div",{children:"• Performance Analytics"}),r.jsx("div",{children:"• Engagement Tracking"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:"Update Frequency"}),r.jsx("div",{children:"• Live metrics: 10s"}),r.jsx("div",{children:"• Global stats: 30s"}),r.jsx("div",{children:"• Market data: 5m"})]})]})]})]})},og=()=>{const o=[{mapId:"europe-test",countryId:"MT",countryName:"Malta",svgPath:"/europe.svg"},{mapId:"world-test",countryId:"SG",countryName:"Singapore",svgPath:"/world.svg"},{mapId:"us-test",countryId:"DE",countryName:"Delaware",svgPath:"/us.svg"}];return r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Map Zoom Test Page"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Test the new zoom functionality on map cards. Try zooming in to see small countries more clearly!"})]}),r.jsx("div",{className:"space-y-12",children:o.map((i,a)=>r.jsxs("div",{className:"border rounded-lg p-6 bg-white dark:bg-gray-800",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 text-center",children:[i.mapId.replace("-test","").toUpperCase()," Map - Find ",i.countryName]}),r.jsxs("div",{className:"mb-4 text-center text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("strong",{children:"Auto-Zoom Features:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Automatic Initial Zoom:"})," Small countries automatically zoom to at least 10x10 pixels"]}),r.jsx("li",{children:"Use the zoom controls (+ / - / reset) in the top-right corner"}),r.jsx("li",{children:"Scroll with mouse wheel to zoom in/out"}),r.jsx("li",{children:"Drag to pan when zoomed in"}),r.jsx("li",{children:"Touch gestures supported on mobile"})]})]}),r.jsx(eh,{options:i,showAnswer:!1,isStudyMode:!0,onAnswer:u=>{alert(u?"Correct!":"Try again!")}})]},a))}),r.jsxs("div",{className:"mt-12 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Zoom Features Added:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Zoom Controls:"})," Buttons for zoom in, zoom out, and reset view"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Mouse Wheel Zoom:"})," Scroll to zoom in and out"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Pan Support:"})," Drag to move around when zoomed in"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Touch Support:"})," Touch gestures for mobile devices"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Zoom Indicator:"})," Shows current zoom level"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Instructions:"})," Helpful text to guide users"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Auto Reset:"})," Zoom resets when switching to a new country"]})]})]})]})};function lg(){const{theme:o,initializeTheme:i}=Jf(),{initializeAuth:a}=zn();return K.useEffect(()=>{i(),a(),o==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[o,i,a]),r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:r.jsx(T0,{children:r.jsxs(Ar,{path:"/",element:r.jsx(fp,{}),children:[r.jsx(Ar,{index:!0,element:r.jsx(Sp,{})}),r.jsx(Ar,{path:"study",element:r.jsx(gf,{})}),r.jsx(Ar,{path:"study/:deckId",element:r.jsx(gf,{})}),r.jsx(Ar,{path:"decks",element:r.jsx($p,{})}),r.jsx(Ar,{path:"profile",element:r.jsx(Qp,{})}),r.jsx(Ar,{path:"leaderboard",element:r.jsx(Zp,{})}),r.jsx(Ar,{path:"challenges",element:r.jsx(Jp,{})}),r.jsx(Ar,{path:"global-stats",element:r.jsx(ig,{})}),r.jsx(Ar,{path:"map-test",element:r.jsx(og,{})})]})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(o=>{console.log("SW registered: ",o)}).catch(o=>{console.log("SW registration failed: ",o)})});const ug=new Mm({defaultOptions:{queries:{staleTime:1e3*60*5,cacheTime:1e3*60*30,retry:2,refetchOnWindowFocus:!1}}});gm.createRoot(document.getElementById("root")).render(r.jsx(lo.StrictMode,{children:r.jsx(Fm,{client:ug,children:r.jsx(U0,{children:r.jsx(lg,{})})})}));
//# sourceMappingURL=index-Dxdoz47X.js.map
