function dm(o,a){for(var s=0;s<a.length;s++){const l=a[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in o)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(o,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=s(u);fetch(u.href,d)}})();var ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function za(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function hm(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var a=o.default;if(typeof a=="function"){var s=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var u=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return o[l]}})}),s}var rc={exports:{}},Ia={},nc={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function fm(){if(Od)return tt;Od=1;var o=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function N(I,M,le){this.props=I,this.context=M,this.refs=b,this.updater=le||v}N.prototype.isReactComponent={},N.prototype.setState=function(I,M){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,M,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function w(){}w.prototype=N.prototype;function C(I,M,le){this.props=I,this.context=M,this.refs=b,this.updater=le||v}var R=C.prototype=new w;R.constructor=C,A(R,N.prototype),R.isPureReactComponent=!0;var L=Array.isArray,F=Object.prototype.hasOwnProperty,H={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function ie(I,M,le){var ue,ae={},Ce=null,Re=null;if(M!=null)for(ue in M.ref!==void 0&&(Re=M.ref),M.key!==void 0&&(Ce=""+M.key),M)F.call(M,ue)&&!q.hasOwnProperty(ue)&&(ae[ue]=M[ue]);var Pe=arguments.length-2;if(Pe===1)ae.children=le;else if(1<Pe){for(var Oe=Array(Pe),Ge=0;Ge<Pe;Ge++)Oe[Ge]=arguments[Ge+2];ae.children=Oe}if(I&&I.defaultProps)for(ue in Pe=I.defaultProps,Pe)ae[ue]===void 0&&(ae[ue]=Pe[ue]);return{$$typeof:o,type:I,key:Ce,ref:Re,props:ae,_owner:H.current}}function ne(I,M){return{$$typeof:o,type:I.type,key:M,ref:I.ref,props:I.props,_owner:I._owner}}function fe(I){return typeof I=="object"&&I!==null&&I.$$typeof===o}function pe(I){var M={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(le){return M[le]})}var B=/\/+/g;function X(I,M){return typeof I=="object"&&I!==null&&I.key!=null?pe(""+I.key):M.toString(36)}function E(I,M,le,ue,ae){var Ce=typeof I;(Ce==="undefined"||Ce==="boolean")&&(I=null);var Re=!1;if(I===null)Re=!0;else switch(Ce){case"string":case"number":Re=!0;break;case"object":switch(I.$$typeof){case o:case a:Re=!0}}if(Re)return Re=I,ae=ae(Re),I=ue===""?"."+X(Re,0):ue,L(ae)?(le="",I!=null&&(le=I.replace(B,"$&/")+"/"),E(ae,M,le,"",function(Ge){return Ge})):ae!=null&&(fe(ae)&&(ae=ne(ae,le+(!ae.key||Re&&Re.key===ae.key?"":(""+ae.key).replace(B,"$&/")+"/")+I)),M.push(ae)),1;if(Re=0,ue=ue===""?".":ue+":",L(I))for(var Pe=0;Pe<I.length;Pe++){Ce=I[Pe];var Oe=ue+X(Ce,Pe);Re+=E(Ce,M,le,Oe,ae)}else if(Oe=j(I),typeof Oe=="function")for(I=Oe.call(I),Pe=0;!(Ce=I.next()).done;)Ce=Ce.value,Oe=ue+X(Ce,Pe++),Re+=E(Ce,M,le,Oe,ae);else if(Ce==="object")throw M=String(I),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Re}function ce(I,M,le){if(I==null)return I;var ue=[],ae=0;return E(I,ue,"","",function(Ce){return M.call(le,Ce,ae++)}),ue}function Te(I){if(I._status===-1){var M=I._result;M=M(),M.then(function(le){(I._status===0||I._status===-1)&&(I._status=1,I._result=le)},function(le){(I._status===0||I._status===-1)&&(I._status=2,I._result=le)}),I._status===-1&&(I._status=0,I._result=M)}if(I._status===1)return I._result.default;throw I._result}var he={current:null},ge={transition:null},Z={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:ge,ReactCurrentOwner:H};function Q(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:ce,forEach:function(I,M,le){ce(I,function(){M.apply(this,arguments)},le)},count:function(I){var M=0;return ce(I,function(){M++}),M},toArray:function(I){return ce(I,function(M){return M})||[]},only:function(I){if(!fe(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},tt.Component=N,tt.Fragment=s,tt.Profiler=u,tt.PureComponent=C,tt.StrictMode=l,tt.Suspense=x,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,tt.act=Q,tt.cloneElement=function(I,M,le){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ue=A({},I.props),ae=I.key,Ce=I.ref,Re=I._owner;if(M!=null){if(M.ref!==void 0&&(Ce=M.ref,Re=H.current),M.key!==void 0&&(ae=""+M.key),I.type&&I.type.defaultProps)var Pe=I.type.defaultProps;for(Oe in M)F.call(M,Oe)&&!q.hasOwnProperty(Oe)&&(ue[Oe]=M[Oe]===void 0&&Pe!==void 0?Pe[Oe]:M[Oe])}var Oe=arguments.length-2;if(Oe===1)ue.children=le;else if(1<Oe){Pe=Array(Oe);for(var Ge=0;Ge<Oe;Ge++)Pe[Ge]=arguments[Ge+2];ue.children=Pe}return{$$typeof:o,type:I.type,key:ae,ref:Ce,props:ue,_owner:Re}},tt.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:d,_context:I},I.Consumer=I},tt.createElement=ie,tt.createFactory=function(I){var M=ie.bind(null,I);return M.type=I,M},tt.createRef=function(){return{current:null}},tt.forwardRef=function(I){return{$$typeof:p,render:I}},tt.isValidElement=fe,tt.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:Te}},tt.memo=function(I,M){return{$$typeof:m,type:I,compare:M===void 0?null:M}},tt.startTransition=function(I){var M=ge.transition;ge.transition={};try{I()}finally{ge.transition=M}},tt.unstable_act=Q,tt.useCallback=function(I,M){return he.current.useCallback(I,M)},tt.useContext=function(I){return he.current.useContext(I)},tt.useDebugValue=function(){},tt.useDeferredValue=function(I){return he.current.useDeferredValue(I)},tt.useEffect=function(I,M){return he.current.useEffect(I,M)},tt.useId=function(){return he.current.useId()},tt.useImperativeHandle=function(I,M,le){return he.current.useImperativeHandle(I,M,le)},tt.useInsertionEffect=function(I,M){return he.current.useInsertionEffect(I,M)},tt.useLayoutEffect=function(I,M){return he.current.useLayoutEffect(I,M)},tt.useMemo=function(I,M){return he.current.useMemo(I,M)},tt.useReducer=function(I,M,le){return he.current.useReducer(I,M,le)},tt.useRef=function(I){return he.current.useRef(I)},tt.useState=function(I){return he.current.useState(I)},tt.useSyncExternalStore=function(I,M,le){return he.current.useSyncExternalStore(I,M,le)},tt.useTransition=function(){return he.current.useTransition()},tt.version="18.3.1",tt}var Ld;function Fa(){return Ld||(Ld=1,nc.exports=fm()),nc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function mm(){if(Md)return Ia;Md=1;var o=Fa(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,x,m){var _,S={},j=null,v=null;m!==void 0&&(j=""+m),x.key!==void 0&&(j=""+x.key),x.ref!==void 0&&(v=x.ref);for(_ in x)l.call(x,_)&&!d.hasOwnProperty(_)&&(S[_]=x[_]);if(p&&p.defaultProps)for(_ in x=p.defaultProps,x)S[_]===void 0&&(S[_]=x[_]);return{$$typeof:a,type:p,key:j,ref:v,props:S,_owner:u.current}}return Ia.Fragment=s,Ia.jsx=f,Ia.jsxs=f,Ia}var Ud;function gm(){return Ud||(Ud=1,rc.exports=mm()),rc.exports}var r=gm(),K=Fa();const go=za(K),pm=dm({__proto__:null,default:go},[K]);var no={},sc={exports:{}},ar={},ac={exports:{}},ic={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function ym(){return zd||(zd=1,function(o){function a(ge,Z){var Q=ge.length;ge.push(Z);e:for(;0<Q;){var I=Q-1>>>1,M=ge[I];if(0<u(M,Z))ge[I]=Z,ge[Q]=M,Q=I;else break e}}function s(ge){return ge.length===0?null:ge[0]}function l(ge){if(ge.length===0)return null;var Z=ge[0],Q=ge.pop();if(Q!==Z){ge[0]=Q;e:for(var I=0,M=ge.length,le=M>>>1;I<le;){var ue=2*(I+1)-1,ae=ge[ue],Ce=ue+1,Re=ge[Ce];if(0>u(ae,Q))Ce<M&&0>u(Re,ae)?(ge[I]=Re,ge[Ce]=Q,I=Ce):(ge[I]=ae,ge[ue]=Q,I=ue);else if(Ce<M&&0>u(Re,Q))ge[I]=Re,ge[Ce]=Q,I=Ce;else break e}}return Z}function u(ge,Z){var Q=ge.sortIndex-Z.sortIndex;return Q!==0?Q:ge.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();o.unstable_now=function(){return f.now()-p}}var x=[],m=[],_=1,S=null,j=3,v=!1,A=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ge){for(var Z=s(m);Z!==null;){if(Z.callback===null)l(m);else if(Z.startTime<=ge)l(m),Z.sortIndex=Z.expirationTime,a(x,Z);else break;Z=s(m)}}function L(ge){if(b=!1,R(ge),!A)if(s(x)!==null)A=!0,Te(F);else{var Z=s(m);Z!==null&&he(L,Z.startTime-ge)}}function F(ge,Z){A=!1,b&&(b=!1,w(ie),ie=-1),v=!0;var Q=j;try{for(R(Z),S=s(x);S!==null&&(!(S.expirationTime>Z)||ge&&!pe());){var I=S.callback;if(typeof I=="function"){S.callback=null,j=S.priorityLevel;var M=I(S.expirationTime<=Z);Z=o.unstable_now(),typeof M=="function"?S.callback=M:S===s(x)&&l(x),R(Z)}else l(x);S=s(x)}if(S!==null)var le=!0;else{var ue=s(m);ue!==null&&he(L,ue.startTime-Z),le=!1}return le}finally{S=null,j=Q,v=!1}}var H=!1,q=null,ie=-1,ne=5,fe=-1;function pe(){return!(o.unstable_now()-fe<ne)}function B(){if(q!==null){var ge=o.unstable_now();fe=ge;var Z=!0;try{Z=q(!0,ge)}finally{Z?X():(H=!1,q=null)}}else H=!1}var X;if(typeof C=="function")X=function(){C(B)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,ce=E.port2;E.port1.onmessage=B,X=function(){ce.postMessage(null)}}else X=function(){N(B,0)};function Te(ge){q=ge,H||(H=!0,X())}function he(ge,Z){ie=N(function(){ge(o.unstable_now())},Z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(ge){ge.callback=null},o.unstable_continueExecution=function(){A||v||(A=!0,Te(F))},o.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<ge?Math.floor(1e3/ge):5},o.unstable_getCurrentPriorityLevel=function(){return j},o.unstable_getFirstCallbackNode=function(){return s(x)},o.unstable_next=function(ge){switch(j){case 1:case 2:case 3:var Z=3;break;default:Z=j}var Q=j;j=Z;try{return ge()}finally{j=Q}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(ge,Z){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var Q=j;j=ge;try{return Z()}finally{j=Q}},o.unstable_scheduleCallback=function(ge,Z,Q){var I=o.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?I+Q:I):Q=I,ge){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Q+M,ge={id:_++,callback:Z,priorityLevel:ge,startTime:Q,expirationTime:M,sortIndex:-1},Q>I?(ge.sortIndex=Q,a(m,ge),s(x)===null&&ge===s(m)&&(b?(w(ie),ie=-1):b=!0,he(L,Q-I))):(ge.sortIndex=M,a(x,ge),A||v||(A=!0,Te(F))),ge},o.unstable_shouldYield=pe,o.unstable_wrapCallback=function(ge){var Z=j;return function(){var Q=j;j=Z;try{return ge.apply(this,arguments)}finally{j=Q}}}}(ic)),ic}var Fd;function xm(){return Fd||(Fd=1,ac.exports=ym()),ac.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function vm(){if(Bd)return ar;Bd=1;var o=Fa(),a=xm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function j(e){return x.call(S,e)?!0:x.call(_,e)?!1:m.test(e)?S[e]=!0:(_[e]=!0,!1)}function v(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,t,n,i){if(t===null||typeof t>"u"||v(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,n,i,h,y,P){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=h,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=y,this.removeEmptyString=P}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w,C);N[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w,C);N[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w,C);N[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,t,n,i){var h=N.hasOwnProperty(t)?N[t]:null;(h!==null?h.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A(t,n,h,i)&&(n=null),i||h===null?j(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):h.mustUseProperty?e[h.propertyName]=n===null?h.type===3?!1:"":n:(t=h.attributeName,i=h.attributeNamespace,n===null?e.removeAttribute(t):(h=h.type,n=h===3||h===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var L=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),H=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),pe=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),ge=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,I;function M(e){if(I===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return`
`+I+e}var le=!1;function ue(e,t){if(!e||le)return"";le=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(oe){var i=oe}Reflect.construct(e,[],t)}else{try{t.call()}catch(oe){i=oe}e.call(t.prototype)}else{try{throw Error()}catch(oe){i=oe}e()}}catch(oe){if(oe&&i&&typeof oe.stack=="string"){for(var h=oe.stack.split(`
`),y=i.stack.split(`
`),P=h.length-1,z=y.length-1;1<=P&&0<=z&&h[P]!==y[z];)z--;for(;1<=P&&0<=z;P--,z--)if(h[P]!==y[z]){if(P!==1||z!==1)do if(P--,z--,0>z||h[P]!==y[z]){var W=`
`+h[P].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=P&&0<=z);break}}}finally{le=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function ae(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function Ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case H:return"Portal";case ne:return"Profiler";case ie:return"StrictMode";case X:return"Suspense";case E:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pe:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(t);case 8:return t===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ge(e){var t=Oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var h=n.get,y=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(P){i=""+P,y.call(this,P)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(P){i=""+P},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function st(e){e._valueTracker||(e._valueTracker=Ge(e))}function ot(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Oe(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function je(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function k(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function de(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Pe(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J(e,t){t=t.checked,t!=null&&R(e,"checked",t,!1)}function U(e,t){J(e,t);var n=Pe(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?G(e,t.type,n):t.hasOwnProperty("defaultValue")&&G(e,t.type,Pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function O(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function G(e,t,n){(t!=="number"||je(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ye=Array.isArray;function xe(e,t,n,i){if(e=e.options,t){t={};for(var h=0;h<n.length;h++)t["$"+n[h]]=!0;for(n=0;n<e.length;n++)h=t.hasOwnProperty("$"+e[n].value),e[n].selected!==h&&(e[n].selected=h),h&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Pe(n),t=null,h=0;h<e.length;h++){if(e[h].value===n){e[h].selected=!0,i&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function re(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(ye(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pe(n)}}function Ie(e,t){var n=Pe(t.value),i=Pe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function _e(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Be(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ye,jt=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,h){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ye=Ye||document.createElement("div"),Ye.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vr=["Webkit","ms","Moz","O"];Object.keys(_t).forEach(function(e){Vr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_t[t]=_t[e]})});function ut(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_t.hasOwnProperty(e)&&_t[e]?(""+t).trim():t+"px"}function Ve(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,h=ut(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,h):e[n]=h}}var gn=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pt(e,t){if(t){if(gn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Gr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function $n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qt=null,yr=null,$t=null;function Or(e){if(e=ya(e)){if(typeof Qt!="function")throw Error(s(280));var t=e.stateNode;t&&(t=yi(t),Qt(e.stateNode,e.type,t))}}function Ae(e){yr?$t?$t.push(e):$t=[e]:yr=e}function Ka(){if(yr){var e=yr,t=$t;if($t=yr=null,Or(e),t)for(e=0;e<t.length;e++)Or(t[e])}}function Va(e,t){return e(t)}function Ht(){}var Hn=!1;function ds(e,t,n){if(Hn)return e(t,n);Hn=!0;try{return Va(e,t,n)}finally{Hn=!1,(yr!==null||$t!==null)&&(Ht(),Ka())}}function Qr(e,t){var n=e.stateNode;if(n===null)return null;var i=yi(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var jr=!1;if(p)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){jr=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{jr=!1}function Mt(e,t,n,i,h,y,P,z,W){var oe=Array.prototype.slice.call(arguments,3);try{t.apply(n,oe)}catch(ke){this.onError(ke)}}var yn=!1,_r=null,Wn=!1,hs=null,fs={onError:function(e){yn=!0,_r=e}};function It(e,t,n,i,h,y,P,z,W){yn=!1,_r=null,Mt.apply(fs,arguments)}function Ga(e,t,n,i,h,y,P,z,W){if(It.apply(this,arguments),yn){if(yn){var oe=_r;yn=!1,_r=null}else throw Error(s(198));Wn||(Wn=!0,hs=oe)}}function Zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ms(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qa(e){if(Zr(e)!==e)throw Error(s(188))}function Xs(e){var t=e.alternate;if(!t){if(t=Zr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var h=n.return;if(h===null)break;var y=h.alternate;if(y===null){if(i=h.return,i!==null){n=i;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===n)return Qa(h),e;if(y===i)return Qa(h),t;y=y.sibling}throw Error(s(188))}if(n.return!==i.return)n=h,i=y;else{for(var P=!1,z=h.child;z;){if(z===n){P=!0,n=h,i=y;break}if(z===i){P=!0,i=h,n=y;break}z=z.sibling}if(!P){for(z=y.child;z;){if(z===n){P=!0,n=y,i=h;break}if(z===i){P=!0,i=y,n=h;break}z=z.sibling}if(!P)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Ys(e){return e=Xs(e),e!==null?qn(e):null}function qn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qn(e);if(t!==null)return t;e=e.sibling}return null}var Za=a.unstable_scheduleCallback,ir=a.unstable_cancelCallback,gs=a.unstable_shouldYield,Js=a.unstable_requestPaint,mt=a.unstable_now,Xa=a.unstable_getCurrentPriorityLevel,Xr=a.unstable_ImmediatePriority,ea=a.unstable_UserBlockingPriority,Yr=a.unstable_NormalPriority,Ya=a.unstable_LowPriority,Jr=a.unstable_IdlePriority,xn=null,or=null;function Ja(e){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(xn,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:lt,So=Math.log,Lr=Math.LN2;function lt(e){return e>>>=0,e===0?32:31-(So(e)/Lr|0)|0}var xr=64,en=4194304;function Mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tn(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,h=e.suspendedLanes,y=e.pingedLanes,P=n&268435455;if(P!==0){var z=P&~h;z!==0?i=Mr(z):(y&=P,y!==0&&(i=Mr(y)))}else P=n&~h,P!==0?i=Mr(P):y!==0&&(i=Mr(y));if(i===0)return 0;if(t!==0&&t!==i&&(t&h)===0&&(h=i&-i,y=t&-t,h>=y||h===16&&(y&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Zt(t),h=1<<n,i|=e[n],t&=~h;return i}function ta(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,h=e.expirationTimes,y=e.pendingLanes;0<y;){var P=31-Zt(y),z=1<<P,W=h[P];W===-1?((z&n)===0||(z&i)!==0)&&(h[P]=ta(z,t)):W<=t&&(e.expiredLanes|=z),y&=~z}}function ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vn(){var e=xr;return xr<<=1,(xr&4194240)===0&&(xr=64),e}function ps(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=n}function na(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var h=31-Zt(n),y=1<<h;t[h]=0,i[h]=-1,e[h]=-1,n&=~y}}function ys(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Zt(n),h=1<<i;h&t|e[i]&t&&(e[i]|=t),n&=~h}}var rt=0;function xs(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ei,wn,Vn,Ur,vs,lr=!1,cr=[],Xt=null,zr=null,Me=null,rn=new Map,Fr=new Map,Cr=[],ti="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bn(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Me=null;break;case"pointerover":case"pointerout":rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function Yt(e,t,n,i,h,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:y,targetContainers:[h]},t!==null&&(t=ya(t),t!==null&&wn(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Gn(e,t,n,i,h){switch(t){case"focusin":return Xt=Yt(Xt,e,t,n,i,h),!0;case"dragenter":return zr=Yt(zr,e,t,n,i,h),!0;case"mouseover":return Me=Yt(Me,e,t,n,i,h),!0;case"pointerover":var y=h.pointerId;return rn.set(y,Yt(rn.get(y)||null,e,t,n,i,h)),!0;case"gotpointercapture":return y=h.pointerId,Fr.set(y,Yt(Fr.get(y)||null,e,t,n,i,h)),!0}return!1}function ws(e){var t=Xn(e.target);if(t!==null){var n=Zr(t);if(n!==null){if(t=n.tag,t===13){if(t=ms(n),t!==null){e.blockedOn=t,vs(e.priority,function(){Vn(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function c(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ct(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);pr=i,n.target.dispatchEvent(i),pr=null}else return t=ya(n),t!==null&&wn(t),e.blockedOn=n,!1;t.shift()}return!0}function g(e,t,n){c(e)&&n.delete(t)}function T(){lr=!1,Xt!==null&&c(Xt)&&(Xt=null),zr!==null&&c(zr)&&(zr=null),Me!==null&&c(Me)&&(Me=null),rn.forEach(g),Fr.forEach(g)}function D(e,t){e.blockedOn===t&&(e.blockedOn=null,lr||(lr=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,T)))}function $(e){function t(h){return D(h,e)}if(0<cr.length){D(cr[0],e);for(var n=1;n<cr.length;n++){var i=cr[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Xt!==null&&D(Xt,e),zr!==null&&D(zr,e),Me!==null&&D(Me,e),rn.forEach(t),Fr.forEach(t),n=0;n<Cr.length;n++)i=Cr[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)ws(n),n.blockedOn===null&&Cr.shift()}var ee=L.ReactCurrentBatchConfig,me=!0;function He(e,t,n,i){var h=rt,y=ee.transition;ee.transition=null;try{rt=1,Xe(e,t,n,i)}finally{rt=h,ee.transition=y}}function et(e,t,n,i){var h=rt,y=ee.transition;ee.transition=null;try{rt=4,Xe(e,t,n,i)}finally{rt=h,ee.transition=y}}function Xe(e,t,n,i){if(me){var h=Ct(e,t,n,i);if(h===null)Ko(e,t,i,ct,n),bn(e,i);else if(Gn(h,e,t,n,i))i.stopPropagation();else if(bn(e,i),t&4&&-1<ti.indexOf(e)){for(;h!==null;){var y=ya(h);if(y!==null&&ei(y),y=Ct(e,t,n,i),y===null&&Ko(e,t,i,ct,n),y===h)break;h=y}h!==null&&i.stopPropagation()}else Ko(e,t,i,null,n)}}var ct=null;function Ct(e,t,n,i){if(ct=null,e=$n(i),e=Xn(e),e!==null)if(t=Zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ms(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ct=e,null}function sa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xa()){case Xr:return 1;case ea:return 4;case Yr:case Ya:return 16;case Jr:return 536870912;default:return 16}default:return 16}}var Br=null,bs=null,ks=null;function aa(){if(ks)return ks;var e,t=bs,n=t.length,i,h="value"in Br?Br.value:Br.textContent,y=h.length;for(e=0;e<n&&t[e]===h[e];e++);var P=n-e;for(i=1;i<=P&&t[n-i]===h[y-i];i++);return ks=h.slice(e,1<i?1-i:void 0)}function Ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function ri(){return!1}function Wt(e){function t(n,i,h,y,P){this._reactName=n,this._targetInst=h,this.type=i,this.nativeEvent=y,this.target=P,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(n=e[z],this[z]=n?n(y):y[z]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ns:ri,this.isPropagationStopped=ri,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Wt(kn),Qn=Q({},kn,{view:0,detail:0}),jo=Wt(Qn),js,oa,Zn,_s=Q({},Qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(js=e.screenX-Zn.screenX,oa=e.screenY-Zn.screenY):oa=js=0,Zn=e),js)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),ni=Wt(_s),_o=Q({},_s,{dataTransfer:0}),Co=Wt(_o),Eo=Q({},Qn,{relatedTarget:0}),Cs=Wt(Eo),To=Q({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ao=Wt(To),Po=Q({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Io=Wt(Po),Ro=Q({},kn,{data:0}),si=Wt(Ro),ai={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Oo[e])?!!t[e]:!1}function Sn(){return Lo}var ii=Q({},Qn,{key:function(e){if(e.key){var t=ai[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Do[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oi=Wt(ii),li=Q({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y=Wt(li),we=Q({},Qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn}),ze=Wt(we),We=Q({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=Wt(We),it=Q({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ur=Wt(it),Jt=[9,13,27,32],Rt=p&&"CompositionEvent"in window,Dt=null;p&&"documentMode"in document&&(Dt=document.documentMode);var la=p&&"TextEvent"in window&&!Dt,$r=p&&(!Rt||Dt&&8<Dt&&11>=Dt),ci=" ",Tc=!1;function Ac(e,t){switch(e){case"keyup":return Jt.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function lf(e,t){switch(e){case"compositionend":return Pc(t);case"keypress":return t.which!==32?null:(Tc=!0,ci);case"textInput":return e=t.data,e===ci&&Tc?null:e;default:return null}}function cf(e,t){if(Es)return e==="compositionend"||!Rt&&Ac(e,t)?(e=aa(),ks=bs=Br=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&t.locale!=="ko"?null:t.data;default:return null}}var uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uf[e.type]:t==="textarea"}function Rc(e,t,n,i){Ae(i),t=mi(t,"onChange"),0<t.length&&(n=new ia("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ca=null,ua=null;function df(e){Xc(e,0)}function ui(e){var t=Rs(e);if(ot(t))return e}function hf(e,t){if(e==="change")return t}var Dc=!1;if(p){var Mo;if(p){var Uo="oninput"in document;if(!Uo){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),Uo=typeof Oc.oninput=="function"}Mo=Uo}else Mo=!1;Dc=Mo&&(!document.documentMode||9<document.documentMode)}function Lc(){ca&&(ca.detachEvent("onpropertychange",Mc),ua=ca=null)}function Mc(e){if(e.propertyName==="value"&&ui(ua)){var t=[];Rc(t,ua,e,$n(e)),ds(df,t)}}function ff(e,t,n){e==="focusin"?(Lc(),ca=t,ua=n,ca.attachEvent("onpropertychange",Mc)):e==="focusout"&&Lc()}function mf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(ua)}function gf(e,t){if(e==="click")return ui(t)}function pf(e,t){if(e==="input"||e==="change")return ui(t)}function yf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Er=typeof Object.is=="function"?Object.is:yf;function da(e,t){if(Er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var h=n[i];if(!x.call(t,h)||!Er(e[h],t[h]))return!1}return!0}function Uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zc(e,t){var n=Uc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uc(n)}}function Fc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bc(){for(var e=window,t=je();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=je(e.document)}return t}function zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xf(e){var t=Bc(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fc(n.ownerDocument.documentElement,n)){if(i!==null&&zo(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=n.textContent.length,y=Math.min(i.start,h);i=i.end===void 0?y:Math.min(i.end,h),!e.extend&&y>i&&(h=i,i=y,y=h),h=zc(n,y);var P=zc(n,i);h&&P&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==P.node||e.focusOffset!==P.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),y>i?(e.addRange(t),e.extend(P.node,P.offset)):(t.setEnd(P.node,P.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vf=p&&"documentMode"in document&&11>=document.documentMode,Ts=null,Fo=null,ha=null,Bo=!1;function $c(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bo||Ts==null||Ts!==je(i)||(i=Ts,"selectionStart"in i&&zo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ha&&da(ha,i)||(ha=i,i=mi(Fo,"onSelect"),0<i.length&&(t=new ia("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ts)))}function di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var As={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},$o={},Hc={};p&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function hi(e){if($o[e])return $o[e];if(!As[e])return e;var t=As[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hc)return $o[e]=t[n];return e}var Wc=hi("animationend"),qc=hi("animationiteration"),Kc=hi("animationstart"),Vc=hi("transitionend"),Gc=new Map,Qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,t){Gc.set(e,t),d(t,[e])}for(var Ho=0;Ho<Qc.length;Ho++){var Wo=Qc[Ho],wf=Wo.toLowerCase(),bf=Wo[0].toUpperCase()+Wo.slice(1);Nn(wf,"on"+bf)}Nn(Wc,"onAnimationEnd"),Nn(qc,"onAnimationIteration"),Nn(Kc,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Vc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kf=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function Zc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Ga(i,t,void 0,e),e.currentTarget=null}function Xc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],h=i.event;i=i.listeners;e:{var y=void 0;if(t)for(var P=i.length-1;0<=P;P--){var z=i[P],W=z.instance,oe=z.currentTarget;if(z=z.listener,W!==y&&h.isPropagationStopped())break e;Zc(h,z,oe),y=W}else for(P=0;P<i.length;P++){if(z=i[P],W=z.instance,oe=z.currentTarget,z=z.listener,W!==y&&h.isPropagationStopped())break e;Zc(h,z,oe),y=W}}}if(Wn)throw e=hs,Wn=!1,hs=null,e}function ht(e,t){var n=t[Yo];n===void 0&&(n=t[Yo]=new Set);var i=e+"__bubble";n.has(i)||(Yc(t,e,2,!1),n.add(i))}function qo(e,t,n){var i=0;t&&(i|=4),Yc(n,e,i,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function ma(e){if(!e[fi]){e[fi]=!0,l.forEach(function(n){n!=="selectionchange"&&(kf.has(n)||qo(n,!1,e),qo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,qo("selectionchange",!1,t))}}function Yc(e,t,n,i){switch(sa(t)){case 1:var h=He;break;case 4:h=et;break;default:h=Xe}n=h.bind(null,t,n,e),h=void 0,!jr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),i?h!==void 0?e.addEventListener(t,n,{capture:!0,passive:h}):e.addEventListener(t,n,!0):h!==void 0?e.addEventListener(t,n,{passive:h}):e.addEventListener(t,n,!1)}function Ko(e,t,n,i,h){var y=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var P=i.tag;if(P===3||P===4){var z=i.stateNode.containerInfo;if(z===h||z.nodeType===8&&z.parentNode===h)break;if(P===4)for(P=i.return;P!==null;){var W=P.tag;if((W===3||W===4)&&(W=P.stateNode.containerInfo,W===h||W.nodeType===8&&W.parentNode===h))return;P=P.return}for(;z!==null;){if(P=Xn(z),P===null)return;if(W=P.tag,W===5||W===6){i=y=P;continue e}z=z.parentNode}}i=i.return}ds(function(){var oe=y,ke=$n(n),Se=[];e:{var be=Gc.get(e);if(be!==void 0){var De=ia,Ue=e;switch(e){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":De=oi;break;case"focusin":Ue="focus",De=Cs;break;case"focusout":Ue="blur",De=Cs;break;case"beforeblur":case"afterblur":De=Cs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=ze;break;case Wc:case qc:case Kc:De=Ao;break;case Vc:De=Ze;break;case"scroll":De=jo;break;case"wheel":De=ur;break;case"copy":case"cut":case"paste":De=Io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Y}var Fe=(t&4)!==0,wt=!Fe&&e==="scroll",te=Fe?be!==null?be+"Capture":null:be;Fe=[];for(var V=oe,se;V!==null;){se=V;var Ee=se.stateNode;if(se.tag===5&&Ee!==null&&(se=Ee,te!==null&&(Ee=Qr(V,te),Ee!=null&&Fe.push(ga(V,Ee,se)))),wt)break;V=V.return}0<Fe.length&&(be=new De(be,Ue,null,n,ke),Se.push({event:be,listeners:Fe}))}}if((t&7)===0){e:{if(be=e==="mouseover"||e==="pointerover",De=e==="mouseout"||e==="pointerout",be&&n!==pr&&(Ue=n.relatedTarget||n.fromElement)&&(Xn(Ue)||Ue[nn]))break e;if((De||be)&&(be=ke.window===ke?ke:(be=ke.ownerDocument)?be.defaultView||be.parentWindow:window,De?(Ue=n.relatedTarget||n.toElement,De=oe,Ue=Ue?Xn(Ue):null,Ue!==null&&(wt=Zr(Ue),Ue!==wt||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(De=null,Ue=oe),De!==Ue)){if(Fe=ni,Ee="onMouseLeave",te="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=Y,Ee="onPointerLeave",te="onPointerEnter",V="pointer"),wt=De==null?be:Rs(De),se=Ue==null?be:Rs(Ue),be=new Fe(Ee,V+"leave",De,n,ke),be.target=wt,be.relatedTarget=se,Ee=null,Xn(ke)===oe&&(Fe=new Fe(te,V+"enter",Ue,n,ke),Fe.target=se,Fe.relatedTarget=wt,Ee=Fe),wt=Ee,De&&Ue)t:{for(Fe=De,te=Ue,V=0,se=Fe;se;se=Ps(se))V++;for(se=0,Ee=te;Ee;Ee=Ps(Ee))se++;for(;0<V-se;)Fe=Ps(Fe),V--;for(;0<se-V;)te=Ps(te),se--;for(;V--;){if(Fe===te||te!==null&&Fe===te.alternate)break t;Fe=Ps(Fe),te=Ps(te)}Fe=null}else Fe=null;De!==null&&Jc(Se,be,De,Fe,!1),Ue!==null&&wt!==null&&Jc(Se,wt,Ue,Fe,!0)}}e:{if(be=oe?Rs(oe):window,De=be.nodeName&&be.nodeName.toLowerCase(),De==="select"||De==="input"&&be.type==="file")var $e=hf;else if(Ic(be))if(Dc)$e=pf;else{$e=mf;var qe=ff}else(De=be.nodeName)&&De.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&($e=gf);if($e&&($e=$e(e,oe))){Rc(Se,$e,n,ke);break e}qe&&qe(e,be,oe),e==="focusout"&&(qe=be._wrapperState)&&qe.controlled&&be.type==="number"&&G(be,"number",be.value)}switch(qe=oe?Rs(oe):window,e){case"focusin":(Ic(qe)||qe.contentEditable==="true")&&(Ts=qe,Fo=oe,ha=null);break;case"focusout":ha=Fo=Ts=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,$c(Se,n,ke);break;case"selectionchange":if(vf)break;case"keydown":case"keyup":$c(Se,n,ke)}var Ke;if(Rt)e:{switch(e){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Es?Ac(e,n)&&(Qe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Qe="onCompositionStart");Qe&&($r&&n.locale!=="ko"&&(Es||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Es&&(Ke=aa()):(Br=ke,bs="value"in Br?Br.value:Br.textContent,Es=!0)),qe=mi(oe,Qe),0<qe.length&&(Qe=new si(Qe,e,null,n,ke),Se.push({event:Qe,listeners:qe}),Ke?Qe.data=Ke:(Ke=Pc(n),Ke!==null&&(Qe.data=Ke)))),(Ke=la?lf(e,n):cf(e,n))&&(oe=mi(oe,"onBeforeInput"),0<oe.length&&(ke=new si("onBeforeInput","beforeinput",null,n,ke),Se.push({event:ke,listeners:oe}),ke.data=Ke))}Xc(Se,t)})}function ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mi(e,t){for(var n=t+"Capture",i=[];e!==null;){var h=e,y=h.stateNode;h.tag===5&&y!==null&&(h=y,y=Qr(e,n),y!=null&&i.unshift(ga(e,y,h)),y=Qr(e,t),y!=null&&i.push(ga(e,y,h))),e=e.return}return i}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jc(e,t,n,i,h){for(var y=t._reactName,P=[];n!==null&&n!==i;){var z=n,W=z.alternate,oe=z.stateNode;if(W!==null&&W===i)break;z.tag===5&&oe!==null&&(z=oe,h?(W=Qr(n,y),W!=null&&P.unshift(ga(n,W,z))):h||(W=Qr(n,y),W!=null&&P.push(ga(n,W,z)))),n=n.return}P.length!==0&&e.push({event:t,listeners:P})}var Sf=/\r\n?/g,Nf=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(Sf,`
`).replace(Nf,"")}function gi(e,t,n){if(t=eu(t),eu(e)!==t&&n)throw Error(s(425))}function pi(){}var Vo=null,Go=null;function Qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,jf=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,_f=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(Cf)}:Zo;function Cf(e){setTimeout(function(){throw e})}function Xo(e,t){var n=t,i=0;do{var h=n.nextSibling;if(e.removeChild(n),h&&h.nodeType===8)if(n=h.data,n==="/$"){if(i===0){e.removeChild(h),$(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=h}while(n);$(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ru(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Is,pa="__reactProps$"+Is,nn="__reactContainer$"+Is,Yo="__reactEvents$"+Is,Ef="__reactListeners$"+Is,Tf="__reactHandles$"+Is;function Xn(e){var t=e[Hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Hr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ru(e);e!==null;){if(n=e[Hr])return n;e=ru(e)}return t}e=n,n=e.parentNode}return null}function ya(e){return e=e[Hr]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function yi(e){return e[pa]||null}var Jo=[],Ds=-1;function _n(e){return{current:e}}function ft(e){0>Ds||(e.current=Jo[Ds],Jo[Ds]=null,Ds--)}function dt(e,t){Ds++,Jo[Ds]=e.current,e.current=t}var Cn={},Ut=_n(Cn),er=_n(!1),Yn=Cn;function Os(e,t){var n=e.type.contextTypes;if(!n)return Cn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var h={},y;for(y in n)h[y]=t[y];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function tr(e){return e=e.childContextTypes,e!=null}function xi(){ft(er),ft(Ut)}function nu(e,t,n){if(Ut.current!==Cn)throw Error(s(168));dt(Ut,t),dt(er,n)}function su(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var h in i)if(!(h in t))throw Error(s(108,Re(e)||"Unknown",h));return Q({},n,i)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Yn=Ut.current,dt(Ut,e),dt(er,er.current),!0}function au(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=su(e,t,Yn),i.__reactInternalMemoizedMergedChildContext=e,ft(er),ft(Ut),dt(Ut,e)):ft(er),dt(er,n)}var sn=null,wi=!1,el=!1;function iu(e){sn===null?sn=[e]:sn.push(e)}function Af(e){wi=!0,iu(e)}function En(){if(!el&&sn!==null){el=!0;var e=0,t=rt;try{var n=sn;for(rt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}sn=null,wi=!1}catch(h){throw sn!==null&&(sn=sn.slice(e+1)),Za(Xr,En),h}finally{rt=t,el=!1}}return null}var Ls=[],Ms=0,bi=null,ki=0,vr=[],wr=0,Jn=null,an=1,on="";function es(e,t){Ls[Ms++]=ki,Ls[Ms++]=bi,bi=e,ki=t}function ou(e,t,n){vr[wr++]=an,vr[wr++]=on,vr[wr++]=Jn,Jn=e;var i=an;e=on;var h=32-Zt(i)-1;i&=~(1<<h),n+=1;var y=32-Zt(t)+h;if(30<y){var P=h-h%5;y=(i&(1<<P)-1).toString(32),i>>=P,h-=P,an=1<<32-Zt(t)+h|n<<h|i,on=y+e}else an=1<<y|n<<h|i,on=e}function tl(e){e.return!==null&&(es(e,1),ou(e,1,0))}function rl(e){for(;e===bi;)bi=Ls[--Ms],Ls[Ms]=null,ki=Ls[--Ms],Ls[Ms]=null;for(;e===Jn;)Jn=vr[--wr],vr[wr]=null,on=vr[--wr],vr[wr]=null,an=vr[--wr],vr[wr]=null}var dr=null,hr=null,gt=!1,Tr=null;function lu(e,t){var n=Nr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function cu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dr=e,hr=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dr=e,hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jn!==null?{id:an,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dr=e,hr=null,!0):!1;default:return!1}}function nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sl(e){if(gt){var t=hr;if(t){var n=t;if(!cu(e,t)){if(nl(e))throw Error(s(418));t=jn(n.nextSibling);var i=dr;t&&cu(e,t)?lu(i,n):(e.flags=e.flags&-4097|2,gt=!1,dr=e)}}else{if(nl(e))throw Error(s(418));e.flags=e.flags&-4097|2,gt=!1,dr=e}}}function uu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dr=e}function Si(e){if(e!==dr)return!1;if(!gt)return uu(e),gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qo(e.type,e.memoizedProps)),t&&(t=hr)){if(nl(e))throw du(),Error(s(418));for(;t;)lu(e,t),t=jn(t.nextSibling)}if(uu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hr=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hr=null}}else hr=dr?jn(e.stateNode.nextSibling):null;return!0}function du(){for(var e=hr;e;)e=jn(e.nextSibling)}function Us(){hr=dr=null,gt=!1}function al(e){Tr===null?Tr=[e]:Tr.push(e)}var Pf=L.ReactCurrentBatchConfig;function xa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var h=i,y=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===y?t.ref:(t=function(P){var z=h.refs;P===null?delete z[y]:z[y]=P},t._stringRef=y,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ni(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hu(e){var t=e._init;return t(e._payload)}function fu(e){function t(te,V){if(e){var se=te.deletions;se===null?(te.deletions=[V],te.flags|=16):se.push(V)}}function n(te,V){if(!e)return null;for(;V!==null;)t(te,V),V=V.sibling;return null}function i(te,V){for(te=new Map;V!==null;)V.key!==null?te.set(V.key,V):te.set(V.index,V),V=V.sibling;return te}function h(te,V){return te=Ln(te,V),te.index=0,te.sibling=null,te}function y(te,V,se){return te.index=se,e?(se=te.alternate,se!==null?(se=se.index,se<V?(te.flags|=2,V):se):(te.flags|=2,V)):(te.flags|=1048576,V)}function P(te){return e&&te.alternate===null&&(te.flags|=2),te}function z(te,V,se,Ee){return V===null||V.tag!==6?(V=Zl(se,te.mode,Ee),V.return=te,V):(V=h(V,se),V.return=te,V)}function W(te,V,se,Ee){var $e=se.type;return $e===q?ke(te,V,se.props.children,Ee,se.key):V!==null&&(V.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Te&&hu($e)===V.type)?(Ee=h(V,se.props),Ee.ref=xa(te,V,se),Ee.return=te,Ee):(Ee=Gi(se.type,se.key,se.props,null,te.mode,Ee),Ee.ref=xa(te,V,se),Ee.return=te,Ee)}function oe(te,V,se,Ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==se.containerInfo||V.stateNode.implementation!==se.implementation?(V=Xl(se,te.mode,Ee),V.return=te,V):(V=h(V,se.children||[]),V.return=te,V)}function ke(te,V,se,Ee,$e){return V===null||V.tag!==7?(V=ls(se,te.mode,Ee,$e),V.return=te,V):(V=h(V,se),V.return=te,V)}function Se(te,V,se){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Zl(""+V,te.mode,se),V.return=te,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case F:return se=Gi(V.type,V.key,V.props,null,te.mode,se),se.ref=xa(te,null,V),se.return=te,se;case H:return V=Xl(V,te.mode,se),V.return=te,V;case Te:var Ee=V._init;return Se(te,Ee(V._payload),se)}if(ye(V)||Z(V))return V=ls(V,te.mode,se,null),V.return=te,V;Ni(te,V)}return null}function be(te,V,se,Ee){var $e=V!==null?V.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return $e!==null?null:z(te,V,""+se,Ee);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case F:return se.key===$e?W(te,V,se,Ee):null;case H:return se.key===$e?oe(te,V,se,Ee):null;case Te:return $e=se._init,be(te,V,$e(se._payload),Ee)}if(ye(se)||Z(se))return $e!==null?null:ke(te,V,se,Ee,null);Ni(te,se)}return null}function De(te,V,se,Ee,$e){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return te=te.get(se)||null,z(V,te,""+Ee,$e);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case F:return te=te.get(Ee.key===null?se:Ee.key)||null,W(V,te,Ee,$e);case H:return te=te.get(Ee.key===null?se:Ee.key)||null,oe(V,te,Ee,$e);case Te:var qe=Ee._init;return De(te,V,se,qe(Ee._payload),$e)}if(ye(Ee)||Z(Ee))return te=te.get(se)||null,ke(V,te,Ee,$e,null);Ni(V,Ee)}return null}function Ue(te,V,se,Ee){for(var $e=null,qe=null,Ke=V,Qe=V=0,At=null;Ke!==null&&Qe<se.length;Qe++){Ke.index>Qe?(At=Ke,Ke=null):At=Ke.sibling;var at=be(te,Ke,se[Qe],Ee);if(at===null){Ke===null&&(Ke=At);break}e&&Ke&&at.alternate===null&&t(te,Ke),V=y(at,V,Qe),qe===null?$e=at:qe.sibling=at,qe=at,Ke=At}if(Qe===se.length)return n(te,Ke),gt&&es(te,Qe),$e;if(Ke===null){for(;Qe<se.length;Qe++)Ke=Se(te,se[Qe],Ee),Ke!==null&&(V=y(Ke,V,Qe),qe===null?$e=Ke:qe.sibling=Ke,qe=Ke);return gt&&es(te,Qe),$e}for(Ke=i(te,Ke);Qe<se.length;Qe++)At=De(Ke,te,Qe,se[Qe],Ee),At!==null&&(e&&At.alternate!==null&&Ke.delete(At.key===null?Qe:At.key),V=y(At,V,Qe),qe===null?$e=At:qe.sibling=At,qe=At);return e&&Ke.forEach(function(Mn){return t(te,Mn)}),gt&&es(te,Qe),$e}function Fe(te,V,se,Ee){var $e=Z(se);if(typeof $e!="function")throw Error(s(150));if(se=$e.call(se),se==null)throw Error(s(151));for(var qe=$e=null,Ke=V,Qe=V=0,At=null,at=se.next();Ke!==null&&!at.done;Qe++,at=se.next()){Ke.index>Qe?(At=Ke,Ke=null):At=Ke.sibling;var Mn=be(te,Ke,at.value,Ee);if(Mn===null){Ke===null&&(Ke=At);break}e&&Ke&&Mn.alternate===null&&t(te,Ke),V=y(Mn,V,Qe),qe===null?$e=Mn:qe.sibling=Mn,qe=Mn,Ke=At}if(at.done)return n(te,Ke),gt&&es(te,Qe),$e;if(Ke===null){for(;!at.done;Qe++,at=se.next())at=Se(te,at.value,Ee),at!==null&&(V=y(at,V,Qe),qe===null?$e=at:qe.sibling=at,qe=at);return gt&&es(te,Qe),$e}for(Ke=i(te,Ke);!at.done;Qe++,at=se.next())at=De(Ke,te,Qe,at.value,Ee),at!==null&&(e&&at.alternate!==null&&Ke.delete(at.key===null?Qe:at.key),V=y(at,V,Qe),qe===null?$e=at:qe.sibling=at,qe=at);return e&&Ke.forEach(function(um){return t(te,um)}),gt&&es(te,Qe),$e}function wt(te,V,se,Ee){if(typeof se=="object"&&se!==null&&se.type===q&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case F:e:{for(var $e=se.key,qe=V;qe!==null;){if(qe.key===$e){if($e=se.type,$e===q){if(qe.tag===7){n(te,qe.sibling),V=h(qe,se.props.children),V.return=te,te=V;break e}}else if(qe.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Te&&hu($e)===qe.type){n(te,qe.sibling),V=h(qe,se.props),V.ref=xa(te,qe,se),V.return=te,te=V;break e}n(te,qe);break}else t(te,qe);qe=qe.sibling}se.type===q?(V=ls(se.props.children,te.mode,Ee,se.key),V.return=te,te=V):(Ee=Gi(se.type,se.key,se.props,null,te.mode,Ee),Ee.ref=xa(te,V,se),Ee.return=te,te=Ee)}return P(te);case H:e:{for(qe=se.key;V!==null;){if(V.key===qe)if(V.tag===4&&V.stateNode.containerInfo===se.containerInfo&&V.stateNode.implementation===se.implementation){n(te,V.sibling),V=h(V,se.children||[]),V.return=te,te=V;break e}else{n(te,V);break}else t(te,V);V=V.sibling}V=Xl(se,te.mode,Ee),V.return=te,te=V}return P(te);case Te:return qe=se._init,wt(te,V,qe(se._payload),Ee)}if(ye(se))return Ue(te,V,se,Ee);if(Z(se))return Fe(te,V,se,Ee);Ni(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,V!==null&&V.tag===6?(n(te,V.sibling),V=h(V,se),V.return=te,te=V):(n(te,V),V=Zl(se,te.mode,Ee),V.return=te,te=V),P(te)):n(te,V)}return wt}var zs=fu(!0),mu=fu(!1),ji=_n(null),_i=null,Fs=null,il=null;function ol(){il=Fs=_i=null}function ll(e){var t=ji.current;ft(ji),e._currentValue=t}function cl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Bs(e,t){_i=e,il=Fs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(rr=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(il!==e)if(e={context:e,memoizedValue:t,next:null},Fs===null){if(_i===null)throw Error(s(308));Fs=e,_i.dependencies={lanes:0,firstContext:e}}else Fs=Fs.next=e;return t}var ts=null;function ul(e){ts===null?ts=[e]:ts.push(e)}function gu(e,t,n,i){var h=t.interleaved;return h===null?(n.next=n,ul(t)):(n.next=h.next,h.next=n),t.interleaved=n,ln(e,i)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(nt&2)!==0){var h=i.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),i.pending=t,ln(e,n)}return h=i.interleaved,h===null?(t.next=t,ul(i)):(t.next=h.next,h.next=t),i.interleaved=t,ln(e,n)}function Ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ys(e,n)}}function yu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var h=null,y=null;if(n=n.firstBaseUpdate,n!==null){do{var P={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};y===null?h=y=P:y=y.next=P,n=n.next}while(n!==null);y===null?h=y=t:y=y.next=t}else h=y=t;n={baseState:i.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ei(e,t,n,i){var h=e.updateQueue;Tn=!1;var y=h.firstBaseUpdate,P=h.lastBaseUpdate,z=h.shared.pending;if(z!==null){h.shared.pending=null;var W=z,oe=W.next;W.next=null,P===null?y=oe:P.next=oe,P=W;var ke=e.alternate;ke!==null&&(ke=ke.updateQueue,z=ke.lastBaseUpdate,z!==P&&(z===null?ke.firstBaseUpdate=oe:z.next=oe,ke.lastBaseUpdate=W))}if(y!==null){var Se=h.baseState;P=0,ke=oe=W=null,z=y;do{var be=z.lane,De=z.eventTime;if((i&be)===be){ke!==null&&(ke=ke.next={eventTime:De,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ue=e,Fe=z;switch(be=t,De=n,Fe.tag){case 1:if(Ue=Fe.payload,typeof Ue=="function"){Se=Ue.call(De,Se,be);break e}Se=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Fe.payload,be=typeof Ue=="function"?Ue.call(De,Se,be):Ue,be==null)break e;Se=Q({},Se,be);break e;case 2:Tn=!0}}z.callback!==null&&z.lane!==0&&(e.flags|=64,be=h.effects,be===null?h.effects=[z]:be.push(z))}else De={eventTime:De,lane:be,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ke===null?(oe=ke=De,W=Se):ke=ke.next=De,P|=be;if(z=z.next,z===null){if(z=h.shared.pending,z===null)break;be=z,z=be.next,be.next=null,h.lastBaseUpdate=be,h.shared.pending=null}}while(!0);if(ke===null&&(W=Se),h.baseState=W,h.firstBaseUpdate=oe,h.lastBaseUpdate=ke,t=h.shared.interleaved,t!==null){h=t;do P|=h.lane,h=h.next;while(h!==t)}else y===null&&(h.shared.lanes=0);ss|=P,e.lanes=P,e.memoizedState=Se}}function xu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],h=i.callback;if(h!==null){if(i.callback=null,i=n,typeof h!="function")throw Error(s(191,h));h.call(i)}}}var va={},Wr=_n(va),wa=_n(va),ba=_n(va);function rs(e){if(e===va)throw Error(s(174));return e}function hl(e,t){switch(dt(ba,t),dt(wa,e),dt(Wr,va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Je(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Je(t,e)}ft(Wr),dt(Wr,t)}function $s(){ft(Wr),ft(wa),ft(ba)}function vu(e){rs(ba.current);var t=rs(Wr.current),n=Je(t,e.type);t!==n&&(dt(wa,e),dt(Wr,n))}function fl(e){wa.current===e&&(ft(Wr),ft(wa))}var pt=_n(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=[];function gl(){for(var e=0;e<ml.length;e++)ml[e]._workInProgressVersionPrimary=null;ml.length=0}var Ai=L.ReactCurrentDispatcher,pl=L.ReactCurrentBatchConfig,ns=0,yt=null,kt=null,Et=null,Pi=!1,ka=!1,Sa=0,If=0;function zt(){throw Error(s(321))}function yl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Er(e[n],t[n]))return!1;return!0}function xl(e,t,n,i,h,y){if(ns=y,yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ai.current=e===null||e.memoizedState===null?Lf:Mf,e=n(i,h),ka){y=0;do{if(ka=!1,Sa=0,25<=y)throw Error(s(301));y+=1,Et=kt=null,t.updateQueue=null,Ai.current=Uf,e=n(i,h)}while(ka)}if(Ai.current=Di,t=kt!==null&&kt.next!==null,ns=0,Et=kt=yt=null,Pi=!1,t)throw Error(s(300));return e}function vl(){var e=Sa!==0;return Sa=0,e}function qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?yt.memoizedState=Et=e:Et=Et.next=e,Et}function kr(){if(kt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=Et===null?yt.memoizedState:Et.next;if(t!==null)Et=t,kt=e;else{if(e===null)throw Error(s(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Et===null?yt.memoizedState=Et=e:Et=Et.next=e}return Et}function Na(e,t){return typeof t=="function"?t(e):t}function wl(e){var t=kr(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=kt,h=i.baseQueue,y=n.pending;if(y!==null){if(h!==null){var P=h.next;h.next=y.next,y.next=P}i.baseQueue=h=y,n.pending=null}if(h!==null){y=h.next,i=i.baseState;var z=P=null,W=null,oe=y;do{var ke=oe.lane;if((ns&ke)===ke)W!==null&&(W=W.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),i=oe.hasEagerState?oe.eagerState:e(i,oe.action);else{var Se={lane:ke,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};W===null?(z=W=Se,P=i):W=W.next=Se,yt.lanes|=ke,ss|=ke}oe=oe.next}while(oe!==null&&oe!==y);W===null?P=i:W.next=z,Er(i,t.memoizedState)||(rr=!0),t.memoizedState=i,t.baseState=P,t.baseQueue=W,n.lastRenderedState=i}if(e=n.interleaved,e!==null){h=e;do y=h.lane,yt.lanes|=y,ss|=y,h=h.next;while(h!==e)}else h===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bl(e){var t=kr(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,h=n.pending,y=t.memoizedState;if(h!==null){n.pending=null;var P=h=h.next;do y=e(y,P.action),P=P.next;while(P!==h);Er(y,t.memoizedState)||(rr=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),n.lastRenderedState=y}return[y,i]}function wu(){}function bu(e,t){var n=yt,i=kr(),h=t(),y=!Er(i.memoizedState,h);if(y&&(i.memoizedState=h,rr=!0),i=i.queue,kl(Nu.bind(null,n,i,e),[e]),i.getSnapshot!==t||y||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,ja(9,Su.bind(null,n,i,h,t),void 0,null),Tt===null)throw Error(s(349));(ns&30)!==0||ku(n,t,h)}return h}function ku(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Su(e,t,n,i){t.value=n,t.getSnapshot=i,ju(t)&&_u(e)}function Nu(e,t,n){return n(function(){ju(t)&&_u(e)})}function ju(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Er(e,n)}catch{return!0}}function _u(e){var t=ln(e,1);t!==null&&Rr(t,e,1,-1)}function Cu(e){var t=qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=Of.bind(null,yt,e),[t.memoizedState,e]}function ja(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Eu(){return kr().memoizedState}function Ii(e,t,n,i){var h=qr();yt.flags|=e,h.memoizedState=ja(1|t,n,void 0,i===void 0?null:i)}function Ri(e,t,n,i){var h=kr();i=i===void 0?null:i;var y=void 0;if(kt!==null){var P=kt.memoizedState;if(y=P.destroy,i!==null&&yl(i,P.deps)){h.memoizedState=ja(t,n,y,i);return}}yt.flags|=e,h.memoizedState=ja(1|t,n,y,i)}function Tu(e,t){return Ii(8390656,8,e,t)}function kl(e,t){return Ri(2048,8,e,t)}function Au(e,t){return Ri(4,2,e,t)}function Pu(e,t){return Ri(4,4,e,t)}function Iu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ru(e,t,n){return n=n!=null?n.concat([e]):null,Ri(4,4,Iu.bind(null,t,e),n)}function Sl(){}function Du(e,t){var n=kr();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&yl(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ou(e,t){var n=kr();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&yl(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Lu(e,t,n){return(ns&21)===0?(e.baseState&&(e.baseState=!1,rr=!0),e.memoizedState=n):(Er(n,t)||(n=vn(),yt.lanes|=n,ss|=n,e.baseState=!0),t)}function Rf(e,t){var n=rt;rt=n!==0&&4>n?n:4,e(!0);var i=pl.transition;pl.transition={};try{e(!1),t()}finally{rt=n,pl.transition=i}}function Mu(){return kr().memoizedState}function Df(e,t,n){var i=Dn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Uu(e))zu(t,n);else if(n=gu(e,t,n,i),n!==null){var h=Kt();Rr(n,e,i,h),Fu(n,t,i)}}function Of(e,t,n){var i=Dn(e),h={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))zu(t,h);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var P=t.lastRenderedState,z=y(P,n);if(h.hasEagerState=!0,h.eagerState=z,Er(z,P)){var W=t.interleaved;W===null?(h.next=h,ul(t)):(h.next=W.next,W.next=h),t.interleaved=h;return}}catch{}finally{}n=gu(e,t,h,i),n!==null&&(h=Kt(),Rr(n,e,i,h),Fu(n,t,i))}}function Uu(e){var t=e.alternate;return e===yt||t!==null&&t===yt}function zu(e,t){ka=Pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fu(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ys(e,n)}}var Di={readContext:br,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},Lf={readContext:br,useCallback:function(e,t){return qr().memoizedState=[e,t===void 0?null:t],e},useContext:br,useEffect:Tu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ii(4194308,4,Iu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var n=qr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=qr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Df.bind(null,yt,e),[i.memoizedState,e]},useRef:function(e){var t=qr();return e={current:e},t.memoizedState=e},useState:Cu,useDebugValue:Sl,useDeferredValue:function(e){return qr().memoizedState=e},useTransition:function(){var e=Cu(!1),t=e[0];return e=Rf.bind(null,e[1]),qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=yt,h=qr();if(gt){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Tt===null)throw Error(s(349));(ns&30)!==0||ku(i,t,n)}h.memoizedState=n;var y={value:n,getSnapshot:t};return h.queue=y,Tu(Nu.bind(null,i,y,e),[e]),i.flags|=2048,ja(9,Su.bind(null,i,y,n,t),void 0,null),n},useId:function(){var e=qr(),t=Tt.identifierPrefix;if(gt){var n=on,i=an;n=(i&~(1<<32-Zt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=If++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mf={readContext:br,useCallback:Du,useContext:br,useEffect:kl,useImperativeHandle:Ru,useInsertionEffect:Au,useLayoutEffect:Pu,useMemo:Ou,useReducer:wl,useRef:Eu,useState:function(){return wl(Na)},useDebugValue:Sl,useDeferredValue:function(e){var t=kr();return Lu(t,kt.memoizedState,e)},useTransition:function(){var e=wl(Na)[0],t=kr().memoizedState;return[e,t]},useMutableSource:wu,useSyncExternalStore:bu,useId:Mu,unstable_isNewReconciler:!1},Uf={readContext:br,useCallback:Du,useContext:br,useEffect:kl,useImperativeHandle:Ru,useInsertionEffect:Au,useLayoutEffect:Pu,useMemo:Ou,useReducer:bl,useRef:Eu,useState:function(){return bl(Na)},useDebugValue:Sl,useDeferredValue:function(e){var t=kr();return kt===null?t.memoizedState=e:Lu(t,kt.memoizedState,e)},useTransition:function(){var e=bl(Na)[0],t=kr().memoizedState;return[e,t]},useMutableSource:wu,useSyncExternalStore:bu,useId:Mu,unstable_isNewReconciler:!1};function Ar(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oi={isMounted:function(e){return(e=e._reactInternals)?Zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Kt(),h=Dn(e),y=cn(i,h);y.payload=t,n!=null&&(y.callback=n),t=An(e,y,h),t!==null&&(Rr(t,e,h,i),Ci(t,e,h))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Kt(),h=Dn(e),y=cn(i,h);y.tag=1,y.payload=t,n!=null&&(y.callback=n),t=An(e,y,h),t!==null&&(Rr(t,e,h,i),Ci(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),i=Dn(e),h=cn(n,i);h.tag=2,t!=null&&(h.callback=t),t=An(e,h,i),t!==null&&(Rr(t,e,i,n),Ci(t,e,i))}};function Bu(e,t,n,i,h,y,P){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,y,P):t.prototype&&t.prototype.isPureReactComponent?!da(n,i)||!da(h,y):!0}function $u(e,t,n){var i=!1,h=Cn,y=t.contextType;return typeof y=="object"&&y!==null?y=br(y):(h=tr(t)?Yn:Ut.current,i=t.contextTypes,y=(i=i!=null)?Os(e,h):Cn),t=new t(n,y),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=y),t}function Hu(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function jl(e,t,n,i){var h=e.stateNode;h.props=n,h.state=e.memoizedState,h.refs={},dl(e);var y=t.contextType;typeof y=="object"&&y!==null?h.context=br(y):(y=tr(t)?Yn:Ut.current,h.context=Os(e,y)),h.state=e.memoizedState,y=t.getDerivedStateFromProps,typeof y=="function"&&(Nl(e,t,y,n),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&Oi.enqueueReplaceState(h,h.state,null),Ei(e,n,h,i),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Hs(e,t){try{var n="",i=t;do n+=ae(i),i=i.return;while(i);var h=n}catch(y){h=`
Error generating stack: `+y.message+`
`+y.stack}return{value:e,source:t,stack:h,digest:null}}function _l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zf=typeof WeakMap=="function"?WeakMap:Map;function Wu(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){$i||($i=!0,$l=i),Cl(e,t)},n}function qu(e,t,n){n=cn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var h=t.value;n.payload=function(){return i(h)},n.callback=function(){Cl(e,t)}}var y=e.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){Cl(e,t),typeof i!="function"&&(In===null?In=new Set([this]):In.add(this));var P=t.stack;this.componentDidCatch(t.value,{componentStack:P!==null?P:""})}),n}function Ku(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new zf;var h=new Set;i.set(t,h)}else h=i.get(t),h===void 0&&(h=new Set,i.set(t,h));h.has(n)||(h.add(n),e=Jf.bind(null,e,t,n),t.then(e,e))}function Vu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gu(e,t,n,i,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Ff=L.ReactCurrentOwner,rr=!1;function qt(e,t,n,i){t.child=e===null?mu(t,null,n,i):zs(t,e.child,n,i)}function Qu(e,t,n,i,h){n=n.render;var y=t.ref;return Bs(t,h),i=xl(e,t,n,i,y,h),n=vl(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,un(e,t,h)):(gt&&n&&tl(t),t.flags|=1,qt(e,t,i,h),t.child)}function Zu(e,t,n,i,h){if(e===null){var y=n.type;return typeof y=="function"&&!Ql(y)&&y.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=y,Xu(e,t,y,i,h)):(e=Gi(n.type,null,i,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,(e.lanes&h)===0){var P=y.memoizedProps;if(n=n.compare,n=n!==null?n:da,n(P,i)&&e.ref===t.ref)return un(e,t,h)}return t.flags|=1,e=Ln(y,i),e.ref=t.ref,e.return=t,t.child=e}function Xu(e,t,n,i,h){if(e!==null){var y=e.memoizedProps;if(da(y,i)&&e.ref===t.ref)if(rr=!1,t.pendingProps=i=y,(e.lanes&h)!==0)(e.flags&131072)!==0&&(rr=!0);else return t.lanes=e.lanes,un(e,t,h)}return El(e,t,n,i,h)}function Yu(e,t,n){var i=t.pendingProps,h=i.children,y=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(qs,fr),fr|=n;else{if((n&1073741824)===0)return e=y!==null?y.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt(qs,fr),fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=y!==null?y.baseLanes:n,dt(qs,fr),fr|=i}else y!==null?(i=y.baseLanes|n,t.memoizedState=null):i=n,dt(qs,fr),fr|=i;return qt(e,t,h,n),t.child}function Ju(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,i,h){var y=tr(n)?Yn:Ut.current;return y=Os(t,y),Bs(t,h),n=xl(e,t,n,i,y,h),i=vl(),e!==null&&!rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,un(e,t,h)):(gt&&i&&tl(t),t.flags|=1,qt(e,t,n,h),t.child)}function ed(e,t,n,i,h){if(tr(n)){var y=!0;vi(t)}else y=!1;if(Bs(t,h),t.stateNode===null)Mi(e,t),$u(t,n,i),jl(t,n,i,h),i=!0;else if(e===null){var P=t.stateNode,z=t.memoizedProps;P.props=z;var W=P.context,oe=n.contextType;typeof oe=="object"&&oe!==null?oe=br(oe):(oe=tr(n)?Yn:Ut.current,oe=Os(t,oe));var ke=n.getDerivedStateFromProps,Se=typeof ke=="function"||typeof P.getSnapshotBeforeUpdate=="function";Se||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==i||W!==oe)&&Hu(t,P,i,oe),Tn=!1;var be=t.memoizedState;P.state=be,Ei(t,i,P,h),W=t.memoizedState,z!==i||be!==W||er.current||Tn?(typeof ke=="function"&&(Nl(t,n,ke,i),W=t.memoizedState),(z=Tn||Bu(t,n,z,i,be,W,oe))?(Se||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(t.flags|=4194308)):(typeof P.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=W),P.props=i,P.state=W,P.context=oe,i=z):(typeof P.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{P=t.stateNode,pu(e,t),z=t.memoizedProps,oe=t.type===t.elementType?z:Ar(t.type,z),P.props=oe,Se=t.pendingProps,be=P.context,W=n.contextType,typeof W=="object"&&W!==null?W=br(W):(W=tr(n)?Yn:Ut.current,W=Os(t,W));var De=n.getDerivedStateFromProps;(ke=typeof De=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==Se||be!==W)&&Hu(t,P,i,W),Tn=!1,be=t.memoizedState,P.state=be,Ei(t,i,P,h);var Ue=t.memoizedState;z!==Se||be!==Ue||er.current||Tn?(typeof De=="function"&&(Nl(t,n,De,i),Ue=t.memoizedState),(oe=Tn||Bu(t,n,oe,i,be,Ue,W)||!1)?(ke||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(i,Ue,W),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(i,Ue,W)),typeof P.componentDidUpdate=="function"&&(t.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof P.componentDidUpdate!="function"||z===e.memoizedProps&&be===e.memoizedState||(t.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&be===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Ue),P.props=i,P.state=Ue,P.context=W,i=oe):(typeof P.componentDidUpdate!="function"||z===e.memoizedProps&&be===e.memoizedState||(t.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&be===e.memoizedState||(t.flags|=1024),i=!1)}return Tl(e,t,n,i,y,h)}function Tl(e,t,n,i,h,y){Ju(e,t);var P=(t.flags&128)!==0;if(!i&&!P)return h&&au(t,n,!1),un(e,t,y);i=t.stateNode,Ff.current=t;var z=P&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&P?(t.child=zs(t,e.child,null,y),t.child=zs(t,null,z,y)):qt(e,t,z,y),t.memoizedState=i.state,h&&au(t,n,!0),t.child}function td(e){var t=e.stateNode;t.pendingContext?nu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nu(e,t.context,!1),hl(e,t.containerInfo)}function rd(e,t,n,i,h){return Us(),al(h),t.flags|=256,qt(e,t,n,i),t.child}var Al={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,t,n){var i=t.pendingProps,h=pt.current,y=!1,P=(t.flags&128)!==0,z;if((z=P)||(z=e!==null&&e.memoizedState===null?!1:(h&2)!==0),z?(y=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),dt(pt,h&1),e===null)return sl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(P=i.children,e=i.fallback,y?(i=t.mode,y=t.child,P={mode:"hidden",children:P},(i&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=P):y=Qi(P,i,0,null),e=ls(e,i,n,null),y.return=t,e.return=t,y.sibling=e,t.child=y,t.child.memoizedState=Pl(n),t.memoizedState=Al,e):Il(t,P));if(h=e.memoizedState,h!==null&&(z=h.dehydrated,z!==null))return Bf(e,t,P,i,z,h,n);if(y){y=i.fallback,P=t.mode,h=e.child,z=h.sibling;var W={mode:"hidden",children:i.children};return(P&1)===0&&t.child!==h?(i=t.child,i.childLanes=0,i.pendingProps=W,t.deletions=null):(i=Ln(h,W),i.subtreeFlags=h.subtreeFlags&14680064),z!==null?y=Ln(z,y):(y=ls(y,P,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,i=y,y=t.child,P=e.child.memoizedState,P=P===null?Pl(n):{baseLanes:P.baseLanes|n,cachePool:null,transitions:P.transitions},y.memoizedState=P,y.childLanes=e.childLanes&~n,t.memoizedState=Al,i}return y=e.child,e=y.sibling,i=Ln(y,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Il(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Li(e,t,n,i){return i!==null&&al(i),zs(t,e.child,null,n),e=Il(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bf(e,t,n,i,h,y,P){if(n)return t.flags&256?(t.flags&=-257,i=_l(Error(s(422))),Li(e,t,P,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(y=i.fallback,h=t.mode,i=Qi({mode:"visible",children:i.children},h,0,null),y=ls(y,h,P,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,(t.mode&1)!==0&&zs(t,e.child,null,P),t.child.memoizedState=Pl(P),t.memoizedState=Al,y);if((t.mode&1)===0)return Li(e,t,P,null);if(h.data==="$!"){if(i=h.nextSibling&&h.nextSibling.dataset,i)var z=i.dgst;return i=z,y=Error(s(419)),i=_l(y,i,void 0),Li(e,t,P,i)}if(z=(P&e.childLanes)!==0,rr||z){if(i=Tt,i!==null){switch(P&-P){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(i.suspendedLanes|P))!==0?0:h,h!==0&&h!==y.retryLane&&(y.retryLane=h,ln(e,h),Rr(i,e,h,-1))}return Gl(),i=_l(Error(s(421))),Li(e,t,P,i)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=em.bind(null,e),h._reactRetry=t,null):(e=y.treeContext,hr=jn(h.nextSibling),dr=t,gt=!0,Tr=null,e!==null&&(vr[wr++]=an,vr[wr++]=on,vr[wr++]=Jn,an=e.id,on=e.overflow,Jn=t),t=Il(t,i.children),t.flags|=4096,t)}function sd(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),cl(e.return,t,n)}function Rl(e,t,n,i,h){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:h}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=i,y.tail=n,y.tailMode=h)}function ad(e,t,n){var i=t.pendingProps,h=i.revealOrder,y=i.tail;if(qt(e,t,i.children,n),i=pt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sd(e,n,t);else if(e.tag===19)sd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(dt(pt,i),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(n=t.child,h=null;n!==null;)e=n.alternate,e!==null&&Ti(e)===null&&(h=n),n=n.sibling;n=h,n===null?(h=t.child,t.child=null):(h=n.sibling,n.sibling=null),Rl(t,!1,h,n,y);break;case"backwards":for(n=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Ti(e)===null){t.child=h;break}e=h.sibling,h.sibling=n,n=h,h=e}Rl(t,!0,n,null,y);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ss|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $f(e,t,n){switch(t.tag){case 3:td(t),Us();break;case 5:vu(t);break;case 1:tr(t.type)&&vi(t);break;case 4:hl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,h=t.memoizedProps.value;dt(ji,i._currentValue),i._currentValue=h;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(dt(pt,pt.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?nd(e,t,n):(dt(pt,pt.current&1),e=un(e,t,n),e!==null?e.sibling:null);dt(pt,pt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return ad(e,t,n);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),dt(pt,pt.current),i)break;return null;case 22:case 23:return t.lanes=0,Yu(e,t,n)}return un(e,t,n)}var id,Dl,od,ld;id=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dl=function(){},od=function(e,t,n,i){var h=e.memoizedProps;if(h!==i){e=t.stateNode,rs(Wr.current);var y=null;switch(n){case"input":h=k(e,h),i=k(e,i),y=[];break;case"select":h=Q({},h,{value:void 0}),i=Q({},i,{value:void 0}),y=[];break;case"textarea":h=re(e,h),i=re(e,i),y=[];break;default:typeof h.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=pi)}Pt(n,i);var P;n=null;for(oe in h)if(!i.hasOwnProperty(oe)&&h.hasOwnProperty(oe)&&h[oe]!=null)if(oe==="style"){var z=h[oe];for(P in z)z.hasOwnProperty(P)&&(n||(n={}),n[P]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(u.hasOwnProperty(oe)?y||(y=[]):(y=y||[]).push(oe,null));for(oe in i){var W=i[oe];if(z=h?.[oe],i.hasOwnProperty(oe)&&W!==z&&(W!=null||z!=null))if(oe==="style")if(z){for(P in z)!z.hasOwnProperty(P)||W&&W.hasOwnProperty(P)||(n||(n={}),n[P]="");for(P in W)W.hasOwnProperty(P)&&z[P]!==W[P]&&(n||(n={}),n[P]=W[P])}else n||(y||(y=[]),y.push(oe,n)),n=W;else oe==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,z=z?z.__html:void 0,W!=null&&z!==W&&(y=y||[]).push(oe,W)):oe==="children"?typeof W!="string"&&typeof W!="number"||(y=y||[]).push(oe,""+W):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(u.hasOwnProperty(oe)?(W!=null&&oe==="onScroll"&&ht("scroll",e),y||z===W||(y=[])):(y=y||[]).push(oe,W))}n&&(y=y||[]).push("style",n);var oe=y;(t.updateQueue=oe)&&(t.flags|=4)}},ld=function(e,t,n,i){n!==i&&(t.flags|=4)};function _a(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var h=e.child;h!==null;)n|=h.lanes|h.childLanes,i|=h.subtreeFlags&14680064,i|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)n|=h.lanes|h.childLanes,i|=h.subtreeFlags,i|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Hf(e,t,n){var i=t.pendingProps;switch(rl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return tr(t.type)&&xi(),Ft(t),null;case 3:return i=t.stateNode,$s(),ft(er),ft(Ut),gl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Si(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tr!==null&&(ql(Tr),Tr=null))),Dl(e,t),Ft(t),null;case 5:fl(t);var h=rs(ba.current);if(n=t.type,e!==null&&t.stateNode!=null)od(e,t,n,i,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Ft(t),null}if(e=rs(Wr.current),Si(t)){i=t.stateNode,n=t.type;var y=t.memoizedProps;switch(i[Hr]=t,i[pa]=y,e=(t.mode&1)!==0,n){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(h=0;h<fa.length;h++)ht(fa[h],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":de(i,y),ht("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!y.multiple},ht("invalid",i);break;case"textarea":Ne(i,y),ht("invalid",i)}Pt(n,y),h=null;for(var P in y)if(y.hasOwnProperty(P)){var z=y[P];P==="children"?typeof z=="string"?i.textContent!==z&&(y.suppressHydrationWarning!==!0&&gi(i.textContent,z,e),h=["children",z]):typeof z=="number"&&i.textContent!==""+z&&(y.suppressHydrationWarning!==!0&&gi(i.textContent,z,e),h=["children",""+z]):u.hasOwnProperty(P)&&z!=null&&P==="onScroll"&&ht("scroll",i)}switch(n){case"input":st(i),O(i,y,!0);break;case"textarea":st(i),_e(i);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(i.onclick=pi)}i=h,t.updateQueue=i,i!==null&&(t.flags|=4)}else{P=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Be(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=P.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=P.createElement(n,{is:i.is}):(e=P.createElement(n),n==="select"&&(P=e,i.multiple?P.multiple=!0:i.size&&(P.size=i.size))):e=P.createElementNS(e,n),e[Hr]=t,e[pa]=i,id(e,t,!1,!1),t.stateNode=e;e:{switch(P=Gr(n,i),n){case"dialog":ht("cancel",e),ht("close",e),h=i;break;case"iframe":case"object":case"embed":ht("load",e),h=i;break;case"video":case"audio":for(h=0;h<fa.length;h++)ht(fa[h],e);h=i;break;case"source":ht("error",e),h=i;break;case"img":case"image":case"link":ht("error",e),ht("load",e),h=i;break;case"details":ht("toggle",e),h=i;break;case"input":de(e,i),h=k(e,i),ht("invalid",e);break;case"option":h=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},h=Q({},i,{value:void 0}),ht("invalid",e);break;case"textarea":Ne(e,i),h=re(e,i),ht("invalid",e);break;default:h=i}Pt(n,h),z=h;for(y in z)if(z.hasOwnProperty(y)){var W=z[y];y==="style"?Ve(e,W):y==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&jt(e,W)):y==="children"?typeof W=="string"?(n!=="textarea"||W!=="")&&Gt(e,W):typeof W=="number"&&Gt(e,""+W):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(u.hasOwnProperty(y)?W!=null&&y==="onScroll"&&ht("scroll",e):W!=null&&R(e,y,W,P))}switch(n){case"input":st(e),O(e,i,!1);break;case"textarea":st(e),_e(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Pe(i.value));break;case"select":e.multiple=!!i.multiple,y=i.value,y!=null?xe(e,!!i.multiple,y,!1):i.defaultValue!=null&&xe(e,!!i.multiple,i.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=pi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)ld(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(n=rs(ba.current),rs(Wr.current),Si(t)){if(i=t.stateNode,n=t.memoizedProps,i[Hr]=t,(y=i.nodeValue!==n)&&(e=dr,e!==null))switch(e.tag){case 3:gi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gi(i.nodeValue,n,(e.mode&1)!==0)}y&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Hr]=t,t.stateNode=i}return Ft(t),null;case 13:if(ft(pt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&hr!==null&&(t.mode&1)!==0&&(t.flags&128)===0)du(),Us(),t.flags|=98560,y=!1;else if(y=Si(t),i!==null&&i.dehydrated!==null){if(e===null){if(!y)throw Error(s(318));if(y=t.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Hr]=t}else Us(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ft(t),y=!1}else Tr!==null&&(ql(Tr),Tr=null),y=!0;if(!y)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(pt.current&1)!==0?St===0&&(St=3):Gl())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return $s(),Dl(e,t),e===null&&ma(t.stateNode.containerInfo),Ft(t),null;case 10:return ll(t.type._context),Ft(t),null;case 17:return tr(t.type)&&xi(),Ft(t),null;case 19:if(ft(pt),y=t.memoizedState,y===null)return Ft(t),null;if(i=(t.flags&128)!==0,P=y.rendering,P===null)if(i)_a(y,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(P=Ti(e),P!==null){for(t.flags|=128,_a(y,!1),i=P.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)y=n,e=i,y.flags&=14680066,P=y.alternate,P===null?(y.childLanes=0,y.lanes=e,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=P.childLanes,y.lanes=P.lanes,y.child=P.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=P.memoizedProps,y.memoizedState=P.memoizedState,y.updateQueue=P.updateQueue,y.type=P.type,e=P.dependencies,y.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dt(pt,pt.current&1|2),t.child}e=e.sibling}y.tail!==null&&mt()>Ks&&(t.flags|=128,i=!0,_a(y,!1),t.lanes=4194304)}else{if(!i)if(e=Ti(P),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_a(y,!0),y.tail===null&&y.tailMode==="hidden"&&!P.alternate&&!gt)return Ft(t),null}else 2*mt()-y.renderingStartTime>Ks&&n!==1073741824&&(t.flags|=128,i=!0,_a(y,!1),t.lanes=4194304);y.isBackwards?(P.sibling=t.child,t.child=P):(n=y.last,n!==null?n.sibling=P:t.child=P,y.last=P)}return y.tail!==null?(t=y.tail,y.rendering=t,y.tail=t.sibling,y.renderingStartTime=mt(),t.sibling=null,n=pt.current,dt(pt,i?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return Vl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(fr&1073741824)!==0&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Wf(e,t){switch(rl(t),t.tag){case 1:return tr(t.type)&&xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $s(),ft(er),ft(Ut),gl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return fl(t),null;case 13:if(ft(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(pt),null;case 4:return $s(),null;case 10:return ll(t.type._context),null;case 22:case 23:return Vl(),null;case 24:return null;default:return null}}var Ui=!1,Bt=!1,qf=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Ws(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){xt(e,t,i)}else n.current=null}function Ol(e,t,n){try{n()}catch(i){xt(e,t,i)}}var cd=!1;function Kf(e,t){if(Vo=me,e=Bc(),zo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var h=i.anchorOffset,y=i.focusNode;i=i.focusOffset;try{n.nodeType,y.nodeType}catch{n=null;break e}var P=0,z=-1,W=-1,oe=0,ke=0,Se=e,be=null;t:for(;;){for(var De;Se!==n||h!==0&&Se.nodeType!==3||(z=P+h),Se!==y||i!==0&&Se.nodeType!==3||(W=P+i),Se.nodeType===3&&(P+=Se.nodeValue.length),(De=Se.firstChild)!==null;)be=Se,Se=De;for(;;){if(Se===e)break t;if(be===n&&++oe===h&&(z=P),be===y&&++ke===i&&(W=P),(De=Se.nextSibling)!==null)break;Se=be,be=Se.parentNode}Se=De}n=z===-1||W===-1?null:{start:z,end:W}}else n=null}n=n||{start:0,end:0}}else n=null;for(Go={focusedElem:e,selectionRange:n},me=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var Ue=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var Fe=Ue.memoizedProps,wt=Ue.memoizedState,te=t.stateNode,V=te.getSnapshotBeforeUpdate(t.elementType===t.type?Fe:Ar(t.type,Fe),wt);te.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var se=t.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ee){xt(t,t.return,Ee)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return Ue=cd,cd=!1,Ue}function Ca(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var h=i=i.next;do{if((h.tag&e)===e){var y=h.destroy;h.destroy=void 0,y!==void 0&&Ol(t,n,y)}h=h.next}while(h!==i)}}function zi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Ll(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ud(e){var t=e.alternate;t!==null&&(e.alternate=null,ud(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[pa],delete t[Yo],delete t[Ef],delete t[Tf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dd(e){return e.tag===5||e.tag===3||e.tag===4}function hd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ml(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pi));else if(i!==4&&(e=e.child,e!==null))for(Ml(e,t,n),e=e.sibling;e!==null;)Ml(e,t,n),e=e.sibling}function Ul(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}var Ot=null,Pr=!1;function Pn(e,t,n){for(n=n.child;n!==null;)fd(e,t,n),n=n.sibling}function fd(e,t,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(xn,n)}catch{}switch(n.tag){case 5:Bt||Ws(n,t);case 6:var i=Ot,h=Pr;Ot=null,Pn(e,t,n),Ot=i,Pr=h,Ot!==null&&(Pr?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Pr?(e=Ot,n=n.stateNode,e.nodeType===8?Xo(e.parentNode,n):e.nodeType===1&&Xo(e,n),$(e)):Xo(Ot,n.stateNode));break;case 4:i=Ot,h=Pr,Ot=n.stateNode.containerInfo,Pr=!0,Pn(e,t,n),Ot=i,Pr=h;break;case 0:case 11:case 14:case 15:if(!Bt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){h=i=i.next;do{var y=h,P=y.destroy;y=y.tag,P!==void 0&&((y&2)!==0||(y&4)!==0)&&Ol(n,t,P),h=h.next}while(h!==i)}Pn(e,t,n);break;case 1:if(!Bt&&(Ws(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(z){xt(n,t,z)}Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:n.mode&1?(Bt=(i=Bt)||n.memoizedState!==null,Pn(e,t,n),Bt=i):Pn(e,t,n);break;default:Pn(e,t,n)}}function md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qf),t.forEach(function(i){var h=tm.bind(null,e,i);n.has(i)||(n.add(i),i.then(h,h))})}}function Ir(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var h=n[i];try{var y=e,P=t,z=P;e:for(;z!==null;){switch(z.tag){case 5:Ot=z.stateNode,Pr=!1;break e;case 3:Ot=z.stateNode.containerInfo,Pr=!0;break e;case 4:Ot=z.stateNode.containerInfo,Pr=!0;break e}z=z.return}if(Ot===null)throw Error(s(160));fd(y,P,h),Ot=null,Pr=!1;var W=h.alternate;W!==null&&(W.return=null),h.return=null}catch(oe){xt(h,t,oe)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gd(t,e),t=t.sibling}function gd(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ir(t,e),Kr(e),i&4){try{Ca(3,e,e.return),zi(3,e)}catch(Fe){xt(e,e.return,Fe)}try{Ca(5,e,e.return)}catch(Fe){xt(e,e.return,Fe)}}break;case 1:Ir(t,e),Kr(e),i&512&&n!==null&&Ws(n,n.return);break;case 5:if(Ir(t,e),Kr(e),i&512&&n!==null&&Ws(n,n.return),e.flags&32){var h=e.stateNode;try{Gt(h,"")}catch(Fe){xt(e,e.return,Fe)}}if(i&4&&(h=e.stateNode,h!=null)){var y=e.memoizedProps,P=n!==null?n.memoizedProps:y,z=e.type,W=e.updateQueue;if(e.updateQueue=null,W!==null)try{z==="input"&&y.type==="radio"&&y.name!=null&&J(h,y),Gr(z,P);var oe=Gr(z,y);for(P=0;P<W.length;P+=2){var ke=W[P],Se=W[P+1];ke==="style"?Ve(h,Se):ke==="dangerouslySetInnerHTML"?jt(h,Se):ke==="children"?Gt(h,Se):R(h,ke,Se,oe)}switch(z){case"input":U(h,y);break;case"textarea":Ie(h,y);break;case"select":var be=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!y.multiple;var De=y.value;De!=null?xe(h,!!y.multiple,De,!1):be!==!!y.multiple&&(y.defaultValue!=null?xe(h,!!y.multiple,y.defaultValue,!0):xe(h,!!y.multiple,y.multiple?[]:"",!1))}h[pa]=y}catch(Fe){xt(e,e.return,Fe)}}break;case 6:if(Ir(t,e),Kr(e),i&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,y=e.memoizedProps;try{h.nodeValue=y}catch(Fe){xt(e,e.return,Fe)}}break;case 3:if(Ir(t,e),Kr(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{$(t.containerInfo)}catch(Fe){xt(e,e.return,Fe)}break;case 4:Ir(t,e),Kr(e);break;case 13:Ir(t,e),Kr(e),h=e.child,h.flags&8192&&(y=h.memoizedState!==null,h.stateNode.isHidden=y,!y||h.alternate!==null&&h.alternate.memoizedState!==null||(Bl=mt())),i&4&&md(e);break;case 22:if(ke=n!==null&&n.memoizedState!==null,e.mode&1?(Bt=(oe=Bt)||ke,Ir(t,e),Bt=oe):Ir(t,e),Kr(e),i&8192){if(oe=e.memoizedState!==null,(e.stateNode.isHidden=oe)&&!ke&&(e.mode&1)!==0)for(Le=e,ke=e.child;ke!==null;){for(Se=Le=ke;Le!==null;){switch(be=Le,De=be.child,be.tag){case 0:case 11:case 14:case 15:Ca(4,be,be.return);break;case 1:Ws(be,be.return);var Ue=be.stateNode;if(typeof Ue.componentWillUnmount=="function"){i=be,n=be.return;try{t=i,Ue.props=t.memoizedProps,Ue.state=t.memoizedState,Ue.componentWillUnmount()}catch(Fe){xt(i,n,Fe)}}break;case 5:Ws(be,be.return);break;case 22:if(be.memoizedState!==null){xd(Se);continue}}De!==null?(De.return=be,Le=De):xd(Se)}ke=ke.sibling}e:for(ke=null,Se=e;;){if(Se.tag===5){if(ke===null){ke=Se;try{h=Se.stateNode,oe?(y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(z=Se.stateNode,W=Se.memoizedProps.style,P=W!=null&&W.hasOwnProperty("display")?W.display:null,z.style.display=ut("display",P))}catch(Fe){xt(e,e.return,Fe)}}}else if(Se.tag===6){if(ke===null)try{Se.stateNode.nodeValue=oe?"":Se.memoizedProps}catch(Fe){xt(e,e.return,Fe)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===e)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===e)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===e)break e;ke===Se&&(ke=null),Se=Se.return}ke===Se&&(ke=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Ir(t,e),Kr(e),i&4&&md(e);break;case 21:break;default:Ir(t,e),Kr(e)}}function Kr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dd(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var h=i.stateNode;i.flags&32&&(Gt(h,""),i.flags&=-33);var y=hd(e);Ul(e,y,h);break;case 3:case 4:var P=i.stateNode.containerInfo,z=hd(e);Ml(e,z,P);break;default:throw Error(s(161))}}catch(W){xt(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vf(e,t,n){Le=e,pd(e)}function pd(e,t,n){for(var i=(e.mode&1)!==0;Le!==null;){var h=Le,y=h.child;if(h.tag===22&&i){var P=h.memoizedState!==null||Ui;if(!P){var z=h.alternate,W=z!==null&&z.memoizedState!==null||Bt;z=Ui;var oe=Bt;if(Ui=P,(Bt=W)&&!oe)for(Le=h;Le!==null;)P=Le,W=P.child,P.tag===22&&P.memoizedState!==null?vd(h):W!==null?(W.return=P,Le=W):vd(h);for(;y!==null;)Le=y,pd(y),y=y.sibling;Le=h,Ui=z,Bt=oe}yd(e)}else(h.subtreeFlags&8772)!==0&&y!==null?(y.return=h,Le=y):yd(e)}}function yd(e){for(;Le!==null;){var t=Le;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Bt||zi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Bt)if(n===null)i.componentDidMount();else{var h=t.elementType===t.type?n.memoizedProps:Ar(t.type,n.memoizedProps);i.componentDidUpdate(h,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var y=t.updateQueue;y!==null&&xu(t,y,i);break;case 3:var P=t.updateQueue;if(P!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xu(t,P,n)}break;case 5:var z=t.stateNode;if(n===null&&t.flags&4){n=z;var W=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&n.focus();break;case"img":W.src&&(n.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var oe=t.alternate;if(oe!==null){var ke=oe.memoizedState;if(ke!==null){var Se=ke.dehydrated;Se!==null&&$(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Bt||t.flags&512&&Ll(t)}catch(be){xt(t,t.return,be)}}if(t===e){Le=null;break}if(n=t.sibling,n!==null){n.return=t.return,Le=n;break}Le=t.return}}function xd(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Le=n;break}Le=t.return}}function vd(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zi(4,t)}catch(W){xt(t,n,W)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var h=t.return;try{i.componentDidMount()}catch(W){xt(t,h,W)}}var y=t.return;try{Ll(t)}catch(W){xt(t,y,W)}break;case 5:var P=t.return;try{Ll(t)}catch(W){xt(t,P,W)}}}catch(W){xt(t,t.return,W)}if(t===e){Le=null;break}var z=t.sibling;if(z!==null){z.return=t.return,Le=z;break}Le=t.return}}var Gf=Math.ceil,Fi=L.ReactCurrentDispatcher,zl=L.ReactCurrentOwner,Sr=L.ReactCurrentBatchConfig,nt=0,Tt=null,bt=null,Lt=0,fr=0,qs=_n(0),St=0,Ea=null,ss=0,Bi=0,Fl=0,Ta=null,nr=null,Bl=0,Ks=1/0,dn=null,$i=!1,$l=null,In=null,Hi=!1,Rn=null,Wi=0,Aa=0,Hl=null,qi=-1,Ki=0;function Kt(){return(nt&6)!==0?mt():qi!==-1?qi:qi=mt()}function Dn(e){return(e.mode&1)===0?1:(nt&2)!==0&&Lt!==0?Lt&-Lt:Pf.transition!==null?(Ki===0&&(Ki=vn()),Ki):(e=rt,e!==0||(e=window.event,e=e===void 0?16:sa(e.type)),e)}function Rr(e,t,n,i){if(50<Aa)throw Aa=0,Hl=null,Error(s(185));Kn(e,n,i),((nt&2)===0||e!==Tt)&&(e===Tt&&((nt&2)===0&&(Bi|=n),St===4&&On(e,Lt)),sr(e,i),n===1&&nt===0&&(t.mode&1)===0&&(Ks=mt()+500,wi&&En()))}function sr(e,t){var n=e.callbackNode;No(e,t);var i=tn(e,e===Tt?Lt:0);if(i===0)n!==null&&ir(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&ir(n),t===1)e.tag===0?Af(bd.bind(null,e)):iu(bd.bind(null,e)),_f(function(){(nt&6)===0&&En()}),n=null;else{switch(xs(i)){case 1:n=Xr;break;case 4:n=ea;break;case 16:n=Yr;break;case 536870912:n=Jr;break;default:n=Yr}n=Td(n,wd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wd(e,t){if(qi=-1,Ki=0,(nt&6)!==0)throw Error(s(327));var n=e.callbackNode;if(Vs()&&e.callbackNode!==n)return null;var i=tn(e,e===Tt?Lt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Vi(e,i);else{t=i;var h=nt;nt|=2;var y=Sd();(Tt!==e||Lt!==t)&&(dn=null,Ks=mt()+500,is(e,t));do try{Xf();break}catch(z){kd(e,z)}while(!0);ol(),Fi.current=y,nt=h,bt!==null?t=0:(Tt=null,Lt=0,t=St)}if(t!==0){if(t===2&&(h=ra(e),h!==0&&(i=h,t=Wl(e,h))),t===1)throw n=Ea,is(e,0),On(e,i),sr(e,mt()),n;if(t===6)On(e,i);else{if(h=e.current.alternate,(i&30)===0&&!Qf(h)&&(t=Vi(e,i),t===2&&(y=ra(e),y!==0&&(i=y,t=Wl(e,y))),t===1))throw n=Ea,is(e,0),On(e,i),sr(e,mt()),n;switch(e.finishedWork=h,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:os(e,nr,dn);break;case 3:if(On(e,i),(i&130023424)===i&&(t=Bl+500-mt(),10<t)){if(tn(e,0)!==0)break;if(h=e.suspendedLanes,(h&i)!==i){Kt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Zo(os.bind(null,e,nr,dn),t);break}os(e,nr,dn);break;case 4:if(On(e,i),(i&4194240)===i)break;for(t=e.eventTimes,h=-1;0<i;){var P=31-Zt(i);y=1<<P,P=t[P],P>h&&(h=P),i&=~y}if(i=h,i=mt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Gf(i/1960))-i,10<i){e.timeoutHandle=Zo(os.bind(null,e,nr,dn),i);break}os(e,nr,dn);break;case 5:os(e,nr,dn);break;default:throw Error(s(329))}}}return sr(e,mt()),e.callbackNode===n?wd.bind(null,e):null}function Wl(e,t){var n=Ta;return e.current.memoizedState.isDehydrated&&(is(e,t).flags|=256),e=Vi(e,t),e!==2&&(t=nr,nr=n,t!==null&&ql(t)),e}function ql(e){nr===null?nr=e:nr.push.apply(nr,e)}function Qf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var h=n[i],y=h.getSnapshot;h=h.value;try{if(!Er(y(),h))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~Fl,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zt(t),i=1<<n;e[n]=-1,t&=~i}}function bd(e){if((nt&6)!==0)throw Error(s(327));Vs();var t=tn(e,0);if((t&1)===0)return sr(e,mt()),null;var n=Vi(e,t);if(e.tag!==0&&n===2){var i=ra(e);i!==0&&(t=i,n=Wl(e,i))}if(n===1)throw n=Ea,is(e,0),On(e,t),sr(e,mt()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,os(e,nr,dn),sr(e,mt()),null}function Kl(e,t){var n=nt;nt|=1;try{return e(t)}finally{nt=n,nt===0&&(Ks=mt()+500,wi&&En())}}function as(e){Rn!==null&&Rn.tag===0&&(nt&6)===0&&Vs();var t=nt;nt|=1;var n=Sr.transition,i=rt;try{if(Sr.transition=null,rt=1,e)return e()}finally{rt=i,Sr.transition=n,nt=t,(nt&6)===0&&En()}}function Vl(){fr=qs.current,ft(qs)}function is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jf(n)),bt!==null)for(n=bt.return;n!==null;){var i=n;switch(rl(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xi();break;case 3:$s(),ft(er),ft(Ut),gl();break;case 5:fl(i);break;case 4:$s();break;case 13:ft(pt);break;case 19:ft(pt);break;case 10:ll(i.type._context);break;case 22:case 23:Vl()}n=n.return}if(Tt=e,bt=e=Ln(e.current,null),Lt=fr=t,St=0,Ea=null,Fl=Bi=ss=0,nr=Ta=null,ts!==null){for(t=0;t<ts.length;t++)if(n=ts[t],i=n.interleaved,i!==null){n.interleaved=null;var h=i.next,y=n.pending;if(y!==null){var P=y.next;y.next=h,i.next=P}n.pending=i}ts=null}return e}function kd(e,t){do{var n=bt;try{if(ol(),Ai.current=Di,Pi){for(var i=yt.memoizedState;i!==null;){var h=i.queue;h!==null&&(h.pending=null),i=i.next}Pi=!1}if(ns=0,Et=kt=yt=null,ka=!1,Sa=0,zl.current=null,n===null||n.return===null){St=1,Ea=t,bt=null;break}e:{var y=e,P=n.return,z=n,W=t;if(t=Lt,z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var oe=W,ke=z,Se=ke.tag;if((ke.mode&1)===0&&(Se===0||Se===11||Se===15)){var be=ke.alternate;be?(ke.updateQueue=be.updateQueue,ke.memoizedState=be.memoizedState,ke.lanes=be.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var De=Vu(P);if(De!==null){De.flags&=-257,Gu(De,P,z,y,t),De.mode&1&&Ku(y,oe,t),t=De,W=oe;var Ue=t.updateQueue;if(Ue===null){var Fe=new Set;Fe.add(W),t.updateQueue=Fe}else Ue.add(W);break e}else{if((t&1)===0){Ku(y,oe,t),Gl();break e}W=Error(s(426))}}else if(gt&&z.mode&1){var wt=Vu(P);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),Gu(wt,P,z,y,t),al(Hs(W,z));break e}}y=W=Hs(W,z),St!==4&&(St=2),Ta===null?Ta=[y]:Ta.push(y),y=P;do{switch(y.tag){case 3:y.flags|=65536,t&=-t,y.lanes|=t;var te=Wu(y,W,t);yu(y,te);break e;case 1:z=W;var V=y.type,se=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(In===null||!In.has(se)))){y.flags|=65536,t&=-t,y.lanes|=t;var Ee=qu(y,z,t);yu(y,Ee);break e}}y=y.return}while(y!==null)}jd(n)}catch($e){t=$e,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function Sd(){var e=Fi.current;return Fi.current=Di,e===null?Di:e}function Gl(){(St===0||St===3||St===2)&&(St=4),Tt===null||(ss&268435455)===0&&(Bi&268435455)===0||On(Tt,Lt)}function Vi(e,t){var n=nt;nt|=2;var i=Sd();(Tt!==e||Lt!==t)&&(dn=null,is(e,t));do try{Zf();break}catch(h){kd(e,h)}while(!0);if(ol(),nt=n,Fi.current=i,bt!==null)throw Error(s(261));return Tt=null,Lt=0,St}function Zf(){for(;bt!==null;)Nd(bt)}function Xf(){for(;bt!==null&&!gs();)Nd(bt)}function Nd(e){var t=Ed(e.alternate,e,fr);e.memoizedProps=e.pendingProps,t===null?jd(e):bt=t,zl.current=null}function jd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Hf(n,t,fr),n!==null){bt=n;return}}else{if(n=Wf(n,t),n!==null){n.flags&=32767,bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,bt=null;return}}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);St===0&&(St=5)}function os(e,t,n){var i=rt,h=Sr.transition;try{Sr.transition=null,rt=1,Yf(e,t,n,i)}finally{Sr.transition=h,rt=i}return null}function Yf(e,t,n,i){do Vs();while(Rn!==null);if((nt&6)!==0)throw Error(s(327));n=e.finishedWork;var h=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var y=n.lanes|n.childLanes;if(na(e,y),e===Tt&&(bt=Tt=null,Lt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Hi||(Hi=!0,Td(Yr,function(){return Vs(),null})),y=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||y){y=Sr.transition,Sr.transition=null;var P=rt;rt=1;var z=nt;nt|=4,zl.current=null,Kf(e,n),gd(n,e),xf(Go),me=!!Vo,Go=Vo=null,e.current=n,Vf(n),Js(),nt=z,rt=P,Sr.transition=y}else e.current=n;if(Hi&&(Hi=!1,Rn=e,Wi=h),y=e.pendingLanes,y===0&&(In=null),Ja(n.stateNode),sr(e,mt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)h=t[n],i(h.value,{componentStack:h.stack,digest:h.digest});if($i)throw $i=!1,e=$l,$l=null,e;return(Wi&1)!==0&&e.tag!==0&&Vs(),y=e.pendingLanes,(y&1)!==0?e===Hl?Aa++:(Aa=0,Hl=e):Aa=0,En(),null}function Vs(){if(Rn!==null){var e=xs(Wi),t=Sr.transition,n=rt;try{if(Sr.transition=null,rt=16>e?16:e,Rn===null)var i=!1;else{if(e=Rn,Rn=null,Wi=0,(nt&6)!==0)throw Error(s(331));var h=nt;for(nt|=4,Le=e.current;Le!==null;){var y=Le,P=y.child;if((Le.flags&16)!==0){var z=y.deletions;if(z!==null){for(var W=0;W<z.length;W++){var oe=z[W];for(Le=oe;Le!==null;){var ke=Le;switch(ke.tag){case 0:case 11:case 15:Ca(8,ke,y)}var Se=ke.child;if(Se!==null)Se.return=ke,Le=Se;else for(;Le!==null;){ke=Le;var be=ke.sibling,De=ke.return;if(ud(ke),ke===oe){Le=null;break}if(be!==null){be.return=De,Le=be;break}Le=De}}}var Ue=y.alternate;if(Ue!==null){var Fe=Ue.child;if(Fe!==null){Ue.child=null;do{var wt=Fe.sibling;Fe.sibling=null,Fe=wt}while(Fe!==null)}}Le=y}}if((y.subtreeFlags&2064)!==0&&P!==null)P.return=y,Le=P;else e:for(;Le!==null;){if(y=Le,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ca(9,y,y.return)}var te=y.sibling;if(te!==null){te.return=y.return,Le=te;break e}Le=y.return}}var V=e.current;for(Le=V;Le!==null;){P=Le;var se=P.child;if((P.subtreeFlags&2064)!==0&&se!==null)se.return=P,Le=se;else e:for(P=V;Le!==null;){if(z=Le,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:zi(9,z)}}catch($e){xt(z,z.return,$e)}if(z===P){Le=null;break e}var Ee=z.sibling;if(Ee!==null){Ee.return=z.return,Le=Ee;break e}Le=z.return}}if(nt=h,En(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(xn,e)}catch{}i=!0}return i}finally{rt=n,Sr.transition=t}}return!1}function _d(e,t,n){t=Hs(n,t),t=Wu(e,t,1),e=An(e,t,1),t=Kt(),e!==null&&(Kn(e,1,t),sr(e,t))}function xt(e,t,n){if(e.tag===3)_d(e,e,n);else for(;t!==null;){if(t.tag===3){_d(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(In===null||!In.has(i))){e=Hs(n,e),e=qu(t,e,1),t=An(t,e,1),e=Kt(),t!==null&&(Kn(t,1,e),sr(t,e));break}}t=t.return}}function Jf(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&n,Tt===e&&(Lt&n)===n&&(St===4||St===3&&(Lt&130023424)===Lt&&500>mt()-Bl?is(e,0):Fl|=n),sr(e,t)}function Cd(e,t){t===0&&((e.mode&1)===0?t=1:(t=en,en<<=1,(en&130023424)===0&&(en=4194304)));var n=Kt();e=ln(e,t),e!==null&&(Kn(e,t,n),sr(e,n))}function em(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cd(e,n)}function tm(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,h=e.memoizedState;h!==null&&(n=h.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),Cd(e,n)}var Ed;Ed=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||er.current)rr=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return rr=!1,$f(e,t,n);rr=(e.flags&131072)!==0}else rr=!1,gt&&(t.flags&1048576)!==0&&ou(t,ki,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Mi(e,t),e=t.pendingProps;var h=Os(t,Ut.current);Bs(t,n),h=xl(null,t,i,e,h,n);var y=vl();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tr(i)?(y=!0,vi(t)):y=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,dl(t),h.updater=Oi,t.stateNode=h,h._reactInternals=t,jl(t,i,e,n),t=Tl(null,t,i,!0,y,n)):(t.tag=0,gt&&y&&tl(t),qt(null,t,h,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,h=i._init,i=h(i._payload),t.type=i,h=t.tag=nm(i),e=Ar(i,e),h){case 0:t=El(null,t,i,e,n);break e;case 1:t=ed(null,t,i,e,n);break e;case 11:t=Qu(null,t,i,e,n);break e;case 14:t=Zu(null,t,i,Ar(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,h=t.pendingProps,h=t.elementType===i?h:Ar(i,h),El(e,t,i,h,n);case 1:return i=t.type,h=t.pendingProps,h=t.elementType===i?h:Ar(i,h),ed(e,t,i,h,n);case 3:e:{if(td(t),e===null)throw Error(s(387));i=t.pendingProps,y=t.memoizedState,h=y.element,pu(e,t),Ei(t,i,null,n);var P=t.memoizedState;if(i=P.element,y.isDehydrated)if(y={element:i,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){h=Hs(Error(s(423)),t),t=rd(e,t,i,n,h);break e}else if(i!==h){h=Hs(Error(s(424)),t),t=rd(e,t,i,n,h);break e}else for(hr=jn(t.stateNode.containerInfo.firstChild),dr=t,gt=!0,Tr=null,n=mu(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Us(),i===h){t=un(e,t,n);break e}qt(e,t,i,n)}t=t.child}return t;case 5:return vu(t),e===null&&sl(t),i=t.type,h=t.pendingProps,y=e!==null?e.memoizedProps:null,P=h.children,Qo(i,h)?P=null:y!==null&&Qo(i,y)&&(t.flags|=32),Ju(e,t),qt(e,t,P,n),t.child;case 6:return e===null&&sl(t),null;case 13:return nd(e,t,n);case 4:return hl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=zs(t,null,i,n):qt(e,t,i,n),t.child;case 11:return i=t.type,h=t.pendingProps,h=t.elementType===i?h:Ar(i,h),Qu(e,t,i,h,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,h=t.pendingProps,y=t.memoizedProps,P=h.value,dt(ji,i._currentValue),i._currentValue=P,y!==null)if(Er(y.value,P)){if(y.children===h.children&&!er.current){t=un(e,t,n);break e}}else for(y=t.child,y!==null&&(y.return=t);y!==null;){var z=y.dependencies;if(z!==null){P=y.child;for(var W=z.firstContext;W!==null;){if(W.context===i){if(y.tag===1){W=cn(-1,n&-n),W.tag=2;var oe=y.updateQueue;if(oe!==null){oe=oe.shared;var ke=oe.pending;ke===null?W.next=W:(W.next=ke.next,ke.next=W),oe.pending=W}}y.lanes|=n,W=y.alternate,W!==null&&(W.lanes|=n),cl(y.return,n,t),z.lanes|=n;break}W=W.next}}else if(y.tag===10)P=y.type===t.type?null:y.child;else if(y.tag===18){if(P=y.return,P===null)throw Error(s(341));P.lanes|=n,z=P.alternate,z!==null&&(z.lanes|=n),cl(P,n,t),P=y.sibling}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===t){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}qt(e,t,h.children,n),t=t.child}return t;case 9:return h=t.type,i=t.pendingProps.children,Bs(t,n),h=br(h),i=i(h),t.flags|=1,qt(e,t,i,n),t.child;case 14:return i=t.type,h=Ar(i,t.pendingProps),h=Ar(i.type,h),Zu(e,t,i,h,n);case 15:return Xu(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,h=t.pendingProps,h=t.elementType===i?h:Ar(i,h),Mi(e,t),t.tag=1,tr(i)?(e=!0,vi(t)):e=!1,Bs(t,n),$u(t,i,h),jl(t,i,h,n),Tl(null,t,i,!0,e,n);case 19:return ad(e,t,n);case 22:return Yu(e,t,n)}throw Error(s(156,t.tag))};function Td(e,t){return Za(e,t)}function rm(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(e,t,n,i){return new rm(e,t,n,i)}function Ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nm(e){if(typeof e=="function")return Ql(e)?1:0;if(e!=null){if(e=e.$$typeof,e===B)return 11;if(e===ce)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=Nr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gi(e,t,n,i,h,y){var P=2;if(i=e,typeof e=="function")Ql(e)&&(P=1);else if(typeof e=="string")P=5;else e:switch(e){case q:return ls(n.children,h,y,t);case ie:P=8,h|=8;break;case ne:return e=Nr(12,n,t,h|2),e.elementType=ne,e.lanes=y,e;case X:return e=Nr(13,n,t,h),e.elementType=X,e.lanes=y,e;case E:return e=Nr(19,n,t,h),e.elementType=E,e.lanes=y,e;case he:return Qi(n,h,y,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fe:P=10;break e;case pe:P=9;break e;case B:P=11;break e;case ce:P=14;break e;case Te:P=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Nr(P,n,t,h),t.elementType=e,t.type=i,t.lanes=y,t}function ls(e,t,n,i){return e=Nr(7,e,i,t),e.lanes=n,e}function Qi(e,t,n,i){return e=Nr(22,e,i,t),e.elementType=he,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return e=Nr(6,e,null,t),e.lanes=n,e}function Xl(e,t,n){return t=Nr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sm(e,t,n,i,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ps(0),this.expirationTimes=ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ps(0),this.identifierPrefix=i,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Yl(e,t,n,i,h,y,P,z,W){return e=new sm(e,t,n,z,W),t===1?(t=1,y===!0&&(t|=8)):t=0,y=Nr(3,null,null,t),e.current=y,y.stateNode=e,y.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dl(y),e}function am(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Ad(e){if(!e)return Cn;e=e._reactInternals;e:{if(Zr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(tr(n))return su(e,n,t)}return t}function Pd(e,t,n,i,h,y,P,z,W){return e=Yl(n,i,!0,e,h,y,P,z,W),e.context=Ad(null),n=e.current,i=Kt(),h=Dn(n),y=cn(i,h),y.callback=t??null,An(n,y,h),e.current.lanes=h,Kn(e,h,i),sr(e,i),e}function Zi(e,t,n,i){var h=t.current,y=Kt(),P=Dn(h);return n=Ad(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(y,P),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=An(h,t,P),e!==null&&(Rr(e,h,P,y),Ci(e,h,P)),P}function Xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jl(e,t){Id(e,t),(e=e.alternate)&&Id(e,t)}function im(){return null}var Rd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ec(e){this._internalRoot=e}Yi.prototype.render=ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Zi(e,t,null,null)},Yi.prototype.unmount=ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;as(function(){Zi(null,e,null,null)}),t[nn]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ur();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cr.length&&t!==0&&t<Cr[n].priority;n++);Cr.splice(n,0,e),n===0&&ws(e)}};function tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dd(){}function om(e,t,n,i,h){if(h){if(typeof i=="function"){var y=i;i=function(){var oe=Xi(P);y.call(oe)}}var P=Pd(t,i,e,0,null,!1,!1,"",Dd);return e._reactRootContainer=P,e[nn]=P.current,ma(e.nodeType===8?e.parentNode:e),as(),P}for(;h=e.lastChild;)e.removeChild(h);if(typeof i=="function"){var z=i;i=function(){var oe=Xi(W);z.call(oe)}}var W=Yl(e,0,!1,null,null,!1,!1,"",Dd);return e._reactRootContainer=W,e[nn]=W.current,ma(e.nodeType===8?e.parentNode:e),as(function(){Zi(t,W,n,i)}),W}function eo(e,t,n,i,h){var y=n._reactRootContainer;if(y){var P=y;if(typeof h=="function"){var z=h;h=function(){var W=Xi(P);z.call(W)}}Zi(t,P,e,h)}else P=om(n,t,e,h,i);return Xi(P)}ei=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mr(t.pendingLanes);n!==0&&(ys(t,n|1),sr(t,mt()),(nt&6)===0&&(Ks=mt()+500,En()))}break;case 13:as(function(){var i=ln(e,1);if(i!==null){var h=Kt();Rr(i,e,1,h)}}),Jl(e,1)}},wn=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=Kt();Rr(t,e,134217728,n)}Jl(e,134217728)}},Vn=function(e){if(e.tag===13){var t=Dn(e),n=ln(e,t);if(n!==null){var i=Kt();Rr(n,e,t,i)}Jl(e,t)}},Ur=function(){return rt},vs=function(e,t){var n=rt;try{return rt=e,t()}finally{rt=n}},Qt=function(e,t,n){switch(t){case"input":if(U(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var h=yi(i);if(!h)throw Error(s(90));ot(i),U(i,h)}}}break;case"textarea":Ie(e,n);break;case"select":t=n.value,t!=null&&xe(e,!!n.multiple,t,!1)}},Va=Kl,Ht=as;var lm={usingClientEntryPoint:!1,Events:[ya,Rs,yi,Ae,Ka,Kl]},Pa={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cm={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ys(e),e===null?null:e.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||im,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{xn=to.inject(cm),or=to}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm,ar.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tc(t))throw Error(s(200));return am(e,t,null,n)},ar.createRoot=function(e,t){if(!tc(e))throw Error(s(299));var n=!1,i="",h=Rd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Yl(e,1,!1,null,null,n,!1,i,h),e[nn]=t.current,ma(e.nodeType===8?e.parentNode:e),new ec(t)},ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ys(t),e=e===null?null:e.stateNode,e},ar.flushSync=function(e){return as(e)},ar.hydrate=function(e,t,n){if(!Ji(t))throw Error(s(200));return eo(null,e,t,!0,n)},ar.hydrateRoot=function(e,t,n){if(!tc(e))throw Error(s(405));var i=n!=null&&n.hydratedSources||null,h=!1,y="",P=Rd;if(n!=null&&(n.unstable_strictMode===!0&&(h=!0),n.identifierPrefix!==void 0&&(y=n.identifierPrefix),n.onRecoverableError!==void 0&&(P=n.onRecoverableError)),t=Pd(t,null,e,1,n??null,h,!1,y,P),e[nn]=t.current,ma(e),i)for(e=0;e<i.length;e++)n=i[e],h=n._getVersion,h=h(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,h]:t.mutableSourceEagerHydrationData.push(n,h);return new Yi(t)},ar.render=function(e,t,n){if(!Ji(t))throw Error(s(200));return eo(null,e,t,!1,n)},ar.unmountComponentAtNode=function(e){if(!Ji(e))throw Error(s(40));return e._reactRootContainer?(as(function(){eo(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1},ar.unstable_batchedUpdates=Kl,ar.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ji(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return eo(e,t,n,!1,i)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var $d;function Lh(){if($d)return sc.exports;$d=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),sc.exports=vm(),sc.exports}var Hd;function wm(){if(Hd)return no;Hd=1;var o=Lh();return no.createRoot=o.createRoot,no.hydrateRoot=o.hydrateRoot,no}var bm=wm();const km=za(bm);class po{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){const s={listener:a};return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Nc=typeof window>"u"||"Deno"in window;function Dr(){}function Sm(o,a){return typeof o=="function"?o(a):o}function Nm(o){return typeof o=="number"&&o>=0&&o!==1/0}function jm(o,a){return Math.max(o+(a||0)-Date.now(),0)}function so(o,a,s){return yo(o)?typeof a=="function"?{...s,queryKey:o,queryFn:a}:{...a,queryKey:o}:o}function Un(o,a,s){return yo(o)?[{...a,queryKey:o},s]:[o||{},a]}function Wd(o,a){const{type:s="all",exact:l,fetchStatus:u,predicate:d,queryKey:f,stale:p}=o;if(yo(f)){if(l){if(a.queryHash!==jc(f,a.options))return!1}else if(!co(a.queryKey,f))return!1}if(s!=="all"){const x=a.isActive();if(s==="active"&&!x||s==="inactive"&&x)return!1}return!(typeof p=="boolean"&&a.isStale()!==p||typeof u<"u"&&u!==a.state.fetchStatus||d&&!d(a))}function qd(o,a){const{exact:s,fetching:l,predicate:u,mutationKey:d}=o;if(yo(d)){if(!a.options.mutationKey)return!1;if(s){if(us(a.options.mutationKey)!==us(d))return!1}else if(!co(a.options.mutationKey,d))return!1}return!(typeof l=="boolean"&&a.state.status==="loading"!==l||u&&!u(a))}function jc(o,a){return(a?.queryKeyHashFn||us)(o)}function us(o){return JSON.stringify(o,(a,s)=>xc(s)?Object.keys(s).sort().reduce((l,u)=>(l[u]=s[u],l),{}):s)}function co(o,a){return Mh(o,a)}function Mh(o,a){return o===a?!0:typeof o!=typeof a?!1:o&&a&&typeof o=="object"&&typeof a=="object"?!Object.keys(a).some(s=>!Mh(o[s],a[s])):!1}function Uh(o,a){if(o===a)return o;const s=Kd(o)&&Kd(a);if(s||xc(o)&&xc(a)){const l=s?o.length:Object.keys(o).length,u=s?a:Object.keys(a),d=u.length,f=s?[]:{};let p=0;for(let x=0;x<d;x++){const m=s?x:u[x];f[m]=Uh(o[m],a[m]),f[m]===o[m]&&p++}return l===d&&p===l?o:f}return a}function Kd(o){return Array.isArray(o)&&o.length===Object.keys(o).length}function xc(o){if(!Vd(o))return!1;const a=o.constructor;if(typeof a>"u")return!0;const s=a.prototype;return!(!Vd(s)||!s.hasOwnProperty("isPrototypeOf"))}function Vd(o){return Object.prototype.toString.call(o)==="[object Object]"}function yo(o){return Array.isArray(o)}function zh(o){return new Promise(a=>{setTimeout(a,o)})}function Gd(o){zh(0).then(o)}function _m(){if(typeof AbortController=="function")return new AbortController}function Cm(o,a,s){return s.isDataEqual!=null&&s.isDataEqual(o,a)?o:typeof s.structuralSharing=="function"?s.structuralSharing(o,a):s.structuralSharing!==!1?Uh(o,a):a}class Em extends po{constructor(){super(),this.setup=a=>{if(!Nc&&window.addEventListener){const s=()=>a();return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),()=>{window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}}setEventListener(a){var s;this.setup=a,(s=this.cleanup)==null||s.call(this),this.cleanup=a(l=>{typeof l=="boolean"?this.setFocused(l):this.onFocus()})}setFocused(a){this.focused!==a&&(this.focused=a,this.onFocus())}onFocus(){this.listeners.forEach(({listener:a})=>{a()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const vc=new Em,Qd=["online","offline"];class Tm extends po{constructor(){super(),this.setup=a=>{if(!Nc&&window.addEventListener){const s=()=>a();return Qd.forEach(l=>{window.addEventListener(l,s,!1)}),()=>{Qd.forEach(l=>{window.removeEventListener(l,s)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}}setEventListener(a){var s;this.setup=a,(s=this.cleanup)==null||s.call(this),this.cleanup=a(l=>{typeof l=="boolean"?this.setOnline(l):this.onOnline()})}setOnline(a){this.online!==a&&(this.online=a,this.onOnline())}onOnline(){this.listeners.forEach(({listener:a})=>{a()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const uo=new Tm;function Am(o){return Math.min(1e3*2**o,3e4)}function _c(o){return(o??"online")==="online"?uo.isOnline():!0}class Fh{constructor(a){this.revert=a?.revert,this.silent=a?.silent}}function oc(o){return o instanceof Fh}function Bh(o){let a=!1,s=0,l=!1,u,d,f;const p=new Promise((N,w)=>{d=N,f=w}),x=N=>{l||(v(new Fh(N)),o.abort==null||o.abort())},m=()=>{a=!0},_=()=>{a=!1},S=()=>!vc.isFocused()||o.networkMode!=="always"&&!uo.isOnline(),j=N=>{l||(l=!0,o.onSuccess==null||o.onSuccess(N),u?.(),d(N))},v=N=>{l||(l=!0,o.onError==null||o.onError(N),u?.(),f(N))},A=()=>new Promise(N=>{u=w=>{const C=l||!S();return C&&N(w),C},o.onPause==null||o.onPause()}).then(()=>{u=void 0,l||o.onContinue==null||o.onContinue()}),b=()=>{if(l)return;let N;try{N=o.fn()}catch(w){N=Promise.reject(w)}Promise.resolve(N).then(j).catch(w=>{var C,R;if(l)return;const L=(C=o.retry)!=null?C:3,F=(R=o.retryDelay)!=null?R:Am,H=typeof F=="function"?F(s,w):F,q=L===!0||typeof L=="number"&&s<L||typeof L=="function"&&L(s,w);if(a||!q){v(w);return}s++,o.onFail==null||o.onFail(s,w),zh(H).then(()=>{if(S())return A()}).then(()=>{a?v(w):b()})})};return _c(o.networkMode)?b():A().then(b),{promise:p,cancel:x,continue:()=>u?.()?p:Promise.resolve(),cancelRetry:m,continueRetry:_}}const Cc=console;function Pm(){let o=[],a=0,s=_=>{_()},l=_=>{_()};const u=_=>{let S;a++;try{S=_()}finally{a--,a||p()}return S},d=_=>{a?o.push(_):Gd(()=>{s(_)})},f=_=>(...S)=>{d(()=>{_(...S)})},p=()=>{const _=o;o=[],_.length&&Gd(()=>{l(()=>{_.forEach(S=>{s(S)})})})};return{batch:u,batchCalls:f,schedule:d,setNotifyFunction:_=>{s=_},setBatchNotifyFunction:_=>{l=_}}}const Vt=Pm();class $h{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nm(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(a){this.cacheTime=Math.max(this.cacheTime||0,a??(Nc?1/0:300*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Im extends $h{constructor(a){super(),this.abortSignalConsumed=!1,this.defaultOptions=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.cache=a.cache,this.logger=a.logger||Cc,this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.initialState=a.state||Rm(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(a){this.options={...this.defaultOptions,...a},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(a,s){const l=Cm(this.state.data,a,this.options);return this.dispatch({data:l,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),l}setState(a,s){this.dispatch({type:"setState",state:a,setStateOptions:s})}cancel(a){var s;const l=this.promise;return(s=this.retryer)==null||s.cancel(a),l?l.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(a=>a.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(a=>a.getCurrentResult().isStale)}isStaleByTime(a=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!jm(this.state.dataUpdatedAt,a)}onFocus(){var a;const s=this.observers.find(l=>l.shouldFetchOnWindowFocus());s&&s.refetch({cancelRefetch:!1}),(a=this.retryer)==null||a.continue()}onOnline(){var a;const s=this.observers.find(l=>l.shouldFetchOnReconnect());s&&s.refetch({cancelRefetch:!1}),(a=this.retryer)==null||a.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(s=>s!==a),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(a,s){var l,u;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&s!=null&&s.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var d;return(d=this.retryer)==null||d.continueRetry(),this.promise}}if(a&&this.setOptions(a),!this.options.queryFn){const v=this.observers.find(A=>A.options.queryFn);v&&this.setOptions(v.options)}const f=_m(),p={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>{if(f)return this.abortSignalConsumed=!0,f.signal}})};x(p);const m=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(p)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),_={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:m};if(x(_),(l=this.options.behavior)==null||l.onFetch(_),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=_.fetchOptions)==null?void 0:u.meta)){var S;this.dispatch({type:"fetch",meta:(S=_.fetchOptions)==null?void 0:S.meta})}const j=v=>{if(oc(v)&&v.silent||this.dispatch({type:"error",error:v}),!oc(v)){var A,b,N,w;(A=(b=this.cache.config).onError)==null||A.call(b,v,this),(N=(w=this.cache.config).onSettled)==null||N.call(w,this.state.data,v,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Bh({fn:_.fetchFn,abort:f?.abort.bind(f),onSuccess:v=>{var A,b,N,w;if(typeof v>"u"){j(new Error(this.queryHash+" data is undefined"));return}this.setData(v),(A=(b=this.cache.config).onSuccess)==null||A.call(b,v,this),(N=(w=this.cache.config).onSettled)==null||N.call(w,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:j,onFail:(v,A)=>{this.dispatch({type:"failed",failureCount:v,error:A})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay,networkMode:_.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(a){const s=l=>{var u,d;switch(a.type){case"failed":return{...l,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(u=a.meta)!=null?u:null,fetchStatus:_c(this.options.networkMode)?"fetching":"paused",...!l.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...l,data:a.data,dataUpdateCount:l.dataUpdateCount+1,dataUpdatedAt:(d=a.dataUpdatedAt)!=null?d:Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const f=a.error;return oc(f)&&f.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...l,error:f,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:f,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...a.state}}};this.state=s(this.state),Vt.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate(a)}),this.cache.notify({query:this,type:"updated",action:a})})}}function Rm(o){const a=typeof o.initialData=="function"?o.initialData():o.initialData,s=typeof a<"u",l=s?typeof o.initialDataUpdatedAt=="function"?o.initialDataUpdatedAt():o.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:s?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"loading",fetchStatus:"idle"}}class Dm extends po{constructor(a){super(),this.config=a||{},this.queries=[],this.queriesMap={}}build(a,s,l){var u;const d=s.queryKey,f=(u=s.queryHash)!=null?u:jc(d,s);let p=this.get(f);return p||(p=new Im({cache:this,logger:a.getLogger(),queryKey:d,queryHash:f,options:a.defaultQueryOptions(s),state:l,defaultOptions:a.getQueryDefaults(d)}),this.add(p)),p}add(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"added",query:a}))}remove(a){const s=this.queriesMap[a.queryHash];s&&(a.destroy(),this.queries=this.queries.filter(l=>l!==a),s===a&&delete this.queriesMap[a.queryHash],this.notify({type:"removed",query:a}))}clear(){Vt.batch(()=>{this.queries.forEach(a=>{this.remove(a)})})}get(a){return this.queriesMap[a]}getAll(){return this.queries}find(a,s){const[l]=Un(a,s);return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(u=>Wd(l,u))}findAll(a,s){const[l]=Un(a,s);return Object.keys(l).length>0?this.queries.filter(u=>Wd(l,u)):this.queries}notify(a){Vt.batch(()=>{this.listeners.forEach(({listener:s})=>{s(a)})})}onFocus(){Vt.batch(()=>{this.queries.forEach(a=>{a.onFocus()})})}onOnline(){Vt.batch(()=>{this.queries.forEach(a=>{a.onOnline()})})}}class Om extends $h{constructor(a){super(),this.defaultOptions=a.defaultOptions,this.mutationId=a.mutationId,this.mutationCache=a.mutationCache,this.logger=a.logger||Cc,this.observers=[],this.state=a.state||Lm(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options={...this.defaultOptions,...a},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(a){this.dispatch({type:"setState",state:a})}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.observers=this.observers.filter(s=>s!==a),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var a,s;return(a=(s=this.retryer)==null?void 0:s.continue())!=null?a:this.execute()}async execute(){const a=()=>{var q;return this.retryer=Bh({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(ie,ne)=>{this.dispatch({type:"failed",failureCount:ie,error:ne})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(q=this.options.retry)!=null?q:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},s=this.state.status==="loading";try{var l,u,d,f,p,x,m,_;if(!s){var S,j,v,A;this.dispatch({type:"loading",variables:this.options.variables}),await((S=(j=this.mutationCache.config).onMutate)==null?void 0:S.call(j,this.state.variables,this));const ie=await((v=(A=this.options).onMutate)==null?void 0:v.call(A,this.state.variables));ie!==this.state.context&&this.dispatch({type:"loading",context:ie,variables:this.state.variables})}const q=await a();return await((l=(u=this.mutationCache.config).onSuccess)==null?void 0:l.call(u,q,this.state.variables,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,q,this.state.variables,this.state.context)),await((p=(x=this.mutationCache.config).onSettled)==null?void 0:p.call(x,q,null,this.state.variables,this.state.context,this)),await((m=(_=this.options).onSettled)==null?void 0:m.call(_,q,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:q}),q}catch(q){try{var b,N,w,C,R,L,F,H;throw await((b=(N=this.mutationCache.config).onError)==null?void 0:b.call(N,q,this.state.variables,this.state.context,this)),await((w=(C=this.options).onError)==null?void 0:w.call(C,q,this.state.variables,this.state.context)),await((R=(L=this.mutationCache.config).onSettled)==null?void 0:R.call(L,void 0,q,this.state.variables,this.state.context,this)),await((F=(H=this.options).onSettled)==null?void 0:F.call(H,void 0,q,this.state.variables,this.state.context)),q}finally{this.dispatch({type:"error",error:q})}}}dispatch(a){const s=l=>{switch(a.type){case"failed":return{...l,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"loading":return{...l,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!_c(this.options.networkMode),status:"loading",variables:a.variables};case"success":return{...l,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:a.error,failureCount:l.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"};case"setState":return{...l,...a.state}}};this.state=s(this.state),Vt.batch(()=>{this.observers.forEach(l=>{l.onMutationUpdate(a)}),this.mutationCache.notify({mutation:this,type:"updated",action:a})})}}function Lm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Mm extends po{constructor(a){super(),this.config=a||{},this.mutations=[],this.mutationId=0}build(a,s,l){const u=new Om({mutationCache:this,logger:a.getLogger(),mutationId:++this.mutationId,options:a.defaultMutationOptions(s),state:l,defaultOptions:s.mutationKey?a.getMutationDefaults(s.mutationKey):void 0});return this.add(u),u}add(a){this.mutations.push(a),this.notify({type:"added",mutation:a})}remove(a){this.mutations=this.mutations.filter(s=>s!==a),this.notify({type:"removed",mutation:a})}clear(){Vt.batch(()=>{this.mutations.forEach(a=>{this.remove(a)})})}getAll(){return this.mutations}find(a){return typeof a.exact>"u"&&(a.exact=!0),this.mutations.find(s=>qd(a,s))}findAll(a){return this.mutations.filter(s=>qd(a,s))}notify(a){Vt.batch(()=>{this.listeners.forEach(({listener:s})=>{s(a)})})}resumePausedMutations(){var a;return this.resuming=((a=this.resuming)!=null?a:Promise.resolve()).then(()=>{const s=this.mutations.filter(l=>l.state.isPaused);return Vt.batch(()=>s.reduce((l,u)=>l.then(()=>u.continue().catch(Dr)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Um(){return{onFetch:o=>{o.fetchFn=()=>{var a,s,l,u,d,f;const p=(a=o.fetchOptions)==null||(s=a.meta)==null?void 0:s.refetchPage,x=(l=o.fetchOptions)==null||(u=l.meta)==null?void 0:u.fetchMore,m=x?.pageParam,_=x?.direction==="forward",S=x?.direction==="backward",j=((d=o.state.data)==null?void 0:d.pages)||[],v=((f=o.state.data)==null?void 0:f.pageParams)||[];let A=v,b=!1;const N=H=>{Object.defineProperty(H,"signal",{enumerable:!0,get:()=>{var q;if((q=o.signal)!=null&&q.aborted)b=!0;else{var ie;(ie=o.signal)==null||ie.addEventListener("abort",()=>{b=!0})}return o.signal}})},w=o.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+o.options.queryHash+"'")),C=(H,q,ie,ne)=>(A=ne?[q,...A]:[...A,q],ne?[ie,...H]:[...H,ie]),R=(H,q,ie,ne)=>{if(b)return Promise.reject("Cancelled");if(typeof ie>"u"&&!q&&H.length)return Promise.resolve(H);const fe={queryKey:o.queryKey,pageParam:ie,meta:o.options.meta};N(fe);const pe=w(fe);return Promise.resolve(pe).then(X=>C(H,ie,X,ne))};let L;if(!j.length)L=R([]);else if(_){const H=typeof m<"u",q=H?m:Zd(o.options,j);L=R(j,H,q)}else if(S){const H=typeof m<"u",q=H?m:zm(o.options,j);L=R(j,H,q,!0)}else{A=[];const H=typeof o.options.getNextPageParam>"u";L=(p&&j[0]?p(j[0],0,j):!0)?R([],H,v[0]):Promise.resolve(C([],v[0],j[0]));for(let ie=1;ie<j.length;ie++)L=L.then(ne=>{if(p&&j[ie]?p(j[ie],ie,j):!0){const pe=H?v[ie]:Zd(o.options,ne);return R(ne,H,pe)}return Promise.resolve(C(ne,v[ie],j[ie]))})}return L.then(H=>({pages:H,pageParams:A}))}}}}function Zd(o,a){return o.getNextPageParam==null?void 0:o.getNextPageParam(a[a.length-1],a)}function zm(o,a){return o.getPreviousPageParam==null?void 0:o.getPreviousPageParam(a[0],a)}class Fm{constructor(a={}){this.queryCache=a.queryCache||new Dm,this.mutationCache=a.mutationCache||new Mm,this.logger=a.logger||Cc,this.defaultOptions=a.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=vc.subscribe(()=>{vc.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=uo.subscribe(()=>{uo.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var a,s;this.mountCount--,this.mountCount===0&&((a=this.unsubscribeFocus)==null||a.call(this),this.unsubscribeFocus=void 0,(s=this.unsubscribeOnline)==null||s.call(this),this.unsubscribeOnline=void 0)}isFetching(a,s){const[l]=Un(a,s);return l.fetchStatus="fetching",this.queryCache.findAll(l).length}isMutating(a){return this.mutationCache.findAll({...a,fetching:!0}).length}getQueryData(a,s){var l;return(l=this.queryCache.find(a,s))==null?void 0:l.state.data}ensureQueryData(a,s,l){const u=so(a,s,l),d=this.getQueryData(u.queryKey);return d?Promise.resolve(d):this.fetchQuery(u)}getQueriesData(a){return this.getQueryCache().findAll(a).map(({queryKey:s,state:l})=>{const u=l.data;return[s,u]})}setQueryData(a,s,l){const u=this.queryCache.find(a),d=u?.state.data,f=Sm(s,d);if(typeof f>"u")return;const p=so(a),x=this.defaultQueryOptions(p);return this.queryCache.build(this,x).setData(f,{...l,manual:!0})}setQueriesData(a,s,l){return Vt.batch(()=>this.getQueryCache().findAll(a).map(({queryKey:u})=>[u,this.setQueryData(u,s,l)]))}getQueryState(a,s){var l;return(l=this.queryCache.find(a,s))==null?void 0:l.state}removeQueries(a,s){const[l]=Un(a,s),u=this.queryCache;Vt.batch(()=>{u.findAll(l).forEach(d=>{u.remove(d)})})}resetQueries(a,s,l){const[u,d]=Un(a,s,l),f=this.queryCache,p={type:"active",...u};return Vt.batch(()=>(f.findAll(u).forEach(x=>{x.reset()}),this.refetchQueries(p,d)))}cancelQueries(a,s,l){const[u,d={}]=Un(a,s,l);typeof d.revert>"u"&&(d.revert=!0);const f=Vt.batch(()=>this.queryCache.findAll(u).map(p=>p.cancel(d)));return Promise.all(f).then(Dr).catch(Dr)}invalidateQueries(a,s,l){const[u,d]=Un(a,s,l);return Vt.batch(()=>{var f,p;if(this.queryCache.findAll(u).forEach(m=>{m.invalidate()}),u.refetchType==="none")return Promise.resolve();const x={...u,type:(f=(p=u.refetchType)!=null?p:u.type)!=null?f:"active"};return this.refetchQueries(x,d)})}refetchQueries(a,s,l){const[u,d]=Un(a,s,l),f=Vt.batch(()=>this.queryCache.findAll(u).filter(x=>!x.isDisabled()).map(x=>{var m;return x.fetch(void 0,{...d,cancelRefetch:(m=d?.cancelRefetch)!=null?m:!0,meta:{refetchPage:u.refetchPage}})}));let p=Promise.all(f).then(Dr);return d!=null&&d.throwOnError||(p=p.catch(Dr)),p}fetchQuery(a,s,l){const u=so(a,s,l),d=this.defaultQueryOptions(u);typeof d.retry>"u"&&(d.retry=!1);const f=this.queryCache.build(this,d);return f.isStaleByTime(d.staleTime)?f.fetch(d):Promise.resolve(f.state.data)}prefetchQuery(a,s,l){return this.fetchQuery(a,s,l).then(Dr).catch(Dr)}fetchInfiniteQuery(a,s,l){const u=so(a,s,l);return u.behavior=Um(),this.fetchQuery(u)}prefetchInfiniteQuery(a,s,l){return this.fetchInfiniteQuery(a,s,l).then(Dr).catch(Dr)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(a){this.defaultOptions=a}setQueryDefaults(a,s){const l=this.queryDefaults.find(u=>us(a)===us(u.queryKey));l?l.defaultOptions=s:this.queryDefaults.push({queryKey:a,defaultOptions:s})}getQueryDefaults(a){if(!a)return;const s=this.queryDefaults.find(l=>co(a,l.queryKey));return s?.defaultOptions}setMutationDefaults(a,s){const l=this.mutationDefaults.find(u=>us(a)===us(u.mutationKey));l?l.defaultOptions=s:this.mutationDefaults.push({mutationKey:a,defaultOptions:s})}getMutationDefaults(a){if(!a)return;const s=this.mutationDefaults.find(l=>co(a,l.mutationKey));return s?.defaultOptions}defaultQueryOptions(a){if(a!=null&&a._defaulted)return a;const s={...this.defaultOptions.queries,...this.getQueryDefaults(a?.queryKey),...a,_defaulted:!0};return!s.queryHash&&s.queryKey&&(s.queryHash=jc(s.queryKey,s)),typeof s.refetchOnReconnect>"u"&&(s.refetchOnReconnect=s.networkMode!=="always"),typeof s.useErrorBoundary>"u"&&(s.useErrorBoundary=!!s.suspense),s}defaultMutationOptions(a){return a!=null&&a._defaulted?a:{...this.defaultOptions.mutations,...this.getMutationDefaults(a?.mutationKey),...a,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var Xd=Lh(),lc={exports:{}},cc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function Bm(){if(Yd)return cc;Yd=1;var o=Fa();function a(S,j){return S===j&&(S!==0||1/S===1/j)||S!==S&&j!==j}var s=typeof Object.is=="function"?Object.is:a,l=o.useState,u=o.useEffect,d=o.useLayoutEffect,f=o.useDebugValue;function p(S,j){var v=j(),A=l({inst:{value:v,getSnapshot:j}}),b=A[0].inst,N=A[1];return d(function(){b.value=v,b.getSnapshot=j,x(b)&&N({inst:b})},[S,v,j]),u(function(){return x(b)&&N({inst:b}),S(function(){x(b)&&N({inst:b})})},[S]),f(v),v}function x(S){var j=S.getSnapshot;S=S.value;try{var v=j();return!s(S,v)}catch{return!0}}function m(S,j){return j()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:p;return cc.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:_,cc}var Jd;function $m(){return Jd||(Jd=1,lc.exports=Bm()),lc.exports}const eh=K.createContext(void 0),Hm=K.createContext(!1);function Wm(o,a){return o||(a&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=eh),window.ReactQueryClientContext):eh)}const qm=({client:o,children:a,context:s,contextSharing:l=!1})=>{K.useEffect(()=>(o.mount(),()=>{o.unmount()}),[o]);const u=Wm(s,l);return K.createElement(Hm.Provider,{value:!s&&l},K.createElement(u.Provider,{value:o},a))};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},La.apply(this,arguments)}var zn;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(zn||(zn={}));const th="popstate";function Km(o){o===void 0&&(o={});function a(l,u){let{pathname:d,search:f,hash:p}=l.location;return wc("",{pathname:d,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){return typeof u=="string"?u:ho(u)}return Gm(a,s,null,o)}function vt(o,a){if(o===!1||o===null||typeof o>"u")throw new Error(a)}function Hh(o,a){if(!o){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Vm(){return Math.random().toString(36).substr(2,8)}function rh(o,a){return{usr:o.state,key:o.key,idx:a}}function wc(o,a,s,l){return s===void 0&&(s=null),La({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof a=="string"?Qs(a):a,{state:s,key:a&&a.key||l||Vm()})}function ho(o){let{pathname:a="/",search:s="",hash:l=""}=o;return s&&s!=="?"&&(a+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(a+=l.charAt(0)==="#"?l:"#"+l),a}function Qs(o){let a={};if(o){let s=o.indexOf("#");s>=0&&(a.hash=o.substr(s),o=o.substr(0,s));let l=o.indexOf("?");l>=0&&(a.search=o.substr(l),o=o.substr(0,l)),o&&(a.pathname=o)}return a}function Gm(o,a,s,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:d=!1}=l,f=u.history,p=zn.Pop,x=null,m=_();m==null&&(m=0,f.replaceState(La({},f.state,{idx:m}),""));function _(){return(f.state||{idx:null}).idx}function S(){p=zn.Pop;let N=_(),w=N==null?null:N-m;m=N,x&&x({action:p,location:b.location,delta:w})}function j(N,w){p=zn.Push;let C=wc(b.location,N,w);m=_()+1;let R=rh(C,m),L=b.createHref(C);try{f.pushState(R,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;u.location.assign(L)}d&&x&&x({action:p,location:b.location,delta:1})}function v(N,w){p=zn.Replace;let C=wc(b.location,N,w);m=_();let R=rh(C,m),L=b.createHref(C);f.replaceState(R,"",L),d&&x&&x({action:p,location:b.location,delta:0})}function A(N){let w=u.location.origin!=="null"?u.location.origin:u.location.href,C=typeof N=="string"?N:ho(N);return C=C.replace(/ $/,"%20"),vt(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let b={get action(){return p},get location(){return o(u,f)},listen(N){if(x)throw new Error("A history only accepts one active listener");return u.addEventListener(th,S),x=N,()=>{u.removeEventListener(th,S),x=null}},createHref(N){return a(u,N)},createURL:A,encodeLocation(N){let w=A(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:j,replace:v,go(N){return f.go(N)}};return b}var nh;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(nh||(nh={}));function Qm(o,a,s){return s===void 0&&(s="/"),Zm(o,a,s)}function Zm(o,a,s,l){let u=typeof a=="string"?Qs(a):a,d=Gs(u.pathname||"/",s);if(d==null)return null;let f=Wh(o);Xm(f);let p=null;for(let x=0;p==null&&x<f.length;++x){let m=l0(d);p=i0(f[x],m)}return p}function Wh(o,a,s,l){a===void 0&&(a=[]),s===void 0&&(s=[]),l===void 0&&(l="");let u=(d,f,p)=>{let x={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};x.relativePath.startsWith("/")&&(vt(x.relativePath.startsWith(l),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(l.length));let m=Fn([l,x.relativePath]),_=s.concat(x);d.children&&d.children.length>0&&(vt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Wh(d.children,a,_,m)),!(d.path==null&&!d.index)&&a.push({path:m,score:s0(m,d.index),routesMeta:_})};return o.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))u(d,f);else for(let x of qh(d.path))u(d,f,x)}),a}function qh(o){let a=o.split("/");if(a.length===0)return[];let[s,...l]=a,u=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return u?[d,""]:[d];let f=qh(l.join("/")),p=[];return p.push(...f.map(x=>x===""?d:[d,x].join("/"))),u&&p.push(...f),p.map(x=>o.startsWith("/")&&x===""?"/":x)}function Xm(o){o.sort((a,s)=>a.score!==s.score?s.score-a.score:a0(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}const Ym=/^:[\w-]+$/,Jm=3,e0=2,t0=1,r0=10,n0=-2,sh=o=>o==="*";function s0(o,a){let s=o.split("/"),l=s.length;return s.some(sh)&&(l+=n0),a&&(l+=e0),s.filter(u=>!sh(u)).reduce((u,d)=>u+(Ym.test(d)?Jm:d===""?t0:r0),l)}function a0(o,a){return o.length===a.length&&o.slice(0,-1).every((l,u)=>l===a[u])?o[o.length-1]-a[a.length-1]:0}function i0(o,a,s){let{routesMeta:l}=o,u={},d="/",f=[];for(let p=0;p<l.length;++p){let x=l[p],m=p===l.length-1,_=d==="/"?a:a.slice(d.length)||"/",S=bc({path:x.relativePath,caseSensitive:x.caseSensitive,end:m},_),j=x.route;if(!S)return null;Object.assign(u,S.params),f.push({params:u,pathname:Fn([d,S.pathname]),pathnameBase:h0(Fn([d,S.pathnameBase])),route:j}),S.pathnameBase!=="/"&&(d=Fn([d,S.pathnameBase]))}return f}function bc(o,a){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,l]=o0(o.path,o.caseSensitive,o.end),u=a.match(s);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:l.reduce((m,_,S)=>{let{paramName:j,isOptional:v}=_;if(j==="*"){let b=p[S]||"";f=d.slice(0,d.length-b.length).replace(/(.)\/+$/,"$1")}const A=p[S];return v&&!A?m[j]=void 0:m[j]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:f,pattern:o}}function o0(o,a,s){a===void 0&&(a=!1),s===void 0&&(s=!0),Hh(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let l=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,x)=>(l.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function l0(o){try{return o.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Hh(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),o}}function Gs(o,a){if(a==="/")return o;if(!o.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=o.charAt(s);return l&&l!=="/"?null:o.slice(s)||"/"}function c0(o,a){a===void 0&&(a="/");let{pathname:s,search:l="",hash:u=""}=typeof o=="string"?Qs(o):o;return{pathname:s?s.startsWith("/")?s:u0(s,a):a,search:f0(l),hash:m0(u)}}function u0(o,a){let s=a.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function uc(o,a,s,l){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d0(o){return o.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Kh(o,a){let s=d0(o);return a?s.map((l,u)=>u===s.length-1?l.pathname:l.pathnameBase):s.map(l=>l.pathnameBase)}function Vh(o,a,s,l){l===void 0&&(l=!1);let u;typeof o=="string"?u=Qs(o):(u=La({},o),vt(!u.pathname||!u.pathname.includes("?"),uc("?","pathname","search",u)),vt(!u.pathname||!u.pathname.includes("#"),uc("#","pathname","hash",u)),vt(!u.search||!u.search.includes("#"),uc("#","search","hash",u)));let d=o===""||u.pathname==="",f=d?"/":u.pathname,p;if(f==null)p=s;else{let S=a.length-1;if(!l&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),S-=1;u.pathname=j.join("/")}p=S>=0?a[S]:"/"}let x=c0(u,p),m=f&&f!=="/"&&f.endsWith("/"),_=(d||f===".")&&s.endsWith("/");return!x.pathname.endsWith("/")&&(m||_)&&(x.pathname+="/"),x}const Fn=o=>o.join("/").replace(/\/\/+/g,"/"),h0=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),f0=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,m0=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function g0(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const Gh=["post","put","patch","delete"];new Set(Gh);const p0=["get",...Gh];new Set(p0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},Ma.apply(this,arguments)}const xo=K.createContext(null),Qh=K.createContext(null),Bn=K.createContext(null),vo=K.createContext(null),fn=K.createContext({outlet:null,matches:[],isDataRoute:!1}),Zh=K.createContext(null);function y0(o,a){let{relative:s}=a===void 0?{}:a;Ba()||vt(!1);let{basename:l,navigator:u}=K.useContext(Bn),{hash:d,pathname:f,search:p}=wo(o,{relative:s}),x=f;return l!=="/"&&(x=f==="/"?l:Fn([l,f])),u.createHref({pathname:x,search:p,hash:d})}function Ba(){return K.useContext(vo)!=null}function $a(){return Ba()||vt(!1),K.useContext(vo).location}function Xh(o){K.useContext(Bn).static||K.useLayoutEffect(o)}function Zs(){let{isDataRoute:o}=K.useContext(fn);return o?R0():x0()}function x0(){Ba()||vt(!1);let o=K.useContext(xo),{basename:a,future:s,navigator:l}=K.useContext(Bn),{matches:u}=K.useContext(fn),{pathname:d}=$a(),f=JSON.stringify(Kh(u,s.v7_relativeSplatPath)),p=K.useRef(!1);return Xh(()=>{p.current=!0}),K.useCallback(function(m,_){if(_===void 0&&(_={}),!p.current)return;if(typeof m=="number"){l.go(m);return}let S=Vh(m,JSON.parse(f),d,_.relative==="path");o==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:Fn([a,S.pathname])),(_.replace?l.replace:l.push)(S,_.state,_)},[a,l,f,d,o])}const v0=K.createContext(null);function w0(o){let a=K.useContext(fn).outlet;return a&&K.createElement(v0.Provider,{value:o},a)}function b0(){let{matches:o}=K.useContext(fn),a=o[o.length-1];return a?a.params:{}}function wo(o,a){let{relative:s}=a===void 0?{}:a,{future:l}=K.useContext(Bn),{matches:u}=K.useContext(fn),{pathname:d}=$a(),f=JSON.stringify(Kh(u,l.v7_relativeSplatPath));return K.useMemo(()=>Vh(o,JSON.parse(f),d,s==="path"),[o,f,d,s])}function k0(o,a){return S0(o,a)}function S0(o,a,s,l){Ba()||vt(!1);let{navigator:u}=K.useContext(Bn),{matches:d}=K.useContext(fn),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let x=f?f.pathnameBase:"/";f&&f.route;let m=$a(),_;if(a){var S;let N=typeof a=="string"?Qs(a):a;x==="/"||(S=N.pathname)!=null&&S.startsWith(x)||vt(!1),_=N}else _=m;let j=_.pathname||"/",v=j;if(x!=="/"){let N=x.replace(/^\//,"").split("/");v="/"+j.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=Qm(o,{pathname:v}),b=E0(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:Fn([x,u.encodeLocation?u.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?x:Fn([x,u.encodeLocation?u.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),d,s,l);return a&&b?K.createElement(vo.Provider,{value:{location:Ma({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:zn.Pop}},b):b}function N0(){let o=I0(),a=g0(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},a),s?K.createElement("pre",{style:u},s):null,null)}const j0=K.createElement(N0,null);class _0 extends K.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,s){return s.location!==a.location||s.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:s.error,location:s.location,revalidation:a.revalidation||s.revalidation}}componentDidCatch(a,s){console.error("React Router caught the following error during render",a,s)}render(){return this.state.error!==void 0?K.createElement(fn.Provider,{value:this.props.routeContext},K.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C0(o){let{routeContext:a,match:s,children:l}=o,u=K.useContext(xo);return u&&u.static&&u.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=s.route.id),K.createElement(fn.Provider,{value:a},l)}function E0(o,a,s,l){var u;if(a===void 0&&(a=[]),s===void 0&&(s=null),l===void 0&&(l=null),o==null){var d;if(!s)return null;if(s.errors)o=s.matches;else if((d=l)!=null&&d.v7_partialHydration&&a.length===0&&!s.initialized&&s.matches.length>0)o=s.matches;else return null}let f=o,p=(u=s)==null?void 0:u.errors;if(p!=null){let _=f.findIndex(S=>S.route.id&&p?.[S.route.id]!==void 0);_>=0||vt(!1),f=f.slice(0,Math.min(f.length,_+1))}let x=!1,m=-1;if(s&&l&&l.v7_partialHydration)for(let _=0;_<f.length;_++){let S=f[_];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=_),S.route.id){let{loaderData:j,errors:v}=s,A=S.route.loader&&j[S.route.id]===void 0&&(!v||v[S.route.id]===void 0);if(S.route.lazy||A){x=!0,m>=0?f=f.slice(0,m+1):f=[f[0]];break}}}return f.reduceRight((_,S,j)=>{let v,A=!1,b=null,N=null;s&&(v=p&&S.route.id?p[S.route.id]:void 0,b=S.route.errorElement||j0,x&&(m<0&&j===0?(D0("route-fallback"),A=!0,N=null):m===j&&(A=!0,N=S.route.hydrateFallbackElement||null)));let w=a.concat(f.slice(0,j+1)),C=()=>{let R;return v?R=b:A?R=N:S.route.Component?R=K.createElement(S.route.Component,null):S.route.element?R=S.route.element:R=_,K.createElement(C0,{match:S,routeContext:{outlet:_,matches:w,isDataRoute:s!=null},children:R})};return s&&(S.route.ErrorBoundary||S.route.errorElement||j===0)?K.createElement(_0,{location:s.location,revalidation:s.revalidation,component:b,error:v,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var Yh=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(Yh||{}),Jh=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(Jh||{});function T0(o){let a=K.useContext(xo);return a||vt(!1),a}function A0(o){let a=K.useContext(Qh);return a||vt(!1),a}function P0(o){let a=K.useContext(fn);return a||vt(!1),a}function ef(o){let a=P0(),s=a.matches[a.matches.length-1];return s.route.id||vt(!1),s.route.id}function I0(){var o;let a=K.useContext(Zh),s=A0(),l=ef();return a!==void 0?a:(o=s.errors)==null?void 0:o[l]}function R0(){let{router:o}=T0(Yh.UseNavigateStable),a=ef(Jh.UseNavigateStable),s=K.useRef(!1);return Xh(()=>{s.current=!0}),K.useCallback(function(u,d){d===void 0&&(d={}),s.current&&(typeof u=="number"?o.navigate(u):o.navigate(u,Ma({fromRouteId:a},d)))},[o,a])}const ah={};function D0(o,a,s){ah[o]||(ah[o]=!0)}function O0(o,a){o?.v7_startTransition,o?.v7_relativeSplatPath}function L0(o){return w0(o.context)}function gr(o){vt(!1)}function M0(o){let{basename:a="/",children:s=null,location:l,navigationType:u=zn.Pop,navigator:d,static:f=!1,future:p}=o;Ba()&&vt(!1);let x=a.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:x,navigator:d,static:f,future:Ma({v7_relativeSplatPath:!1},p)}),[x,p,d,f]);typeof l=="string"&&(l=Qs(l));let{pathname:_="/",search:S="",hash:j="",state:v=null,key:A="default"}=l,b=K.useMemo(()=>{let N=Gs(_,x);return N==null?null:{location:{pathname:N,search:S,hash:j,state:v,key:A},navigationType:u}},[x,_,S,j,v,A,u]);return b==null?null:K.createElement(Bn.Provider,{value:m},K.createElement(vo.Provider,{children:s,value:b}))}function U0(o){let{children:a,location:s}=o;return k0(kc(a),s)}new Promise(()=>{});function kc(o,a){a===void 0&&(a=[]);let s=[];return K.Children.forEach(o,(l,u)=>{if(!K.isValidElement(l))return;let d=[...a,u];if(l.type===K.Fragment){s.push.apply(s,kc(l.props.children,d));return}l.type!==gr&&vt(!1),!l.props.index||!l.props.children||vt(!1);let f={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=kc(l.props.children,d)),s.push(f)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},fo.apply(this,arguments)}function tf(o,a){if(o==null)return{};var s={},l=Object.keys(o),u,d;for(d=0;d<l.length;d++)u=l[d],!(a.indexOf(u)>=0)&&(s[u]=o[u]);return s}function z0(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function F0(o,a){return o.button===0&&(!a||a==="_self")&&!z0(o)}const B0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],H0="6";try{window.__reactRouterVersion=H0}catch{}const W0=K.createContext({isTransitioning:!1}),q0="startTransition",ih=pm[q0];function K0(o){let{basename:a,children:s,future:l,window:u}=o,d=K.useRef();d.current==null&&(d.current=Km({window:u,v5Compat:!0}));let f=d.current,[p,x]=K.useState({action:f.action,location:f.location}),{v7_startTransition:m}=l||{},_=K.useCallback(S=>{m&&ih?ih(()=>x(S)):x(S)},[x,m]);return K.useLayoutEffect(()=>f.listen(_),[f,_]),K.useEffect(()=>O0(l),[l]),K.createElement(M0,{basename:a,children:s,location:p.location,navigationType:p.action,navigator:f,future:l})}const V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=K.forwardRef(function(a,s){let{onClick:l,relative:u,reloadDocument:d,replace:f,state:p,target:x,to:m,preventScrollReset:_,viewTransition:S}=a,j=tf(a,B0),{basename:v}=K.useContext(Bn),A,b=!1;if(typeof m=="string"&&G0.test(m)&&(A=m,V0))try{let R=new URL(window.location.href),L=m.startsWith("//")?new URL(R.protocol+m):new URL(m),F=Gs(L.pathname,v);L.origin===R.origin&&F!=null?m=F+L.search+L.hash:b=!0}catch{}let N=y0(m,{relative:u}),w=X0(m,{replace:f,state:p,target:x,preventScrollReset:_,relative:u,viewTransition:S});function C(R){l&&l(R),R.defaultPrevented||w(R)}return K.createElement("a",fo({},j,{href:A||N,onClick:b||d?l:C,ref:s,target:x}))}),Q0=K.forwardRef(function(a,s){let{"aria-current":l="page",caseSensitive:u=!1,className:d="",end:f=!1,style:p,to:x,viewTransition:m,children:_}=a,S=tf(a,$0),j=wo(x,{relative:S.relative}),v=$a(),A=K.useContext(Qh),{navigator:b,basename:N}=K.useContext(Bn),w=A!=null&&Y0(j)&&m===!0,C=b.encodeLocation?b.encodeLocation(j).pathname:j.pathname,R=v.pathname,L=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;u||(R=R.toLowerCase(),L=L?L.toLowerCase():null,C=C.toLowerCase()),L&&N&&(L=Gs(L,N)||L);const F=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let H=R===C||!f&&R.startsWith(C)&&R.charAt(F)==="/",q=L!=null&&(L===C||!f&&L.startsWith(C)&&L.charAt(C.length)==="/"),ie={isActive:H,isPending:q,isTransitioning:w},ne=H?l:void 0,fe;typeof d=="function"?fe=d(ie):fe=[d,H?"active":null,q?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let pe=typeof p=="function"?p(ie):p;return K.createElement(Da,fo({},S,{"aria-current":ne,className:fe,ref:s,style:pe,to:x,viewTransition:m}),typeof _=="function"?_(ie):_)});var Sc;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(Sc||(Sc={}));var oh;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(oh||(oh={}));function Z0(o){let a=K.useContext(xo);return a||vt(!1),a}function X0(o,a){let{target:s,replace:l,state:u,preventScrollReset:d,relative:f,viewTransition:p}=a===void 0?{}:a,x=Zs(),m=$a(),_=wo(o,{relative:f});return K.useCallback(S=>{if(F0(S,s)){S.preventDefault();let j=l!==void 0?l:ho(m)===ho(_);x(o,{replace:j,state:u,preventScrollReset:d,relative:f,viewTransition:p})}},[m,x,_,l,u,s,o,d,f,p])}function Y0(o,a){a===void 0&&(a={});let s=K.useContext(W0);s==null&&vt(!1);let{basename:l}=Z0(Sc.useViewTransitionState),u=wo(o,{relative:a.relative});if(!s.isTransitioning)return!1;let d=Gs(s.currentLocation.pathname,l)||s.currentLocation.pathname,f=Gs(s.nextLocation.pathname,l)||s.nextLocation.pathname;return bc(u.pathname,f)!=null||bc(u.pathname,d)!=null}const J0="modulepreload",eg=function(o){return"/"+o},lh={},tg=function(a,s,l){let u=Promise.resolve();if(s&&s.length>0){let m=function(_){return Promise.all(_.map(S=>Promise.resolve(S).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var f=m;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),x=p?.nonce||p?.getAttribute("nonce");u=m(s.map(_=>{if(_=eg(_),_ in lh)return;lh[_]=!0;const S=_.endsWith(".css"),j=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${j}`))return;const v=document.createElement("link");if(v.rel=S?"stylesheet":J0,S||(v.as="script"),v.crossOrigin="",v.href=_,x&&v.setAttribute("nonce",x),document.head.appendChild(v),S)return new Promise((A,b)=>{v.addEventListener("load",A),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${_}`)))})}))}function d(p){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=p,window.dispatchEvent(x),!x.defaultPrevented)throw p}return u.then(p=>{for(const x of p||[])x.status==="rejected"&&d(x.reason);return a().catch(d)})};function rg(o={}){const{immediate:a=!1,onNeedRefresh:s,onOfflineReady:l,onRegistered:u,onRegisteredSW:d,onRegisterError:f}=o;let p,x;const m=async(S=!0)=>{await x};async function _(){if("serviceWorker"in navigator){if(p=await tg(async()=>{const{Workbox:S}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:S}},[]).then(({Workbox:S})=>new S("/sw.js",{scope:"/",type:"classic"})).catch(S=>{f?.(S)}),!p)return;p.addEventListener("activated",S=>{(S.isUpdate||S.isExternal)&&window.location.reload()}),p.addEventListener("installed",S=>{S.isUpdate||l?.()}),p.register({immediate:a}).then(S=>{d?d("/sw.js",S):u?.(S)}).catch(S=>{f?.(S)})}}return x=_(),m}function ng(o={}){const{immediate:a=!0,onNeedRefresh:s,onOfflineReady:l,onRegistered:u,onRegisteredSW:d,onRegisterError:f}=o,[p,x]=K.useState(!1),[m,_]=K.useState(!1),[S]=K.useState(()=>rg({immediate:a,onOfflineReady(){_(!0),l?.()},onNeedRefresh(){x(!0),s?.()},onRegistered:u,onRegisteredSW:d,onRegisterError:f}));return{needRefresh:[p,x],offlineReady:[m,_],updateServiceWorker:S}}const sg={},ch=o=>{let a;const s=new Set,l=(_,S)=>{const j=typeof _=="function"?_(a):_;if(!Object.is(j,a)){const v=a;a=S??(typeof j!="object"||j===null)?j:Object.assign({},a,j),s.forEach(A=>A(a,v))}},u=()=>a,x={setState:l,getState:u,getInitialState:()=>m,subscribe:_=>(s.add(_),()=>s.delete(_)),destroy:()=>{(sg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},m=a=o(l,u,x);return x},ag=o=>o?ch(o):ch;var dc={exports:{}},hc={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function ig(){if(uh)return hc;uh=1;var o=Fa(),a=$m();function s(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var l=typeof Object.is=="function"?Object.is:s,u=a.useSyncExternalStore,d=o.useRef,f=o.useEffect,p=o.useMemo,x=o.useDebugValue;return hc.useSyncExternalStoreWithSelector=function(m,_,S,j,v){var A=d(null);if(A.current===null){var b={hasValue:!1,value:null};A.current=b}else b=A.current;A=p(function(){function w(H){if(!C){if(C=!0,R=H,H=j(H),v!==void 0&&b.hasValue){var q=b.value;if(v(q,H))return L=q}return L=H}if(q=L,l(R,H))return q;var ie=j(H);return v!==void 0&&v(q,ie)?(R=H,q):(R=H,L=ie)}var C=!1,R,L,F=S===void 0?null:S;return[function(){return w(_())},F===null?void 0:function(){return w(F())}]},[_,S,j,v]);var N=u(m,A[0],A[1]);return f(function(){b.hasValue=!0,b.value=N},[N]),x(N),N},hc}var dh;function og(){return dh||(dh=1,dc.exports=ig()),dc.exports}var lg=og();const cg=za(lg),rf={},{useDebugValue:ug}=go,{useSyncExternalStoreWithSelector:dg}=cg;let hh=!1;const hg=o=>o;function fg(o,a=hg,s){(rf?"production":void 0)!=="production"&&s&&!hh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hh=!0);const l=dg(o.subscribe,o.getState,o.getServerState||o.getInitialState,a,s);return ug(l),l}const mg=o=>{(rf?"production":void 0)!=="production"&&typeof o!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof o=="function"?ag(o):o,s=(l,u)=>fg(a,l,u);return Object.assign(s,a),s},Ha=o=>mg,gg={};function pg(o,a){let s;try{s=o()}catch{return}return{getItem:u=>{var d;const f=x=>x===null?null:JSON.parse(x,void 0),p=(d=s.getItem(u))!=null?d:null;return p instanceof Promise?p.then(f):f(p)},setItem:(u,d)=>s.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>s.removeItem(u)}}const Ua=o=>a=>{try{const s=o(a);return s instanceof Promise?s:{then(l){return Ua(l)(s)},catch(l){return this}}}catch(s){return{then(l){return this},catch(l){return Ua(l)(s)}}}},yg=(o,a)=>(s,l,u)=>{let d={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:N=>N,version:0,merge:(N,w)=>({...w,...N}),...a},f=!1;const p=new Set,x=new Set;let m;try{m=d.getStorage()}catch{}if(!m)return o((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),s(...N)},l,u);const _=Ua(d.serialize),S=()=>{const N=d.partialize({...l()});let w;const C=_({state:N,version:d.version}).then(R=>m.setItem(d.name,R)).catch(R=>{w=R});if(w)throw w;return C},j=u.setState;u.setState=(N,w)=>{j(N,w),S()};const v=o((...N)=>{s(...N),S()},l,u);let A;const b=()=>{var N;if(!m)return;f=!1,p.forEach(C=>C(l()));const w=((N=d.onRehydrateStorage)==null?void 0:N.call(d,l()))||void 0;return Ua(m.getItem.bind(m))(d.name).then(C=>{if(C)return d.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==d.version){if(d.migrate)return d.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var R;return A=d.merge(C,(R=l())!=null?R:v),s(A,!0),S()}).then(()=>{w?.(A,void 0),f=!0,x.forEach(C=>C(A))}).catch(C=>{w?.(void 0,C)})};return u.persist={setOptions:N=>{d={...d,...N},N.getStorage&&(m=N.getStorage())},clearStorage:()=>{m?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>b(),hasHydrated:()=>f,onHydrate:N=>(p.add(N),()=>{p.delete(N)}),onFinishHydration:N=>(x.add(N),()=>{x.delete(N)})},b(),A||v},xg=(o,a)=>(s,l,u)=>{let d={storage:pg(()=>localStorage),partialize:b=>b,version:0,merge:(b,N)=>({...N,...b}),...a},f=!1;const p=new Set,x=new Set;let m=d.storage;if(!m)return o((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),s(...b)},l,u);const _=()=>{const b=d.partialize({...l()});return m.setItem(d.name,{state:b,version:d.version})},S=u.setState;u.setState=(b,N)=>{S(b,N),_()};const j=o((...b)=>{s(...b),_()},l,u);u.getInitialState=()=>j;let v;const A=()=>{var b,N;if(!m)return;f=!1,p.forEach(C=>{var R;return C((R=l())!=null?R:j)});const w=((N=d.onRehydrateStorage)==null?void 0:N.call(d,(b=l())!=null?b:j))||void 0;return Ua(m.getItem.bind(m))(d.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==d.version){if(d.migrate)return[!0,d.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var R;const[L,F]=C;if(v=d.merge(F,(R=l())!=null?R:j),s(v,!0),L)return _()}).then(()=>{w?.(v,void 0),v=l(),f=!0,x.forEach(C=>C(v))}).catch(C=>{w?.(void 0,C)})};return u.persist={setOptions:b=>{d={...d,...b},b.storage&&(m=b.storage)},clearStorage:()=>{m?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:b=>(p.add(b),()=>{p.delete(b)}),onFinishHydration:b=>(x.add(b),()=>{x.delete(b)})},d.skipHydration||A(),v||j},vg=(o,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((gg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),yg(o,a)):xg(o,a),bo=vg,nf=Ha()(bo((o,a)=>({theme:"system",systemTheme:"light",setTheme:s=>{o({theme:s});const{systemTheme:l}=a();(s==="system"?l:s)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleTheme:()=>{const{theme:s}=a(),l=s==="light"?"dark":"light";a().setTheme(l)},initializeTheme:()=>{const s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o({systemTheme:s}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",d=>{const f=d.matches?"dark":"light";o({systemTheme:f});const{theme:p}=a();p==="system"&&(f==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))});const{theme:l}=a();(l==="system"?s:l)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}}),{name:"theme-storage",partialize:o=>({theme:o.theme})}));class wg{enabled=!0;formatTimestamp(){return new Date().toISOString()}formatMessage(a){return`${a.timestamp} ${a.prefix} ${a.action}`}logWithLevel(a){if(!this.enabled)return;const s=this.formatMessage(a),l=a.level||"log";switch((l==="error"||a.action.includes("START")||a.action.includes("BEGIN"))&&console.log(`
${"=".repeat(80)}`),l){case"error":console.error(s,a.data||""),a.data?.stack&&console.error("Stack trace:",a.data.stack);break;case"warn":console.warn(s,a.data||"");break;case"info":console.info(s,a.data||"");break;default:console.log(s,a.data||"")}(l==="error"||a.action.includes("END")||a.action.includes("COMPLETE"))&&console.log(`${"=".repeat(80)}
`)}log(a,s,l){this.logWithLevel({timestamp:this.formatTimestamp(),prefix:a,action:s,data:l,level:"log"})}info(a,s,l){this.logWithLevel({timestamp:this.formatTimestamp(),prefix:a,action:s,data:l,level:"info"})}warn(a,s,l){this.logWithLevel({timestamp:this.formatTimestamp(),prefix:a,action:s,data:l,level:"warn"})}error(a,s,l){this.logWithLevel({timestamp:this.formatTimestamp(),prefix:a,action:s,data:l,level:"error"})}group(a,s,l){if(!this.enabled){l();return}console.group(`${this.formatTimestamp()} ${a} ${s}`);try{l()}finally{console.groupEnd()}}logObject(a,s,l){this.log(a,s,JSON.stringify(l,null,2))}logUrl(a,s,l){const u=typeof l=="string"?new URL(l):l,d={href:u.href,origin:u.origin,pathname:u.pathname,search:u.search,hash:u.hash,searchParams:Object.fromEntries(u.searchParams),hashParams:this.parseHashParams(u.hash)};this.group(a,`${s} - URL Details`,()=>{console.log("Full URL:",d.href),console.log("Origin:",d.origin),console.log("Pathname:",d.pathname),console.log("Search:",d.search),console.log("Hash:",d.hash),console.log("Search Params:",d.searchParams),console.log("Hash Params:",d.hashParams)})}parseHashParams(a){if(!a||a==="#")return{};const s={},u=a.substring(1).split("&");for(const d of u){const[f,p]=d.split("=");f&&(s[f]=p||"")}return s}logTokens(a,s,l){this.group(a,`${s} - Token Details`,()=>{Object.entries(l).forEach(([u,d])=>{if(u.toLowerCase().includes("token")||u.toLowerCase().includes("secret")){const f=d?`${String(d).slice(0,8)}...${String(d).slice(-8)}`:"null";console.log(`${u}:`,f)}else console.log(`${u}:`,d)})})}logSession(a,s,l){if(!l){this.warn(a,`${s} - No session data`);return}this.group(a,`${s} - Session Details`,()=>{console.log("Session exists:",!!l),console.log("User ID:",l.user?.id||"No user"),console.log("User email:",l.user?.email||"No email"),console.log("Access token:",l.access_token?`${l.access_token.slice(0,20)}...`:"No token"),console.log("Refresh token:",l.refresh_token?`${l.refresh_token.slice(0,20)}...`:"No token"),console.log("Expires at:",l.expires_at||"No expiry"),console.log("Expires in:",l.expires_in||"No expiry info")})}logApiResponse(a,s,l){this.group(a,`${s} - API Response`,()=>{l.error&&(console.error("Error:",l.error),l.error.message&&console.error("Error message:",l.error.message),l.error.status&&console.error("Error status:",l.error.status),l.error.code&&console.error("Error code:",l.error.code)),l.data&&console.log("Data:",l.data),l.session&&this.logSession(a,"Response session",l.session)})}}const ve=new wg;class bg{baseUrl;authStore;constructor(a){this.baseUrl=a,this.authStore={token:null,model:null,isValid:!1,onChange:s=>{},clear:()=>{this.authStore.token=null,this.authStore.model=null,this.authStore.isValid=!1}}}collection(a){return{create:async s=>(await fetch(`${this.baseUrl}/api/collections/${a}/records`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json(),getOne:async(s,l)=>(await fetch(`${this.baseUrl}/api/collections/${a}/records/${s}`)).json(),getList:async(s=1,l=30,u)=>(await fetch(`${this.baseUrl}/api/collections/${a}/records?page=${s}&perPage=${l}`)).json(),update:async(s,l)=>(await fetch(`${this.baseUrl}/api/collections/${a}/records/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json(),delete:async s=>(await fetch(`${this.baseUrl}/api/collections/${a}/records/${s}`,{method:"DELETE"})).ok,authWithPassword:async(s,l)=>{const u=await fetch(`${this.baseUrl}/api/collections/${a}/auth-with-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identity:s,password:l})});if(u.ok){const d=await u.json();return this.authStore.token=d.token,this.authStore.model=d.record,this.authStore.isValid=!0,d}else throw new Error("Authentication failed")},requestPasswordReset:async s=>(await fetch(`${this.baseUrl}/api/collections/${a}/request-password-reset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})})).json()}}}const sf="http://127.0.0.1:8090";ve.log("[POCKETBASE]","Initializing PocketBase client",{url:sf,environment:"production"});const Nt=new bg(sf);ve.log("[POCKETBASE]","PocketBase client created successfully");Nt.authStore.onChange((o,a)=>{ve.info("[POCKETBASE]","Low-level auth state change",{hasToken:!!o,hasRecord:!!a,userId:a?.id,userEmail:a?.email,timestamp:new Date().toISOString()}),o&&a?ve.log("[POCKETBASE]","User authenticated",{userId:a.id,email:a.email,username:a.username}):!o&&!a&&ve.log("[POCKETBASE]","User signed out")});ve.log("[POCKETBASE]","PocketBase client initialization complete",{timestamp:new Date().toISOString()});const oo=async o=>{ve.log("[POCKETBASE_AUTH_STORE]","START - convertPocketbaseUser",{userId:o.id,email:o.email,username:o.username});try{const a={id:o.id,email:o.email,username:o.username||o.email?.split("@")[0]||"User",level:o.level||1,totalXp:o.total_xp||0,coins:o.coins||100,gems:o.gems||10,createdAt:o.created||new Date().toISOString(),lastActive:o.last_active||new Date().toISOString(),preferences:o.preferences||{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}};return ve.log("[POCKETBASE_AUTH_STORE]","END - convertPocketbaseUser",a),a}catch(a){ve.error("[POCKETBASE_AUTH_STORE]","Error in convertPocketbaseUser",{error:a,stack:a instanceof Error?a.stack:void 0,userId:o.id});const s={id:o.id,email:o.email||"unknown@example.com",username:o.username||o.email?.split("@")[0]||"User",level:1,totalXp:0,coins:100,gems:10,createdAt:o.created||new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}};return ve.log("[POCKETBASE_AUTH_STORE]","END - convertPocketbaseUser (fallback)",s),s}},hn=Ha()((o,a)=>({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:null,signUp:async(s,l,u)=>{ve.log("[POCKETBASE_AUTH_STORE]","START - signUp",{email:s,username:u,passwordLength:l.length}),o({isLoading:!0,error:null});try{if(!s||!l||!u)throw new Error("Email, username and password are required");if(l.length<6)throw new Error("Password must be at least 6 characters long");ve.log("[POCKETBASE_AUTH_STORE]","Calling PocketBase create user",{email:s,username:u});const d={username:u,email:s,password:l,passwordConfirm:l,level:1,total_xp:0,coins:100,gems:10,last_active:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}},f=await Nt.collection("users").create(d);ve.log("[POCKETBASE_AUTH_STORE]","User created successfully",{userId:f.id});const p=await Nt.collection("users").authWithPassword(s,l);ve.log("[POCKETBASE_AUTH_STORE]","SignUp with auth successful",{userId:p.record.id,hasToken:!!p.token});const x=await oo(p.record);o({user:x,session:p,isAuthenticated:!0,isLoading:!1,error:null})}catch(d){ve.error("[POCKETBASE_AUTH_STORE]","SignUp error",{error:d,stack:d instanceof Error?d.stack:void 0});let f="Registration failed";d instanceof Error&&(d.message.includes("username")?f="Username already exists or is invalid":d.message.includes("email")?f="Email already exists or is invalid":f=d.message),o({error:f,isLoading:!1})}ve.log("[POCKETBASE_AUTH_STORE]","END - signUp")},signIn:async(s,l)=>{ve.log("[POCKETBASE_AUTH_STORE]","START - signIn",{email:s,passwordLength:l.length,isDemoLogin:s==="demo"||s===""}),o({isLoading:!0,error:null});const u=setTimeout(()=>{ve.warn("[POCKETBASE_AUTH_STORE]","SignIn timeout reached"),o({isLoading:!1,error:"Login timed out. Please try again."})},1e4);try{if(s==="demo"||s===""){ve.info("[POCKETBASE_AUTH_STORE]","Demo login detected");const f={id:"demo-user",email:"demo@studymaster.app",username:"DemoUser",level:5,totalXp:2500,coins:150,gems:25,createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}};clearTimeout(u),ve.log("[POCKETBASE_AUTH_STORE]","Setting demo user state"),o({user:f,session:null,isAuthenticated:!0,isLoading:!1,error:null}),ve.log("[POCKETBASE_AUTH_STORE]","END - signIn (demo user)");return}ve.log("[POCKETBASE_AUTH_STORE]","Attempting PocketBase authWithPassword");let d;try{d=await Nt.collection("users").authWithPassword(s,l)}catch{ve.log("[POCKETBASE_AUTH_STORE]","Email login failed, trying username"),d=await Nt.collection("users").authWithPassword(s,l)}if(ve.log("[POCKETBASE_AUTH_STORE]","SignIn response",{hasRecord:!!d.record,hasToken:!!d.token,userId:d.record?.id}),d.record&&d.token){ve.log("[POCKETBASE_AUTH_STORE]","SignIn successful, converting user profile");const f=await oo(d.record);try{await Nt.collection("users").update(d.record.id,{last_active:new Date().toISOString()}),ve.log("[POCKETBASE_AUTH_STORE]","Updated last active time")}catch(p){ve.warn("[POCKETBASE_AUTH_STORE]","Could not update last active time",{error:p})}clearTimeout(u),ve.log("[POCKETBASE_AUTH_STORE]","Setting authenticated state after signin"),o({user:f,session:d,isAuthenticated:!0,isLoading:!1,error:null}),ve.log("[POCKETBASE_AUTH_STORE]","END - signIn (success)")}else ve.warn("[POCKETBASE_AUTH_STORE]","No user or token in response"),clearTimeout(u),o({error:"Invalid login response - no user or token",isLoading:!1})}catch(d){ve.error("[POCKETBASE_AUTH_STORE]","SignIn error",{error:d,stack:d instanceof Error?d.stack:void 0}),clearTimeout(u);let f="Login failed";d instanceof Error&&(d.message.includes("Failed to authenticate")?f="Invalid email/username or password. Please check your credentials and try again.":d.message.includes("Too many requests")?f="Too many login attempts. Please wait a moment and try again.":f=d.message),o({error:f,isLoading:!1})}ve.log("[POCKETBASE_AUTH_STORE]","END - signIn")},signOut:async()=>{ve.log("[POCKETBASE_AUTH_STORE]","START - signOut");try{ve.log("[POCKETBASE_AUTH_STORE]","Calling PocketBase authStore.clear"),Nt.authStore.clear(),ve.log("[POCKETBASE_AUTH_STORE]","Clearing auth state"),o({user:null,session:null,isAuthenticated:!1,error:null}),ve.log("[POCKETBASE_AUTH_STORE]","END - signOut (success)")}catch(s){ve.error("[POCKETBASE_AUTH_STORE]","SignOut error",{error:s,stack:s instanceof Error?s.stack:void 0}),o({error:s instanceof Error?s.message:"Logout failed"})}},resetPassword:async s=>{ve.log("[POCKETBASE_AUTH_STORE]","START - resetPassword",{email:s}),o({isLoading:!0,error:null});try{await Nt.collection("users").requestPasswordReset(s),o({isLoading:!1,error:null}),ve.log("[POCKETBASE_AUTH_STORE]","END - resetPassword (success)")}catch(l){ve.error("[POCKETBASE_AUTH_STORE]","Reset password error",{error:l,stack:l instanceof Error?l.stack:void 0});let u="Password reset failed";l instanceof Error&&(l.message.includes("Invalid email")?u="Please enter a valid email address.":l.message.includes("not found")?u="No account found with this email address.":u=l.message),o({error:u,isLoading:!1})}},updatePassword:async s=>{ve.log("[POCKETBASE_AUTH_STORE]","START - updatePassword",{passwordLength:s.length});const l=a();ve.log("[POCKETBASE_AUTH_STORE]","Current auth state",{hasUser:!!l.user,hasSession:!!l.session,isAuthenticated:l.isAuthenticated}),o({isLoading:!0,error:null});try{if(!s||s.length<6)throw new Error("Password must be at least 6 characters long.");if(!l.user?.id)throw new Error("No authenticated user found");ve.log("[POCKETBASE_AUTH_STORE]","Calling pb.collection.update"),await Nt.collection("users").update(l.user.id,{password:s,passwordConfirm:s}),ve.log("[POCKETBASE_AUTH_STORE]","Password update successful"),o({isLoading:!1,error:null}),ve.log("[POCKETBASE_AUTH_STORE]","END - updatePassword (success)")}catch(u){const d=u instanceof Error?u.message:"An unknown error occurred during password update.";throw ve.error("[POCKETBASE_AUTH_STORE]","UpdatePassword failed",{error:d,errorType:u?.constructor?.name,stack:u instanceof Error?u.stack:void 0}),o({isLoading:!1,error:d}),new Error(d)}},updateProfile:async s=>{const{user:l}=a();if(ve.log("[POCKETBASE_AUTH_STORE]","START - updateProfile",{userId:l?.id,updates:Object.keys(s)}),!l){ve.warn("[POCKETBASE_AUTH_STORE]","No user found for profile update");return}try{const u={username:s.username,level:s.level,total_xp:s.totalXp,coins:s.coins,gems:s.gems,preferences:s.preferences,last_active:new Date().toISOString()};ve.log("[POCKETBASE_AUTH_STORE]","Updating profile in database",u),await Nt.collection("users").update(l.id,u),ve.log("[POCKETBASE_AUTH_STORE]","Updating local user state"),o({user:{...l,...s}}),ve.log("[POCKETBASE_AUTH_STORE]","END - updateProfile (success)")}catch(u){ve.error("[POCKETBASE_AUTH_STORE]","Profile update error",{error:u,stack:u instanceof Error?u.stack:void 0}),o({error:u instanceof Error?u.message:"Profile update failed"})}},clearError:()=>{ve.log("[POCKETBASE_AUTH_STORE]","Clearing error state"),o({error:null})},initializeAuth:async()=>{ve.log("[POCKETBASE_AUTH_STORE]","START - initializeAuth");try{if(Nt.authStore.isValid&&Nt.authStore.model){ve.log("[POCKETBASE_AUTH_STORE]","Valid auth store found, converting user",{userId:Nt.authStore.model.id,email:Nt.authStore.model.email});const s=await oo(Nt.authStore.model);ve.log("[POCKETBASE_AUTH_STORE]","Setting authenticated state from initialization"),o({user:s,session:{record:Nt.authStore.model,token:Nt.authStore.token},isAuthenticated:!0})}else ve.info("[POCKETBASE_AUTH_STORE]","No valid auth store found during initialization");ve.log("[POCKETBASE_AUTH_STORE]","END - initializeAuth")}catch(s){ve.error("[POCKETBASE_AUTH_STORE]","Auth initialization error",{error:s,stack:s instanceof Error?s.stack:void 0}),o({user:null,session:null,isAuthenticated:!1})}}}));Nt.authStore.onChange((o,a)=>{ve.info("[POCKETBASE_AUTH_STORE]","Auth state change detected",{hasToken:!!o,hasRecord:!!a,userId:a?.id,timestamp:new Date().toISOString()}),o&&a?(ve.log("[POCKETBASE_AUTH_STORE]","Processing auth state change - user logged in"),oo(a).then(s=>{ve.log("[POCKETBASE_AUTH_STORE]","Updating auth store for logged in user"),hn.setState({user:s,session:{record:a,token:o},isAuthenticated:!0})}).catch(s=>{ve.error("[POCKETBASE_AUTH_STORE]","Failed to convert user during auth change",{error:s,userId:a.id})})):(ve.log("[POCKETBASE_AUTH_STORE]","Processing auth state change - user logged out"),hn.setState({user:null,session:null,isAuthenticated:!1}))});const mn=Ha()(bo((o,a)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async(s,l)=>{ve.log("[AUTH_STORE]","START - login (primary store)",{email:s,passwordLength:l.length}),o({isLoading:!0,error:null});try{if(s==="demo"||s===""){ve.info("[AUTH_STORE]","Demo login detected in primary store");const u={id:"demo-user",email:"demo@studymaster.app",username:"DemoUser",level:5,totalXp:2500,coins:150,gems:25,createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}};localStorage.setItem("authToken","demo-token"),o({user:u,isAuthenticated:!0,isLoading:!1,error:null});return}try{ve.log("[AUTH_STORE]","Attempting PocketBase authentication"),await hn.getState().signIn(s,l);const d=hn.getState();if(d.isAuthenticated&&d.user){ve.log("[AUTH_STORE]","PocketBase auth successful, syncing to primary store"),o({user:d.user,isAuthenticated:!0,isLoading:!1,error:null});return}else if(d.error)throw new Error(d.error)}catch(u){ve.warn("[AUTH_STORE]","PocketBase authentication failed, trying fallback",{error:u});const d=JSON.parse(localStorage.getItem("registeredUsers")||"{}"),f=d[s.toLowerCase()];if(!f||f.password!==l)throw new Error("Invalid email or password");ve.log("[AUTH_STORE]","Local storage authentication successful"),f.lastActive=new Date().toISOString(),d[s.toLowerCase()]=f,localStorage.setItem("registeredUsers",JSON.stringify(d));const p="local-token-"+f.id;localStorage.setItem("authToken",p);const{password:x,...m}=f;o({user:m,isAuthenticated:!0,isLoading:!1,error:null})}}catch(u){ve.error("[AUTH_STORE]","All authentication methods failed",{error:u,stack:u instanceof Error?u.stack:void 0}),o({error:u instanceof Error?u.message:"Login failed",isLoading:!1})}ve.log("[AUTH_STORE]","END - login")},register:async(s,l,u)=>{ve.log("[AUTH_STORE]","START - register (primary store)",{email:s,username:l,passwordLength:u.length}),o({isLoading:!0,error:null});try{if(!s||!u||!l)throw new Error("Email, username and password are required");if(u.length<6)throw new Error("Password must be at least 6 characters long");try{ve.log("[AUTH_STORE]","Attempting PocketBase registration"),await hn.getState().signUp(s,u,l);const f=hn.getState();if(f.isAuthenticated&&f.user){ve.log("[AUTH_STORE]","PocketBase registration successful, syncing to primary store"),o({user:f.user,isAuthenticated:!0,isLoading:!1,error:null});return}else if(f.error)throw new Error(f.error)}catch(d){ve.warn("[AUTH_STORE]","PocketBase registration failed, trying fallback",{error:d});const f=JSON.parse(localStorage.getItem("registeredUsers")||"{}");if(f[s.toLowerCase()])throw new Error("User with this email already exists");ve.log("[AUTH_STORE]","Creating user in local storage");const p={id:Date.now().toString(),email:s.toLowerCase(),username:l,level:1,totalXp:0,coins:100,gems:10,createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}};f[s.toLowerCase()]={...p,password:u},localStorage.setItem("registeredUsers",JSON.stringify(f));const x="local-token-"+p.id;localStorage.setItem("authToken",x),o({user:p,isAuthenticated:!0,isLoading:!1,error:null})}}catch(d){ve.error("[AUTH_STORE]","All registration methods failed",{error:d,stack:d instanceof Error?d.stack:void 0}),o({error:d instanceof Error?d.message:"Registration failed",isLoading:!1})}ve.log("[AUTH_STORE]","END - register")},logout:()=>{ve.log("[AUTH_STORE]","START - logout (primary store)");try{hn.getState().signOut(),ve.log("[AUTH_STORE]","PocketBase logout successful")}catch(s){ve.warn("[AUTH_STORE]","PocketBase logout failed",{error:s})}localStorage.removeItem("authToken"),o({user:null,isAuthenticated:!1,error:null}),ve.log("[AUTH_STORE]","END - logout")},updateUser:s=>{const{user:l}=a();l&&o({user:{...l,...s}})},clearError:()=>{o({error:null})},initializeAuth:async()=>{ve.log("[AUTH_STORE]","START - initializeAuth (primary store)");const s=localStorage.getItem("authToken"),{user:l,isAuthenticated:u}=a();if(l&&u){ve.log("[AUTH_STORE]","User already authenticated from persist storage");return}try{ve.log("[AUTH_STORE]","Attempting PocketBase auth initialization"),await hn.getState().initializeAuth();const f=hn.getState();if(f.isAuthenticated&&f.user){ve.log("[AUTH_STORE]","PocketBase auth initialized, syncing to primary store"),o({user:f.user,isAuthenticated:!0});return}}catch(d){ve.warn("[AUTH_STORE]","PocketBase initialization failed, trying fallback",{error:d})}s?(ve.log("[AUTH_STORE]","Checking local storage token",{tokenType:s.split("-")[0],hasToken:!!s}),s==="demo-token"?(ve.log("[AUTH_STORE]","Demo token found, setting demo user"),o({isAuthenticated:!0,user:{id:"demo-user",email:"demo@studymaster.app",username:"DemoUser",level:5,totalXp:2500,coins:150,gems:25,createdAt:new Date().toISOString(),lastActive:new Date().toISOString(),preferences:{theme:"system",language:"en",notifications:!0,soundEffects:!0,dailyGoal:50,timezone:"UTC"}}})):s.startsWith("local-token-")||s.startsWith("mock-token-")?l?ve.log("[AUTH_STORE]","Local token and user data found, maintaining auth state"):(ve.warn("[AUTH_STORE]","Local token found but no user data, clearing token"),localStorage.removeItem("authToken"),o({isAuthenticated:!1,user:null})):(ve.warn("[AUTH_STORE]","Unknown token found, clearing"),localStorage.removeItem("authToken"),o({isAuthenticated:!1,user:null}))):ve.log("[AUTH_STORE]","No token found, user not authenticated"),ve.log("[AUTH_STORE]","END - initializeAuth")}}),{name:"auth-storage",partialize:o=>({user:o.user,isAuthenticated:o.isAuthenticated}),onRehydrateStorage:()=>o=>{o&&localStorage.getItem("authToken")&&!o.user&&o.initializeAuth()}})),kg=({onMenuClick:o})=>{const{theme:a,toggleTheme:s}=nf(),{user:l,logout:u}=mn();return r.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:o,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),r.jsx("div",{className:"flex-shrink-0 flex items-center ml-4 lg:ml-0",children:r.jsx("h1",{className:"text-xl font-bold text-gradient",children:"StudyMaster"})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:s,className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:a==="dark"?r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-200",children:l?.username}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["Level ",l?.level]})]}),r.jsx("button",{onClick:u,className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",title:"Logout",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})]})})})},fc=[{id:"1",name:"First Steps",description:"Complete your first study session",icon:"🎯",category:"study_milestones",requirements:[{type:"sessions_completed",value:1,operator:"gte"}],xpReward:50,coinReward:10,isSecret:!1,rarity:"common"},{id:"2",name:"Streak Master",description:"Maintain a 7-day study streak",icon:"🔥",category:"streaks",requirements:[{type:"current_streak",value:7,operator:"gte"}],xpReward:200,coinReward:50,isSecret:!1,rarity:"rare"},{id:"3",name:"Perfect Score",description:"Get 100% accuracy in a 20+ card session",icon:"💯",category:"accuracy",requirements:[{type:"session_accuracy",value:100,operator:"eq"},{type:"session_cards",value:20,operator:"gte"}],xpReward:150,coinReward:30,isSecret:!1,rarity:"rare"},{id:"4",name:"Speed Demon",description:"Complete 50 cards in under 10 minutes",icon:"⚡",category:"special",requirements:[{type:"cards_in_session",value:50,operator:"gte"},{type:"session_time",value:600,operator:"lte"}],xpReward:300,coinReward:75,isSecret:!1,rarity:"epic"},{id:"5",name:"Scholar",description:"Study 1000 cards total",icon:"📚",category:"study_milestones",requirements:[{type:"total_cards",value:1e3,operator:"gte"}],xpReward:500,coinReward:100,isSecret:!1,rarity:"epic"},{id:"6",name:"Legend",description:"Reach level 20",icon:"👑",category:"special",requirements:[{type:"user_level",value:20,operator:"gte"}],xpReward:1e3,coinReward:500,isSecret:!1,rarity:"legendary"}],mc=[{id:"1",title:"Daily Grind",description:"Study 25 cards today",type:"daily",requirements:[{type:"cards_studied_today",target:25,description:"Study 25 cards"}],rewards:[{type:"xp",amount:50},{type:"coins",amount:10}],startDate:new Date().toISOString(),endDate:new Date(Date.now()+1440*60*1e3).toISOString(),isActive:!0,participantCount:1247},{id:"2",title:"Weekly Warrior",description:"Complete 200 cards this week",type:"weekly",requirements:[{type:"cards_studied_week",target:200,description:"Study 200 cards this week"}],rewards:[{type:"xp",amount:200},{type:"coins",amount:50},{type:"gems",amount:5}],startDate:new Date(Date.now()-4320*60*1e3).toISOString(),endDate:new Date(Date.now()+5760*60*1e3).toISOString(),isActive:!0,participantCount:892},{id:"3",title:"Accuracy Master",description:"Maintain 90%+ accuracy for 5 sessions",type:"weekly",requirements:[{type:"accuracy_sessions",target:5,description:"Complete 5 sessions with 90%+ accuracy"}],rewards:[{type:"xp",amount:300},{type:"coins",amount:75},{type:"badge",itemId:"accuracy_master"}],startDate:new Date(Date.now()-2880*60*1e3).toISOString(),endDate:new Date(Date.now()+7200*60*1e3).toISOString(),isActive:!0,participantCount:456}],gc={xp_weekly:{id:"xp_weekly",type:"xp",period:"weekly",entries:[{userId:"1",username:"DemoUser",score:2500,rank:1,change:0},{userId:"2",username:"StudyMaster",score:2350,rank:2,change:1},{userId:"3",username:"FlashcardPro",score:2200,rank:3,change:-1},{userId:"4",username:"LearnFast",score:2100,rank:4,change:2},{userId:"5",username:"MemoryKing",score:2050,rank:5,change:-1},{userId:"6",username:"QuizWhiz",score:1980,rank:6,change:0},{userId:"7",username:"CardShark",score:1920,rank:7,change:3},{userId:"8",username:"BrainBoost",score:1850,rank:8,change:-2},{userId:"9",username:"StudyBuddy",score:1800,rank:9,change:1},{userId:"10",username:"FlashGenius",score:1750,rank:10,change:-1}],updatedAt:new Date().toISOString()},streak_all_time:{id:"streak_all_time",type:"streak",period:"all_time",entries:[{userId:"2",username:"StudyMaster",score:45,rank:1,change:0},{userId:"3",username:"FlashcardPro",score:38,rank:2,change:0},{userId:"4",username:"LearnFast",score:32,rank:3,change:1},{userId:"1",username:"DemoUser",score:28,rank:4,change:-1},{userId:"5",username:"MemoryKing",score:25,rank:5,change:0},{userId:"6",username:"QuizWhiz",score:22,rank:6,change:2},{userId:"7",username:"CardShark",score:20,rank:7,change:-1},{userId:"8",username:"BrainBoost",score:18,rank:8,change:-1},{userId:"9",username:"StudyBuddy",score:15,rank:9,change:0},{userId:"10",username:"FlashGenius",score:12,rank:10,change:0}],updatedAt:new Date().toISOString()}},fh=o=>Math.floor(Math.sqrt(o/100))+1,mh=o=>Math.pow(o,2)*100,ao=()=>({totalCards:0,cardsStudiedToday:0,cardsStudiedThisWeek:0,cardsStudiedThisMonth:0,averageAccuracy:0,totalStudyTime:0,studyTimeToday:0,studyTimeThisWeek:0,decksCreated:0,decksCompleted:0,longestStreak:0,currentStreak:0,gold:0,diamonds:0,level:1,xp:0,xpToNextLevel:100}),gh=()=>({totalCards:1250,cardsStudiedToday:45,cardsStudiedThisWeek:180,cardsStudiedThisMonth:720,averageAccuracy:87.5,totalStudyTime:2400,studyTimeToday:35,studyTimeThisWeek:240,decksCreated:8,decksCompleted:3,longestStreak:28,currentStreak:12,gold:100,diamonds:10,level:8,xp:6400,xpToNextLevel:8100}),Wa=Ha()(bo((o,a)=>({userStats:ao(),isFirstTimeUser:!0,isInitialized:!1,achievements:fc,userAchievements:[],userStreak:null,activeChallenges:mc,userChallengeParticipations:[],leaderboards:gc,updateUserStats:s=>{o(l=>{const u={...l.userStats,...s};return s.xp!==void 0&&(u.level=fh(u.xp),u.xpToNextLevel=mh(u.level)),{userStats:u,isFirstTimeUser:!1,isInitialized:!0}})},addUserAchievement:s=>{const{userAchievements:l}=a();l.find(u=>u.achievementId===s)||o(u=>({userAchievements:[...u.userAchievements,{id:Date.now().toString(),userId:"1",achievementId:s,earnedAt:new Date().toISOString()}]}))},updateStreak:s=>{o(l=>({userStreak:l.userStreak?{...l.userStreak,...s}:null}))},joinChallenge:s=>{const{userChallengeParticipations:l}=a();l.find(u=>u.challengeId===s)||o(u=>({userChallengeParticipations:[...u.userChallengeParticipations,{id:Date.now().toString(),userId:"1",challengeId:s,progress:{},completed:!1,joinedAt:new Date().toISOString(),milestoneProgress:{},weeklyProgress:[],currentStreak:0,bestWeek:0}]}))},updateChallengeProgress:(s,l)=>{o(u=>({userChallengeParticipations:u.userChallengeParticipations.map(d=>d.challengeId===s?{...d,progress:{...d.progress,...l}}:d)}))},claimChallengeReward:s=>{const{activeChallenges:l,userChallengeParticipations:u}=a(),d=l.find(p=>p.id===s),f=u.find(p=>p.challengeId===s);if(d&&f&&f.completed){let p=0,x=0;d.rewards.forEach(m=>{m.type==="xp"&&m.amount?p+=m.amount:m.type==="coins"&&m.amount&&(x+=m.amount)}),o(m=>({userStats:{...m.userStats,totalCards:m.userStats.totalCards+p/10},userChallengeParticipations:m.userChallengeParticipations.filter(_=>_.challengeId!==s)}))}},initializeMockData:()=>{o({userStats:gh(),achievements:fc,activeChallenges:mc,leaderboards:gc,userAchievements:[{id:"1",userId:"1",achievementId:"1",earnedAt:new Date(Date.now()-14400*60*1e3).toISOString()},{id:"2",userId:"1",achievementId:"2",earnedAt:new Date(Date.now()-7200*60*1e3).toISOString()}],userStreak:{id:"1",userId:"1",currentStreak:12,longestStreak:28,lastStudyDate:new Date().toISOString(),freezeCount:2,createdAt:new Date(Date.now()-720*60*60*1e3).toISOString()},userChallengeParticipations:[{id:"1",userId:"1",challengeId:"1",progress:{cards_studied_today:45},completed:!0,joinedAt:new Date().toISOString(),completedAt:new Date().toISOString(),milestoneProgress:{milestone_1:!0},weeklyProgress:[],currentStreak:5,bestWeek:1},{id:"2",userId:"1",challengeId:"2",progress:{cards_studied_week:180},completed:!1,joinedAt:new Date(Date.now()-4320*60*1e3).toISOString(),milestoneProgress:{milestone_1:!0,milestone_2:!1},weeklyProgress:[{week:1,startDate:new Date(Date.now()-10080*60*1e3).toISOString(),endDate:new Date().toISOString(),progress:{cards_studied_week:180},completed:!0,completedAt:new Date().toISOString(),storyUnlocked:!0}],currentStreak:3,bestWeek:1}],isFirstTimeUser:!1,isInitialized:!0})},initializeNewUser:()=>{o({userStats:ao(),userAchievements:[],userStreak:null,userChallengeParticipations:[],isFirstTimeUser:!1,isInitialized:!0})},resetAllUserData:()=>{o({userStats:ao(),userAchievements:[],userStreak:null,userChallengeParticipations:[],isFirstTimeUser:!0,isInitialized:!0})},addCurrency:(s,l)=>{o(u=>({userStats:{...u.userStats,gold:u.userStats.gold+s,diamonds:u.userStats.diamonds+l}}))},spendCurrency:(s,l)=>{const{userStats:u}=a();return u.gold>=s&&u.diamonds>=l?(o(d=>({userStats:{...d.userStats,gold:d.userStats.gold-s,diamonds:d.userStats.diamonds-l}})),!0):!1},initializeUserData:(s=!1)=>{a().isInitialized||o(s?{userStats:gh(),achievements:fc,activeChallenges:mc,leaderboards:gc,userAchievements:[{id:"1",userId:"1",achievementId:"1",earnedAt:new Date(Date.now()-14400*60*1e3).toISOString()},{id:"2",userId:"1",achievementId:"2",earnedAt:new Date(Date.now()-7200*60*1e3).toISOString()}],userStreak:{id:"1",userId:"1",currentStreak:12,longestStreak:28,lastStudyDate:new Date().toISOString(),freezeCount:2,createdAt:new Date(Date.now()-720*60*60*1e3).toISOString()},userChallengeParticipations:[{id:"1",userId:"1",challengeId:"1",progress:{cards_studied_today:45},completed:!0,joinedAt:new Date().toISOString(),completedAt:new Date().toISOString()},{id:"2",userId:"1",challengeId:"2",progress:{cards_studied_week:180},completed:!1,joinedAt:new Date(Date.now()-4320*60*1e3).toISOString()}],isFirstTimeUser:!1,isInitialized:!0}:{userStats:ao(),userAchievements:[],userStreak:null,userChallengeParticipations:[],isFirstTimeUser:!1,isInitialized:!0})},updateMilestoneProgress:(s,l,u)=>{o(d=>({userChallengeParticipations:d.userChallengeParticipations.map(f=>f.challengeId===s?{...f,milestoneProgress:{...f.milestoneProgress,[l]:u}}:f)}))},updateWeeklyProgress:(s,l)=>{o(u=>({userChallengeParticipations:u.userChallengeParticipations.map(d=>d.challengeId===s?{...d,weeklyProgress:d.weeklyProgress?[...d.weeklyProgress.filter(f=>f.week!==l.week),l]:[l]}:d)}))},updateChallengeStreak:(s,l)=>{o(u=>({userChallengeParticipations:u.userChallengeParticipations.map(d=>d.challengeId===s?{...d,currentStreak:l}:d)}))},unlockStoryChapter:(s,l)=>{o(u=>({userChallengeParticipations:u.userChallengeParticipations.map(d=>d.challengeId===s?{...d,weeklyProgress:d.weeklyProgress?.map(f=>f.week===l?{...f,storyUnlocked:!0}:f)||[]}:d)}))},claimMilestoneReward:(s,l)=>{const{activeChallenges:u}=a();u.find(f=>f.id===s)&&o(f=>({userChallengeParticipations:f.userChallengeParticipations.map(p=>p.challengeId===s?{...p,milestoneProgress:{...p.milestoneProgress,[`${l}_claimed`]:!0}}:p)}))},contributeToCommunityGoal:(s,l)=>{console.log(`Contributing ${l} to community goal ${s}`),o(u=>({userStats:{...u.userStats}}))},awardStudyXP:(s,l)=>{let u=s;u+=l;const d=Math.floor(l/10)*10;u+=d,u>0&&o(f=>{const p=f.userStats.xp+u,x=fh(p),m=mh(x);return console.log(`🎉 XP Awarded: +${u} XP (${s} cards, ${l} correct, ${d} milestone bonus)`),console.log(`📊 Total XP: ${f.userStats.xp} → ${p} (Level ${f.userStats.level} → ${x})`),{userStats:{...f.userStats,xp:p,level:x,xpToNextLevel:m,totalCards:f.userStats.totalCards+s,cardsStudiedToday:f.userStats.cardsStudiedToday+s}}})}}),{name:"gamification-storage",partialize:o=>({userStats:o.userStats,userAchievements:o.userAchievements,userStreak:o.userStreak,userChallengeParticipations:o.userChallengeParticipations,isFirstTimeUser:o.isFirstTimeUser,isInitialized:o.isInitialized})})),Sg=({isOpen:o,onClose:a})=>{const{userStats:s}=Wa(),l=[{name:"Home",href:"/",icon:"🏠"},{name:"Study",href:"/study",icon:"📚"},{name:"Decks",href:"/decks",icon:"📋"},{name:"Global Stats",href:"/global-stats",icon:"🌍"},{name:"Profile",href:"/profile",icon:"👤"},{name:"Leaderboard",href:"/leaderboard",icon:"🏆"},{name:"Challenges",href:"/challenges",icon:"🎯"}],u=x=>x>=1e6?`${(x/1e6).toFixed(1)}M`:x>=1e3?`${(x/1e3).toFixed(1)}K`:x.toString(),d=s.level*1e3,f=(s.level+1)*1e3,p=(s.xp-d)/(f-d)*100;return r.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transform ${o?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0`,children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h1",{className:"text-xl font-bold text-gradient",children:"StudyMaster"}),r.jsx("button",{onClick:a,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("nav",{className:"flex-1 mt-8 overflow-y-auto",children:r.jsx("div",{className:"px-4 space-y-2",children:l.map(x=>r.jsxs(Q0,{to:x.href,onClick:a,className:({isActive:m})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${m?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[r.jsx("span",{className:"mr-3 text-lg",children:x.icon}),x.name]},x.name))})}),r.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"XP"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:u(s.xp)})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Streak"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[s.currentStreak," ",s.currentStreak===1?"day":"days"]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,Math.max(0,p))}%`}})}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Level ",s.level," → Level ",s.level+1]}),r.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:[u(s.xp-d)," / ",u(f-d)," XP"]})]})})]})]})},Ng=({isOpen:o,onClose:a,mode:s,onModeChange:l})=>{const[u,d]=K.useState(""),[f,p]=K.useState(""),[x,m]=K.useState(""),{login:_,register:S,isLoading:j,error:v,clearError:A,isAuthenticated:b}=mn(),[N,w]=K.useState(!1);K.useEffect(()=>{o&&A()},[o,A]),K.useEffect(()=>{A()},[s,A]);const C=F=>{A(),w(!1),l(F)},R=async F=>{F.preventDefault(),s==="login"?await _(u,x):s==="register"?await S(u,f,x):s==="forgot-password"&&(alert("Password reset functionality will be implemented soon. Please use demo login or register a new account."),w(!0))};K.useEffect(()=>{console.log("[AUTH_MODAL]","Auth state changed:",{isAuthenticated:b,isOpen:o,timestamp:new Date().toISOString()}),b&&o&&(console.log("[AUTH_MODAL]","Closing modal due to successful authentication"),a(),d(""),p(""),m(""))},[b,o,a]);const L=async()=>{try{await signIn("demo",""),a()}catch{}};return o?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:a}),r.jsx("div",{className:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4",children:s==="login"?"Sign In":s==="register"?"Create Account":"Reset Password"}),v&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:v}),N&&s==="forgot-password"&&r.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:"Password reset email sent! Check your inbox and follow the instructions to reset your password."}),r.jsxs("form",{onSubmit:R,className:"space-y-4",children:[r.jsx("div",{children:r.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:F=>d(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})}),s==="register"&&r.jsx("div",{children:r.jsx("input",{type:"text",placeholder:"Username",value:f,onChange:F=>p(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})}),s!=="forgot-password"&&r.jsx("div",{children:r.jsx("input",{type:"password",placeholder:"Password",value:x,onChange:F=>m(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})}),r.jsx("button",{type:"submit",disabled:j,className:"w-full btn btn-primary",children:j?"Loading...":s==="login"?"Sign In":s==="register"?"Create Account":"Send Reset Email"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:L,className:"w-full btn btn-secondary",disabled:j,children:"Demo Login"})}),r.jsx("div",{className:"mt-4 text-sm space-y-2",children:s==="login"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>C("register"),className:"text-blue-600 hover:text-blue-500",children:"Create one"})]}),r.jsxs("div",{children:["Forgot your password?"," ",r.jsx("button",{onClick:()=>C("forgot-password"),className:"text-blue-600 hover:text-blue-500",children:"Reset it"})]})]}):s==="register"?r.jsxs("div",{children:["Already have an account?"," ",r.jsx("button",{onClick:()=>C("login"),className:"text-blue-600 hover:text-blue-500",children:"Sign in"})]}):r.jsxs("div",{children:["Remember your password?"," ",r.jsx("button",{onClick:()=>C("login"),className:"text-blue-600 hover:text-blue-500",children:"Back to login"})]})})]})})})]})}):null},jg=()=>{const[o,a]=K.useState(!1),[s,l]=K.useState(!1),[u,d]=K.useState("login"),{isAuthenticated:f,user:p}=mn();console.log("[LAYOUT]","Layout render - Auth state:",{isAuthenticated:f,hasUser:!!p,userId:p?.id,timestamp:new Date().toISOString()});const x=()=>{d("login"),l(!0)},m=()=>{d("register"),l(!0)};return f?r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o&&r.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>a(!1)}),r.jsx(Sg,{isOpen:o,onClose:()=>a(!1)}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsx(kg,{onMenuClick:()=>a(!0)}),r.jsx("main",{className:"py-6",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx(L0,{})})})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsx("div",{className:"max-w-md w-full space-y-8 p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gradient mb-4",children:"StudyMaster"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Master your learning with spaced repetition and gamification"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{onClick:x,className:"btn btn-primary btn-lg w-full",children:"Sign In"}),r.jsx("button",{onClick:m,className:"btn btn-secondary btn-lg w-full",children:"Create Account"})]})]})})}),r.jsx(Ng,{isOpen:s,onClose:()=>l(!1),mode:u,onModeChange:d})]})};function Oa(o,a,s={type:"basic"},l=[]){return{frontContent:o,backContent:a,cardType:s,mediaRefs:l,state:"new",queue:0,due:0,ivl:0,factor:2500,reps:0,lapses:0,left:0,learningStep:0,graduationInterval:1,easyInterval:4,totalStudyTime:0,averageAnswerTime:0,flags:0,originalDue:0,originalDeck:"",xpAwarded:0,difficultyRating:3}}function io(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pc={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var ph;function _g(){return ph||(ph=1,function(o,a){(function(s){o.exports=s()})(function(){return function s(l,u,d){function f(m,_){if(!u[m]){if(!l[m]){var S=typeof io=="function"&&io;if(!_&&S)return S(m,!0);if(p)return p(m,!0);var j=new Error("Cannot find module '"+m+"'");throw j.code="MODULE_NOT_FOUND",j}var v=u[m]={exports:{}};l[m][0].call(v.exports,function(A){var b=l[m][1][A];return f(b||A)},v,v.exports,s,l,u,d)}return u[m].exports}for(var p=typeof io=="function"&&io,x=0;x<d.length;x++)f(d[x]);return f}({1:[function(s,l,u){var d=s("./utils"),f=s("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(x){for(var m,_,S,j,v,A,b,N=[],w=0,C=x.length,R=C,L=d.getTypeOf(x)!=="string";w<x.length;)R=C-w,S=L?(m=x[w++],_=w<C?x[w++]:0,w<C?x[w++]:0):(m=x.charCodeAt(w++),_=w<C?x.charCodeAt(w++):0,w<C?x.charCodeAt(w++):0),j=m>>2,v=(3&m)<<4|_>>4,A=1<R?(15&_)<<2|S>>6:64,b=2<R?63&S:64,N.push(p.charAt(j)+p.charAt(v)+p.charAt(A)+p.charAt(b));return N.join("")},u.decode=function(x){var m,_,S,j,v,A,b=0,N=0,w="data:";if(x.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,R=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===p.charAt(64)&&R--,x.charAt(x.length-2)===p.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=f.uint8array?new Uint8Array(0|R):new Array(0|R);b<x.length;)m=p.indexOf(x.charAt(b++))<<2|(j=p.indexOf(x.charAt(b++)))>>4,_=(15&j)<<4|(v=p.indexOf(x.charAt(b++)))>>2,S=(3&v)<<6|(A=p.indexOf(x.charAt(b++))),C[N++]=m,v!==64&&(C[N++]=_),A!==64&&(C[N++]=S);return C}},{"./support":30,"./utils":32}],2:[function(s,l,u){var d=s("./external"),f=s("./stream/DataWorker"),p=s("./stream/Crc32Probe"),x=s("./stream/DataLengthProbe");function m(_,S,j,v,A){this.compressedSize=_,this.uncompressedSize=S,this.crc32=j,this.compression=v,this.compressedContent=A}m.prototype={getContentWorker:function(){var _=new f(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),S=this;return _.on("end",function(){if(this.streamInfo.data_length!==S.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new f(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(_,S,j){return _.pipe(new p).pipe(new x("uncompressedSize")).pipe(S.compressWorker(j)).pipe(new x("compressedSize")).withStreamInfo("compression",S)},l.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,l,u){var d=s("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},u.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,l,u){var d=s("./utils"),f=function(){for(var p,x=[],m=0;m<256;m++){p=m;for(var _=0;_<8;_++)p=1&p?3988292384^p>>>1:p>>>1;x[m]=p}return x}();l.exports=function(p,x){return p!==void 0&&p.length?d.getTypeOf(p)!=="string"?function(m,_,S,j){var v=f,A=j+S;m^=-1;for(var b=j;b<A;b++)m=m>>>8^v[255&(m^_[b])];return-1^m}(0|x,p,p.length,0):function(m,_,S,j){var v=f,A=j+S;m^=-1;for(var b=j;b<A;b++)m=m>>>8^v[255&(m^_.charCodeAt(b))];return-1^m}(0|x,p,p.length,0):0}},{"./utils":32}],5:[function(s,l,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(s,l,u){var d=null;d=typeof Promise<"u"?Promise:s("lie"),l.exports={Promise:d}},{lie:37}],7:[function(s,l,u){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=s("pako"),p=s("./utils"),x=s("./stream/GenericWorker"),m=d?"uint8array":"array";function _(S,j){x.call(this,"FlateWorker/"+S),this._pako=null,this._pakoAction=S,this._pakoOptions=j,this.meta={}}u.magic="\b\0",p.inherits(_,x),_.prototype.processChunk=function(S){this.meta=S.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(m,S.data),!1)},_.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var S=this;this._pako.onData=function(j){S.push({data:j,meta:S.meta})}},u.compressWorker=function(S){return new _("Deflate",S)},u.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,l,u){function d(v,A){var b,N="";for(b=0;b<A;b++)N+=String.fromCharCode(255&v),v>>>=8;return N}function f(v,A,b,N,w,C){var R,L,F=v.file,H=v.compression,q=C!==m.utf8encode,ie=p.transformTo("string",C(F.name)),ne=p.transformTo("string",m.utf8encode(F.name)),fe=F.comment,pe=p.transformTo("string",C(fe)),B=p.transformTo("string",m.utf8encode(fe)),X=ne.length!==F.name.length,E=B.length!==fe.length,ce="",Te="",he="",ge=F.dir,Z=F.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};A&&!b||(Q.crc32=v.crc32,Q.compressedSize=v.compressedSize,Q.uncompressedSize=v.uncompressedSize);var I=0;A&&(I|=8),q||!X&&!E||(I|=2048);var M=0,le=0;ge&&(M|=16),w==="UNIX"?(le=798,M|=function(ae,Ce){var Re=ae;return ae||(Re=Ce?16893:33204),(65535&Re)<<16}(F.unixPermissions,ge)):(le=20,M|=function(ae){return 63&(ae||0)}(F.dosPermissions)),R=Z.getUTCHours(),R<<=6,R|=Z.getUTCMinutes(),R<<=5,R|=Z.getUTCSeconds()/2,L=Z.getUTCFullYear()-1980,L<<=4,L|=Z.getUTCMonth()+1,L<<=5,L|=Z.getUTCDate(),X&&(Te=d(1,1)+d(_(ie),4)+ne,ce+="up"+d(Te.length,2)+Te),E&&(he=d(1,1)+d(_(pe),4)+B,ce+="uc"+d(he.length,2)+he);var ue="";return ue+=`
\0`,ue+=d(I,2),ue+=H.magic,ue+=d(R,2),ue+=d(L,2),ue+=d(Q.crc32,4),ue+=d(Q.compressedSize,4),ue+=d(Q.uncompressedSize,4),ue+=d(ie.length,2),ue+=d(ce.length,2),{fileRecord:S.LOCAL_FILE_HEADER+ue+ie+ce,dirRecord:S.CENTRAL_FILE_HEADER+d(le,2)+ue+d(pe.length,2)+"\0\0\0\0"+d(M,4)+d(N,4)+ie+ce+pe}}var p=s("../utils"),x=s("../stream/GenericWorker"),m=s("../utf8"),_=s("../crc32"),S=s("../signature");function j(v,A,b,N){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=b,this.encodeFileName=N,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(j,x),j.prototype.push=function(v){var A=v.meta.percent||0,b=this.entriesCount,N=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,x.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:b?(A+100*(b-N-1))/b:100}}))},j.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var A=this.streamFiles&&!v.file.dir;if(A){var b=f(v,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},j.prototype.closedSource=function(v){this.accumulate=!1;var A=this.streamFiles&&!v.file.dir,b=f(v,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),A)this.push({data:function(N){return S.DATA_DESCRIPTOR+d(N.crc32,4)+d(N.compressedSize,4)+d(N.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},j.prototype.flush=function(){for(var v=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var b=this.bytesWritten-v,N=function(w,C,R,L,F){var H=p.transformTo("string",F(L));return S.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(w,2)+d(w,2)+d(C,4)+d(R,4)+d(H.length,2)+H}(this.dirRecords.length,b,v,this.zipComment,this.encodeFileName);this.push({data:N,meta:{percent:100}})},j.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},j.prototype.registerPrevious=function(v){this._sources.push(v);var A=this;return v.on("data",function(b){A.processChunk(b)}),v.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),v.on("error",function(b){A.error(b)}),this},j.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},j.prototype.error=function(v){var A=this._sources;if(!x.prototype.error.call(this,v))return!1;for(var b=0;b<A.length;b++)try{A[b].error(v)}catch{}return!0},j.prototype.lock=function(){x.prototype.lock.call(this);for(var v=this._sources,A=0;A<v.length;A++)v[A].lock()},l.exports=j},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,l,u){var d=s("../compressions"),f=s("./ZipFileWorker");u.generateWorker=function(p,x,m){var _=new f(x.streamFiles,m,x.platform,x.encodeFileName),S=0;try{p.forEach(function(j,v){S++;var A=function(C,R){var L=C||R,F=d[L];if(!F)throw new Error(L+" is not a valid compression method !");return F}(v.options.compression,x.compression),b=v.options.compressionOptions||x.compressionOptions||{},N=v.dir,w=v.date;v._compressWorker(A,b).withStreamInfo("file",{name:j,dir:N,date:w,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(_)}),_.entriesCount=S}catch(j){_.error(j)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,l,u){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new d;for(var p in this)typeof this[p]!="function"&&(f[p]=this[p]);return f}}(d.prototype=s("./object")).loadAsync=s("./load"),d.support=s("./support"),d.defaults=s("./defaults"),d.version="3.10.1",d.loadAsync=function(f,p){return new d().loadAsync(f,p)},d.external=s("./external"),l.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,l,u){var d=s("./utils"),f=s("./external"),p=s("./utf8"),x=s("./zipEntries"),m=s("./stream/Crc32Probe"),_=s("./nodejsUtils");function S(j){return new f.Promise(function(v,A){var b=j.decompressed.getContentWorker().pipe(new m);b.on("error",function(N){A(N)}).on("end",function(){b.streamInfo.crc32!==j.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}l.exports=function(j,v){var A=this;return v=d.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),_.isNode&&_.isStream(j)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",j,!0,v.optimizedBinaryString,v.base64).then(function(b){var N=new x(v);return N.load(b),N}).then(function(b){var N=[f.Promise.resolve(b)],w=b.files;if(v.checkCRC32)for(var C=0;C<w.length;C++)N.push(S(w[C]));return f.Promise.all(N)}).then(function(b){for(var N=b.shift(),w=N.files,C=0;C<w.length;C++){var R=w[C],L=R.fileNameStr,F=d.resolve(R.fileNameStr);A.file(F,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:v.createFolders}),R.dir||(A.file(F).unsafeOriginalName=L)}return N.zipComment.length&&(A.comment=N.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,l,u){var d=s("../utils"),f=s("../stream/GenericWorker");function p(x,m){f.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(m)}d.inherits(p,f),p.prototype._bindStream=function(x){var m=this;(this._stream=x).pause(),x.on("data",function(_){m.push({data:_,meta:{percent:0}})}).on("error",function(_){m.isPaused?this.generatedError=_:m.error(_)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},p.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},l.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,l,u){var d=s("readable-stream").Readable;function f(p,x,m){d.call(this,x),this._helper=p;var _=this;p.on("data",function(S,j){_.push(S)||_._helper.pause(),m&&m(j)}).on("error",function(S){_.emit("error",S)}).on("end",function(){_.push(null)})}s("../utils").inherits(f,d),f.prototype._read=function(){this._helper.resume()},l.exports=f},{"../utils":32,"readable-stream":16}],14:[function(s,l,u){l.exports={isNode:typeof Buffer<"u",newBufferFrom:function(d,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,f);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,f)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var f=new Buffer(d);return f.fill(0),f},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(s,l,u){function d(F,H,q){var ie,ne=p.getTypeOf(H),fe=p.extend(q||{},_);fe.date=fe.date||new Date,fe.compression!==null&&(fe.compression=fe.compression.toUpperCase()),typeof fe.unixPermissions=="string"&&(fe.unixPermissions=parseInt(fe.unixPermissions,8)),fe.unixPermissions&&16384&fe.unixPermissions&&(fe.dir=!0),fe.dosPermissions&&16&fe.dosPermissions&&(fe.dir=!0),fe.dir&&(F=w(F)),fe.createFolders&&(ie=N(F))&&C.call(this,ie,!0);var pe=ne==="string"&&fe.binary===!1&&fe.base64===!1;q&&q.binary!==void 0||(fe.binary=!pe),(H instanceof S&&H.uncompressedSize===0||fe.dir||!H||H.length===0)&&(fe.base64=!1,fe.binary=!0,H="",fe.compression="STORE",ne="string");var B=null;B=H instanceof S||H instanceof x?H:A.isNode&&A.isStream(H)?new b(F,H):p.prepareContent(F,H,fe.binary,fe.optimizedBinaryString,fe.base64);var X=new j(F,B,fe);this.files[F]=X}var f=s("./utf8"),p=s("./utils"),x=s("./stream/GenericWorker"),m=s("./stream/StreamHelper"),_=s("./defaults"),S=s("./compressedObject"),j=s("./zipObject"),v=s("./generate"),A=s("./nodejsUtils"),b=s("./nodejs/NodejsStreamInputAdapter"),N=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var H=F.lastIndexOf("/");return 0<H?F.substring(0,H):""},w=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},C=function(F,H){return H=H!==void 0?H:_.createFolders,F=w(F),this.files[F]||d.call(this,F,null,{dir:!0,createFolders:H}),this.files[F]};function R(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var L={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var H,q,ie;for(H in this.files)ie=this.files[H],(q=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&F(q,ie)},filter:function(F){var H=[];return this.forEach(function(q,ie){F(q,ie)&&H.push(ie)}),H},file:function(F,H,q){if(arguments.length!==1)return F=this.root+F,d.call(this,F,H,q),this;if(R(F)){var ie=F;return this.filter(function(fe,pe){return!pe.dir&&ie.test(fe)})}var ne=this.files[this.root+F];return ne&&!ne.dir?ne:null},folder:function(F){if(!F)return this;if(R(F))return this.filter(function(ne,fe){return fe.dir&&F.test(ne)});var H=this.root+F,q=C.call(this,H),ie=this.clone();return ie.root=q.name,ie},remove:function(F){F=this.root+F;var H=this.files[F];if(H||(F.slice(-1)!=="/"&&(F+="/"),H=this.files[F]),H&&!H.dir)delete this.files[F];else for(var q=this.filter(function(ne,fe){return fe.name.slice(0,F.length)===F}),ie=0;ie<q.length;ie++)delete this.files[q[ie].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var H,q={};try{if((q=p.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=q.type.toLowerCase(),q.compression=q.compression.toUpperCase(),q.type==="binarystring"&&(q.type="string"),!q.type)throw new Error("No output type specified.");p.checkSupport(q.type),q.platform!=="darwin"&&q.platform!=="freebsd"&&q.platform!=="linux"&&q.platform!=="sunos"||(q.platform="UNIX"),q.platform==="win32"&&(q.platform="DOS");var ie=q.comment||this.comment||"";H=v.generateWorker(this,q,ie)}catch(ne){(H=new x("error")).error(ne)}return new m(H,q.type||"string",q.mimeType)},generateAsync:function(F,H){return this.generateInternalStream(F).accumulate(H)},generateNodeStream:function(F,H){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(H)}};l.exports=L},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,l,u){l.exports=s("stream")},{stream:void 0}],17:[function(s,l,u){var d=s("./DataReader");function f(p){d.call(this,p);for(var x=0;x<this.data.length;x++)p[x]=255&p[x]}s("../utils").inherits(f,d),f.prototype.byteAt=function(p){return this.data[this.zero+p]},f.prototype.lastIndexOfSignature=function(p){for(var x=p.charCodeAt(0),m=p.charCodeAt(1),_=p.charCodeAt(2),S=p.charCodeAt(3),j=this.length-4;0<=j;--j)if(this.data[j]===x&&this.data[j+1]===m&&this.data[j+2]===_&&this.data[j+3]===S)return j-this.zero;return-1},f.prototype.readAndCheckSignature=function(p){var x=p.charCodeAt(0),m=p.charCodeAt(1),_=p.charCodeAt(2),S=p.charCodeAt(3),j=this.readData(4);return x===j[0]&&m===j[1]&&_===j[2]&&S===j[3]},f.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,x},l.exports=f},{"../utils":32,"./DataReader":18}],18:[function(s,l,u){var d=s("../utils");function f(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var x,m=0;for(this.checkOffset(p),x=this.index+p-1;x>=this.index;x--)m=(m<<8)+this.byteAt(x);return this.index+=p,m},readString:function(p){return d.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},l.exports=f},{"../utils":32}],19:[function(s,l,u){var d=s("./Uint8ArrayReader");function f(p){d.call(this,p)}s("../utils").inherits(f,d),f.prototype.readData=function(p){this.checkOffset(p);var x=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,x},l.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,l,u){var d=s("./DataReader");function f(p){d.call(this,p)}s("../utils").inherits(f,d),f.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},f.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},f.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},f.prototype.readData=function(p){this.checkOffset(p);var x=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,x},l.exports=f},{"../utils":32,"./DataReader":18}],21:[function(s,l,u){var d=s("./ArrayReader");function f(p){d.call(this,p)}s("../utils").inherits(f,d),f.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,x},l.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(s,l,u){var d=s("../utils"),f=s("../support"),p=s("./ArrayReader"),x=s("./StringReader"),m=s("./NodeBufferReader"),_=s("./Uint8ArrayReader");l.exports=function(S){var j=d.getTypeOf(S);return d.checkSupport(j),j!=="string"||f.uint8array?j==="nodebuffer"?new m(S):f.uint8array?new _(d.transformTo("uint8array",S)):new p(d.transformTo("array",S)):new x(S)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,l,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,l,u){var d=s("./GenericWorker"),f=s("../utils");function p(x){d.call(this,"ConvertWorker to "+x),this.destType=x}f.inherits(p,d),p.prototype.processChunk=function(x){this.push({data:f.transformTo(this.destType,x.data),meta:x.meta})},l.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(s,l,u){var d=s("./GenericWorker"),f=s("../crc32");function p(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(p,d),p.prototype.processChunk=function(x){this.streamInfo.crc32=f(x.data,this.streamInfo.crc32||0),this.push(x)},l.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,l,u){var d=s("../utils"),f=s("./GenericWorker");function p(x){f.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}d.inherits(p,f),p.prototype.processChunk=function(x){if(x){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+x.data.length}f.prototype.processChunk.call(this,x)},l.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(s,l,u){var d=s("../utils"),f=s("./GenericWorker");function p(x){f.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(_){m.dataIsReady=!0,m.data=_,m.max=_&&_.length||0,m.type=d.getTypeOf(_),m.isPaused||m._tickAndRepeat()},function(_){m.error(_)})}d.inherits(p,f),p.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,m);break;case"uint8array":x=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":x=this.data.slice(this.index,m)}return this.index=m,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},l.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(s,l,u){function d(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,p){return this._listeners[f].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,p){if(this._listeners[f])for(var x=0;x<this._listeners[f].length;x++)this._listeners[f][x].call(this,p)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var p=this;return f.on("data",function(x){p.processChunk(x)}),f.on("end",function(){p.end()}),f.on("error",function(x){p.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,p){return this.extraStreamInfo[f]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},l.exports=d},{}],29:[function(s,l,u){var d=s("../utils"),f=s("./ConvertWorker"),p=s("./GenericWorker"),x=s("../base64"),m=s("../support"),_=s("../external"),S=null;if(m.nodestream)try{S=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function j(A,b){return new _.Promise(function(N,w){var C=[],R=A._internalType,L=A._outputType,F=A._mimeType;A.on("data",function(H,q){C.push(H),b&&b(q)}).on("error",function(H){C=[],w(H)}).on("end",function(){try{var H=function(q,ie,ne){switch(q){case"blob":return d.newBlob(d.transformTo("arraybuffer",ie),ne);case"base64":return x.encode(ie);default:return d.transformTo(q,ie)}}(L,function(q,ie){var ne,fe=0,pe=null,B=0;for(ne=0;ne<ie.length;ne++)B+=ie[ne].length;switch(q){case"string":return ie.join("");case"array":return Array.prototype.concat.apply([],ie);case"uint8array":for(pe=new Uint8Array(B),ne=0;ne<ie.length;ne++)pe.set(ie[ne],fe),fe+=ie[ne].length;return pe;case"nodebuffer":return Buffer.concat(ie);default:throw new Error("concat : unsupported type '"+q+"'")}}(R,C),F);N(H)}catch(q){w(q)}C=[]}).resume()})}function v(A,b,N){var w=b;switch(b){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=b,this._mimeType=N,d.checkSupport(w),this._worker=A.pipe(new f(w)),A.lock()}catch(C){this._worker=new p("error"),this._worker.error(C)}}v.prototype={accumulate:function(A){return j(this,A)},on:function(A,b){var N=this;return A==="data"?this._worker.on(A,function(w){b.call(N,w.data,w.meta)}):this._worker.on(A,function(){d.delay(b,arguments,N)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new S(this,{objectMode:this._outputType!=="nodebuffer"},A)}},l.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,l,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var d=new ArrayBuffer(0);try{u.blob=new Blob([d],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(d),u.blob=f.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!s("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(s,l,u){for(var d=s("./utils"),f=s("./support"),p=s("./nodejsUtils"),x=s("./stream/GenericWorker"),m=new Array(256),_=0;_<256;_++)m[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;m[254]=m[254]=1;function S(){x.call(this,"utf-8 decode"),this.leftOver=null}function j(){x.call(this,"utf-8 encode")}u.utf8encode=function(v){return f.nodebuffer?p.newBufferFrom(v,"utf-8"):function(A){var b,N,w,C,R,L=A.length,F=0;for(C=0;C<L;C++)(64512&(N=A.charCodeAt(C)))==55296&&C+1<L&&(64512&(w=A.charCodeAt(C+1)))==56320&&(N=65536+(N-55296<<10)+(w-56320),C++),F+=N<128?1:N<2048?2:N<65536?3:4;for(b=f.uint8array?new Uint8Array(F):new Array(F),C=R=0;R<F;C++)(64512&(N=A.charCodeAt(C)))==55296&&C+1<L&&(64512&(w=A.charCodeAt(C+1)))==56320&&(N=65536+(N-55296<<10)+(w-56320),C++),N<128?b[R++]=N:(N<2048?b[R++]=192|N>>>6:(N<65536?b[R++]=224|N>>>12:(b[R++]=240|N>>>18,b[R++]=128|N>>>12&63),b[R++]=128|N>>>6&63),b[R++]=128|63&N);return b}(v)},u.utf8decode=function(v){return f.nodebuffer?d.transformTo("nodebuffer",v).toString("utf-8"):function(A){var b,N,w,C,R=A.length,L=new Array(2*R);for(b=N=0;b<R;)if((w=A[b++])<128)L[N++]=w;else if(4<(C=m[w]))L[N++]=65533,b+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&b<R;)w=w<<6|63&A[b++],C--;1<C?L[N++]=65533:w<65536?L[N++]=w:(w-=65536,L[N++]=55296|w>>10&1023,L[N++]=56320|1023&w)}return L.length!==N&&(L.subarray?L=L.subarray(0,N):L.length=N),d.applyFromCharCode(L)}(v=d.transformTo(f.uint8array?"uint8array":"array",v))},d.inherits(S,x),S.prototype.processChunk=function(v){var A=d.transformTo(f.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var b=A;(A=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),A.set(b,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var N=function(C,R){var L;for((R=R||C.length)>C.length&&(R=C.length),L=R-1;0<=L&&(192&C[L])==128;)L--;return L<0||L===0?R:L+m[C[L]]>R?L:R}(A),w=A;N!==A.length&&(f.uint8array?(w=A.subarray(0,N),this.leftOver=A.subarray(N,A.length)):(w=A.slice(0,N),this.leftOver=A.slice(N,A.length))),this.push({data:u.utf8decode(w),meta:v.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=S,d.inherits(j,x),j.prototype.processChunk=function(v){this.push({data:u.utf8encode(v.data),meta:v.meta})},u.Utf8EncodeWorker=j},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,l,u){var d=s("./support"),f=s("./base64"),p=s("./nodejsUtils"),x=s("./external");function m(b){return b}function _(b,N){for(var w=0;w<b.length;++w)N[w]=255&b.charCodeAt(w);return N}s("setimmediate"),u.newBlob=function(b,N){u.checkSupport("blob");try{return new Blob([b],{type:N})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(b),w.getBlob(N)}catch{throw new Error("Bug : can't construct the Blob.")}}};var S={stringifyByChunk:function(b,N,w){var C=[],R=0,L=b.length;if(L<=w)return String.fromCharCode.apply(null,b);for(;R<L;)N==="array"||N==="nodebuffer"?C.push(String.fromCharCode.apply(null,b.slice(R,Math.min(R+w,L)))):C.push(String.fromCharCode.apply(null,b.subarray(R,Math.min(R+w,L)))),R+=w;return C.join("")},stringifyByChar:function(b){for(var N="",w=0;w<b.length;w++)N+=String.fromCharCode(b[w]);return N},applyCanBeUsed:{uint8array:function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function j(b){var N=65536,w=u.getTypeOf(b),C=!0;if(w==="uint8array"?C=S.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=S.applyCanBeUsed.nodebuffer),C)for(;1<N;)try{return S.stringifyByChunk(b,w,N)}catch{N=Math.floor(N/2)}return S.stringifyByChar(b)}function v(b,N){for(var w=0;w<b.length;w++)N[w]=b[w];return N}u.applyFromCharCode=j;var A={};A.string={string:m,array:function(b){return _(b,new Array(b.length))},arraybuffer:function(b){return A.string.uint8array(b).buffer},uint8array:function(b){return _(b,new Uint8Array(b.length))},nodebuffer:function(b){return _(b,p.allocBuffer(b.length))}},A.array={string:j,array:m,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return p.newBufferFrom(b)}},A.arraybuffer={string:function(b){return j(new Uint8Array(b))},array:function(b){return v(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:m,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return p.newBufferFrom(new Uint8Array(b))}},A.uint8array={string:j,array:function(b){return v(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:m,nodebuffer:function(b){return p.newBufferFrom(b)}},A.nodebuffer={string:j,array:function(b){return v(b,new Array(b.length))},arraybuffer:function(b){return A.nodebuffer.uint8array(b).buffer},uint8array:function(b){return v(b,new Uint8Array(b.length))},nodebuffer:m},u.transformTo=function(b,N){if(N=N||"",!b)return N;u.checkSupport(b);var w=u.getTypeOf(N);return A[w][b](N)},u.resolve=function(b){for(var N=b.split("/"),w=[],C=0;C<N.length;C++){var R=N[C];R==="."||R===""&&C!==0&&C!==N.length-1||(R===".."?w.pop():w.push(R))}return w.join("/")},u.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":d.nodebuffer&&p.isBuffer(b)?"nodebuffer":d.uint8array&&b instanceof Uint8Array?"uint8array":d.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(b){if(!d[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(b){var N,w,C="";for(w=0;w<(b||"").length;w++)C+="\\x"+((N=b.charCodeAt(w))<16?"0":"")+N.toString(16).toUpperCase();return C},u.delay=function(b,N,w){setImmediate(function(){b.apply(w||null,N||[])})},u.inherits=function(b,N){function w(){}w.prototype=N.prototype,b.prototype=new w},u.extend=function(){var b,N,w={};for(b=0;b<arguments.length;b++)for(N in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],N)&&w[N]===void 0&&(w[N]=arguments[b][N]);return w},u.prepareContent=function(b,N,w,C,R){return x.Promise.resolve(N).then(function(L){return d.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1)&&typeof FileReader<"u"?new x.Promise(function(F,H){var q=new FileReader;q.onload=function(ie){F(ie.target.result)},q.onerror=function(ie){H(ie.target.error)},q.readAsArrayBuffer(L)}):L}).then(function(L){var F=u.getTypeOf(L);return F?(F==="arraybuffer"?L=u.transformTo("uint8array",L):F==="string"&&(R?L=f.decode(L):w&&C!==!0&&(L=function(H){return _(H,d.uint8array?new Uint8Array(H.length):new Array(H.length))}(L))),L):x.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,l,u){var d=s("./reader/readerFor"),f=s("./utils"),p=s("./signature"),x=s("./zipEntry"),m=s("./support");function _(S){this.files=[],this.loadOptions=S}_.prototype={checkSignature:function(S){if(!this.reader.readAndCheckSignature(S)){this.reader.index-=4;var j=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(j)+", expected "+f.pretty(S)+")")}},isSignature:function(S,j){var v=this.reader.index;this.reader.setIndex(S);var A=this.reader.readString(4)===j;return this.reader.setIndex(v),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var S=this.reader.readData(this.zipCommentLength),j=m.uint8array?"uint8array":"array",v=f.transformTo(j,S);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var S,j,v,A=this.zip64EndOfCentralSize-44;0<A;)S=this.reader.readInt(2),j=this.reader.readInt(4),v=this.reader.readData(j),this.zip64ExtensibleData[S]={id:S,length:j,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var S,j;for(S=0;S<this.files.length;S++)j=this.files[S],this.reader.setIndex(j.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),j.readLocalPart(this.reader),j.handleUTF8(),j.processAttributes()},readCentralDir:function(){var S;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(S=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(S);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var S=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(S<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(S);var j=S;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(S=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(S),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var A=j-v;if(0<A)this.isSignature(j,p.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(S){this.reader=d(S)},load:function(S){this.prepareReader(S),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},l.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,l,u){var d=s("./reader/readerFor"),f=s("./utils"),p=s("./compressedObject"),x=s("./crc32"),m=s("./utf8"),_=s("./compressions"),S=s("./support");function j(v,A){this.options=v,this.loadOptions=A}j.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var A,b;if(v.skip(22),this.fileNameLength=v.readInt(2),b=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(N){for(var w in _)if(Object.prototype.hasOwnProperty.call(_,w)&&_[w].magic===N)return _[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,A,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var A=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(A),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=d(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var A,b,N,w=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<w;)A=v.readInt(2),b=v.readInt(2),N=v.readData(b),this.extraFields[A]={id:A,length:b,value:N};v.setIndex(w)},handleUTF8:function(){var v=S.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var b=f.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var N=this.findExtraFieldUnicodeComment();if(N!==null)this.fileCommentStr=N;else{var w=f.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var A=d(v.value);return A.readInt(1)!==1||x(this.fileName)!==A.readInt(4)?null:m.utf8decode(A.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var A=d(v.value);return A.readInt(1)!==1||x(this.fileComment)!==A.readInt(4)?null:m.utf8decode(A.readData(v.length-5))}return null}},l.exports=j},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,l,u){function d(A,b,N){this.name=A,this.dir=N.dir,this.date=N.date,this.comment=N.comment,this.unixPermissions=N.unixPermissions,this.dosPermissions=N.dosPermissions,this._data=b,this._dataBinary=N.binary,this.options={compression:N.compression,compressionOptions:N.compressionOptions}}var f=s("./stream/StreamHelper"),p=s("./stream/DataWorker"),x=s("./utf8"),m=s("./compressedObject"),_=s("./stream/GenericWorker");d.prototype={internalStream:function(A){var b=null,N="string";try{if(!A)throw new Error("No output type specified.");var w=(N=A.toLowerCase())==="string"||N==="text";N!=="binarystring"&&N!=="text"||(N="string"),b=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(b=b.pipe(new x.Utf8EncodeWorker)),!C&&w&&(b=b.pipe(new x.Utf8DecodeWorker))}catch(R){(b=new _("error")).error(R)}return new f(b,N,"")},async:function(A,b){return this.internalStream(A).accumulate(b)},nodeStream:function(A,b){return this.internalStream(A||"nodebuffer").toNodejsStream(b)},_compressWorker:function(A,b){if(this._data instanceof m&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var N=this._decompressWorker();return this._dataBinary||(N=N.pipe(new x.Utf8EncodeWorker)),m.createWorkerFrom(N,A,b)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof _?this._data:new p(this._data)}};for(var S=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],j=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<S.length;v++)d.prototype[S[v]]=j;l.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,l,u){(function(d){var f,p,x=d.MutationObserver||d.WebKitMutationObserver;if(x){var m=0,_=new x(A),S=d.document.createTextNode("");_.observe(S,{characterData:!0}),f=function(){S.data=m=++m%2}}else if(d.setImmediate||d.MessageChannel===void 0)f="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var b=d.document.createElement("script");b.onreadystatechange=function(){A(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},d.document.documentElement.appendChild(b)}:function(){setTimeout(A,0)};else{var j=new d.MessageChannel;j.port1.onmessage=A,f=function(){j.port2.postMessage(0)}}var v=[];function A(){var b,N;p=!0;for(var w=v.length;w;){for(N=v,v=[],b=-1;++b<w;)N[b]();w=v.length}p=!1}l.exports=function(b){v.push(b)!==1||p||f()}}).call(this,typeof ro<"u"?ro:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,l,u){var d=s("immediate");function f(){}var p={},x=["REJECTED"],m=["FULFILLED"],_=["PENDING"];function S(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,w!==f&&b(this,w)}function j(w,C,R){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function v(w,C,R){d(function(){var L;try{L=C(R)}catch(F){return p.reject(w,F)}L===w?p.reject(w,new TypeError("Cannot resolve promise with itself")):p.resolve(w,L)})}function A(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function b(w,C){var R=!1;function L(q){R||(R=!0,p.reject(w,q))}function F(q){R||(R=!0,p.resolve(w,q))}var H=N(function(){C(F,L)});H.status==="error"&&L(H.value)}function N(w,C){var R={};try{R.value=w(C),R.status="success"}catch(L){R.status="error",R.value=L}return R}(l.exports=S).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(R){return C.resolve(w()).then(function(){return R})},function(R){return C.resolve(w()).then(function(){throw R})})},S.prototype.catch=function(w){return this.then(null,w)},S.prototype.then=function(w,C){if(typeof w!="function"&&this.state===m||typeof C!="function"&&this.state===x)return this;var R=new this.constructor(f);return this.state!==_?v(R,this.state===m?w:C,this.outcome):this.queue.push(new j(R,w,C)),R},j.prototype.callFulfilled=function(w){p.resolve(this.promise,w)},j.prototype.otherCallFulfilled=function(w){v(this.promise,this.onFulfilled,w)},j.prototype.callRejected=function(w){p.reject(this.promise,w)},j.prototype.otherCallRejected=function(w){v(this.promise,this.onRejected,w)},p.resolve=function(w,C){var R=N(A,C);if(R.status==="error")return p.reject(w,R.value);var L=R.value;if(L)b(w,L);else{w.state=m,w.outcome=C;for(var F=-1,H=w.queue.length;++F<H;)w.queue[F].callFulfilled(C)}return w},p.reject=function(w,C){w.state=x,w.outcome=C;for(var R=-1,L=w.queue.length;++R<L;)w.queue[R].callRejected(C);return w},S.resolve=function(w){return w instanceof this?w:p.resolve(new this(f),w)},S.reject=function(w){var C=new this(f);return p.reject(C,w)},S.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=w.length,L=!1;if(!R)return this.resolve([]);for(var F=new Array(R),H=0,q=-1,ie=new this(f);++q<R;)ne(w[q],q);return ie;function ne(fe,pe){C.resolve(fe).then(function(B){F[pe]=B,++H!==R||L||(L=!0,p.resolve(ie,F))},function(B){L||(L=!0,p.reject(ie,B))})}},S.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=w.length,L=!1;if(!R)return this.resolve([]);for(var F=-1,H=new this(f);++F<R;)q=w[F],C.resolve(q).then(function(ie){L||(L=!0,p.resolve(H,ie))},function(ie){L||(L=!0,p.reject(H,ie))});var q;return H}},{immediate:36}],38:[function(s,l,u){var d={};(0,s("./lib/utils/common").assign)(d,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),l.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,l,u){var d=s("./zlib/deflate"),f=s("./utils/common"),p=s("./utils/strings"),x=s("./zlib/messages"),m=s("./zlib/zstream"),_=Object.prototype.toString,S=0,j=-1,v=0,A=8;function b(w){if(!(this instanceof b))return new b(w);this.options=f.assign({level:j,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var R=d.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(R!==S)throw new Error(x[R]);if(C.header&&d.deflateSetHeader(this.strm,C.header),C.dictionary){var L;if(L=typeof C.dictionary=="string"?p.string2buf(C.dictionary):_.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(R=d.deflateSetDictionary(this.strm,L))!==S)throw new Error(x[R]);this._dict_set=!0}}function N(w,C){var R=new b(C);if(R.push(w,!0),R.err)throw R.msg||x[R.err];return R.result}b.prototype.push=function(w,C){var R,L,F=this.strm,H=this.options.chunkSize;if(this.ended)return!1;L=C===~~C?C:C===!0?4:0,typeof w=="string"?F.input=p.string2buf(w):_.call(w)==="[object ArrayBuffer]"?F.input=new Uint8Array(w):F.input=w,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new f.Buf8(H),F.next_out=0,F.avail_out=H),(R=d.deflate(F,L))!==1&&R!==S)return this.onEnd(R),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||L!==4&&L!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(f.shrinkBuf(F.output,F.next_out))):this.onData(f.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&R!==1);return L===4?(R=d.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===S):L!==2||(this.onEnd(S),!(F.avail_out=0))},b.prototype.onData=function(w){this.chunks.push(w)},b.prototype.onEnd=function(w){w===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},u.Deflate=b,u.deflate=N,u.deflateRaw=function(w,C){return(C=C||{}).raw=!0,N(w,C)},u.gzip=function(w,C){return(C=C||{}).gzip=!0,N(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,l,u){var d=s("./zlib/inflate"),f=s("./utils/common"),p=s("./utils/strings"),x=s("./zlib/constants"),m=s("./zlib/messages"),_=s("./zlib/zstream"),S=s("./zlib/gzheader"),j=Object.prototype.toString;function v(b){if(!(this instanceof v))return new v(b);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},b||{});var N=this.options;N.raw&&0<=N.windowBits&&N.windowBits<16&&(N.windowBits=-N.windowBits,N.windowBits===0&&(N.windowBits=-15)),!(0<=N.windowBits&&N.windowBits<16)||b&&b.windowBits||(N.windowBits+=32),15<N.windowBits&&N.windowBits<48&&(15&N.windowBits)==0&&(N.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var w=d.inflateInit2(this.strm,N.windowBits);if(w!==x.Z_OK)throw new Error(m[w]);this.header=new S,d.inflateGetHeader(this.strm,this.header)}function A(b,N){var w=new v(N);if(w.push(b,!0),w.err)throw w.msg||m[w.err];return w.result}v.prototype.push=function(b,N){var w,C,R,L,F,H,q=this.strm,ie=this.options.chunkSize,ne=this.options.dictionary,fe=!1;if(this.ended)return!1;C=N===~~N?N:N===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof b=="string"?q.input=p.binstring2buf(b):j.call(b)==="[object ArrayBuffer]"?q.input=new Uint8Array(b):q.input=b,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new f.Buf8(ie),q.next_out=0,q.avail_out=ie),(w=d.inflate(q,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&ne&&(H=typeof ne=="string"?p.string2buf(ne):j.call(ne)==="[object ArrayBuffer]"?new Uint8Array(ne):ne,w=d.inflateSetDictionary(this.strm,H)),w===x.Z_BUF_ERROR&&fe===!0&&(w=x.Z_OK,fe=!1),w!==x.Z_STREAM_END&&w!==x.Z_OK)return this.onEnd(w),!(this.ended=!0);q.next_out&&(q.avail_out!==0&&w!==x.Z_STREAM_END&&(q.avail_in!==0||C!==x.Z_FINISH&&C!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=p.utf8border(q.output,q.next_out),L=q.next_out-R,F=p.buf2string(q.output,R),q.next_out=L,q.avail_out=ie-L,L&&f.arraySet(q.output,q.output,R,L,0),this.onData(F)):this.onData(f.shrinkBuf(q.output,q.next_out)))),q.avail_in===0&&q.avail_out===0&&(fe=!0)}while((0<q.avail_in||q.avail_out===0)&&w!==x.Z_STREAM_END);return w===x.Z_STREAM_END&&(C=x.Z_FINISH),C===x.Z_FINISH?(w=d.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===x.Z_OK):C!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(q.avail_out=0))},v.prototype.onData=function(b){this.chunks.push(b)},v.prototype.onEnd=function(b){b===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},u.Inflate=v,u.inflate=A,u.inflateRaw=function(b,N){return(N=N||{}).raw=!0,A(b,N)},u.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,l,u){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(x){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var _=m.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var S in _)_.hasOwnProperty(S)&&(x[S]=_[S])}}return x},u.shrinkBuf=function(x,m){return x.length===m?x:x.subarray?x.subarray(0,m):(x.length=m,x)};var f={arraySet:function(x,m,_,S,j){if(m.subarray&&x.subarray)x.set(m.subarray(_,_+S),j);else for(var v=0;v<S;v++)x[j+v]=m[_+v]},flattenChunks:function(x){var m,_,S,j,v,A;for(m=S=0,_=x.length;m<_;m++)S+=x[m].length;for(A=new Uint8Array(S),m=j=0,_=x.length;m<_;m++)v=x[m],A.set(v,j),j+=v.length;return A}},p={arraySet:function(x,m,_,S,j){for(var v=0;v<S;v++)x[j+v]=m[_+v]},flattenChunks:function(x){return[].concat.apply([],x)}};u.setTyped=function(x){x?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,f)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,p))},u.setTyped(d)},{}],42:[function(s,l,u){var d=s("./common"),f=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var x=new d.Buf8(256),m=0;m<256;m++)x[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function _(S,j){if(j<65537&&(S.subarray&&p||!S.subarray&&f))return String.fromCharCode.apply(null,d.shrinkBuf(S,j));for(var v="",A=0;A<j;A++)v+=String.fromCharCode(S[A]);return v}x[254]=x[254]=1,u.string2buf=function(S){var j,v,A,b,N,w=S.length,C=0;for(b=0;b<w;b++)(64512&(v=S.charCodeAt(b)))==55296&&b+1<w&&(64512&(A=S.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(A-56320),b++),C+=v<128?1:v<2048?2:v<65536?3:4;for(j=new d.Buf8(C),b=N=0;N<C;b++)(64512&(v=S.charCodeAt(b)))==55296&&b+1<w&&(64512&(A=S.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(A-56320),b++),v<128?j[N++]=v:(v<2048?j[N++]=192|v>>>6:(v<65536?j[N++]=224|v>>>12:(j[N++]=240|v>>>18,j[N++]=128|v>>>12&63),j[N++]=128|v>>>6&63),j[N++]=128|63&v);return j},u.buf2binstring=function(S){return _(S,S.length)},u.binstring2buf=function(S){for(var j=new d.Buf8(S.length),v=0,A=j.length;v<A;v++)j[v]=S.charCodeAt(v);return j},u.buf2string=function(S,j){var v,A,b,N,w=j||S.length,C=new Array(2*w);for(v=A=0;v<w;)if((b=S[v++])<128)C[A++]=b;else if(4<(N=x[b]))C[A++]=65533,v+=N-1;else{for(b&=N===2?31:N===3?15:7;1<N&&v<w;)b=b<<6|63&S[v++],N--;1<N?C[A++]=65533:b<65536?C[A++]=b:(b-=65536,C[A++]=55296|b>>10&1023,C[A++]=56320|1023&b)}return _(C,A)},u.utf8border=function(S,j){var v;for((j=j||S.length)>S.length&&(j=S.length),v=j-1;0<=v&&(192&S[v])==128;)v--;return v<0||v===0?j:v+x[S[v]]>j?v:j}},{"./common":41}],43:[function(s,l,u){l.exports=function(d,f,p,x){for(var m=65535&d|0,_=d>>>16&65535|0,S=0;p!==0;){for(p-=S=2e3<p?2e3:p;_=_+(m=m+f[x++]|0)|0,--S;);m%=65521,_%=65521}return m|_<<16|0}},{}],44:[function(s,l,u){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,l,u){var d=function(){for(var f,p=[],x=0;x<256;x++){f=x;for(var m=0;m<8;m++)f=1&f?3988292384^f>>>1:f>>>1;p[x]=f}return p}();l.exports=function(f,p,x,m){var _=d,S=m+x;f^=-1;for(var j=m;j<S;j++)f=f>>>8^_[255&(f^p[j])];return-1^f}},{}],46:[function(s,l,u){var d,f=s("../utils/common"),p=s("./trees"),x=s("./adler32"),m=s("./crc32"),_=s("./messages"),S=0,j=4,v=0,A=-2,b=-1,N=4,w=2,C=8,R=9,L=286,F=30,H=19,q=2*L+1,ie=15,ne=3,fe=258,pe=fe+ne+1,B=42,X=113,E=1,ce=2,Te=3,he=4;function ge(k,de){return k.msg=_[de],de}function Z(k){return(k<<1)-(4<k?9:0)}function Q(k){for(var de=k.length;0<=--de;)k[de]=0}function I(k){var de=k.state,J=de.pending;J>k.avail_out&&(J=k.avail_out),J!==0&&(f.arraySet(k.output,de.pending_buf,de.pending_out,J,k.next_out),k.next_out+=J,de.pending_out+=J,k.total_out+=J,k.avail_out-=J,de.pending-=J,de.pending===0&&(de.pending_out=0))}function M(k,de){p._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,de),k.block_start=k.strstart,I(k.strm)}function le(k,de){k.pending_buf[k.pending++]=de}function ue(k,de){k.pending_buf[k.pending++]=de>>>8&255,k.pending_buf[k.pending++]=255&de}function ae(k,de){var J,U,O=k.max_chain_length,G=k.strstart,ye=k.prev_length,xe=k.nice_match,re=k.strstart>k.w_size-pe?k.strstart-(k.w_size-pe):0,Ne=k.window,Ie=k.w_mask,_e=k.prev,Be=k.strstart+fe,Je=Ne[G+ye-1],Ye=Ne[G+ye];k.prev_length>=k.good_match&&(O>>=2),xe>k.lookahead&&(xe=k.lookahead);do if(Ne[(J=de)+ye]===Ye&&Ne[J+ye-1]===Je&&Ne[J]===Ne[G]&&Ne[++J]===Ne[G+1]){G+=2,J++;do;while(Ne[++G]===Ne[++J]&&Ne[++G]===Ne[++J]&&Ne[++G]===Ne[++J]&&Ne[++G]===Ne[++J]&&Ne[++G]===Ne[++J]&&Ne[++G]===Ne[++J]&&Ne[++G]===Ne[++J]&&Ne[++G]===Ne[++J]&&G<Be);if(U=fe-(Be-G),G=Be-fe,ye<U){if(k.match_start=de,xe<=(ye=U))break;Je=Ne[G+ye-1],Ye=Ne[G+ye]}}while((de=_e[de&Ie])>re&&--O!=0);return ye<=k.lookahead?ye:k.lookahead}function Ce(k){var de,J,U,O,G,ye,xe,re,Ne,Ie,_e=k.w_size;do{if(O=k.window_size-k.lookahead-k.strstart,k.strstart>=_e+(_e-pe)){for(f.arraySet(k.window,k.window,_e,_e,0),k.match_start-=_e,k.strstart-=_e,k.block_start-=_e,de=J=k.hash_size;U=k.head[--de],k.head[de]=_e<=U?U-_e:0,--J;);for(de=J=_e;U=k.prev[--de],k.prev[de]=_e<=U?U-_e:0,--J;);O+=_e}if(k.strm.avail_in===0)break;if(ye=k.strm,xe=k.window,re=k.strstart+k.lookahead,Ne=O,Ie=void 0,Ie=ye.avail_in,Ne<Ie&&(Ie=Ne),J=Ie===0?0:(ye.avail_in-=Ie,f.arraySet(xe,ye.input,ye.next_in,Ie,re),ye.state.wrap===1?ye.adler=x(ye.adler,xe,Ie,re):ye.state.wrap===2&&(ye.adler=m(ye.adler,xe,Ie,re)),ye.next_in+=Ie,ye.total_in+=Ie,Ie),k.lookahead+=J,k.lookahead+k.insert>=ne)for(G=k.strstart-k.insert,k.ins_h=k.window[G],k.ins_h=(k.ins_h<<k.hash_shift^k.window[G+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[G+ne-1])&k.hash_mask,k.prev[G&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=G,G++,k.insert--,!(k.lookahead+k.insert<ne)););}while(k.lookahead<pe&&k.strm.avail_in!==0)}function Re(k,de){for(var J,U;;){if(k.lookahead<pe){if(Ce(k),k.lookahead<pe&&de===S)return E;if(k.lookahead===0)break}if(J=0,k.lookahead>=ne&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+ne-1])&k.hash_mask,J=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),J!==0&&k.strstart-J<=k.w_size-pe&&(k.match_length=ae(k,J)),k.match_length>=ne)if(U=p._tr_tally(k,k.strstart-k.match_start,k.match_length-ne),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=ne){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+ne-1])&k.hash_mask,J=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else U=p._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(U&&(M(k,!1),k.strm.avail_out===0))return E}return k.insert=k.strstart<ne-1?k.strstart:ne-1,de===j?(M(k,!0),k.strm.avail_out===0?Te:he):k.last_lit&&(M(k,!1),k.strm.avail_out===0)?E:ce}function Pe(k,de){for(var J,U,O;;){if(k.lookahead<pe){if(Ce(k),k.lookahead<pe&&de===S)return E;if(k.lookahead===0)break}if(J=0,k.lookahead>=ne&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+ne-1])&k.hash_mask,J=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=ne-1,J!==0&&k.prev_length<k.max_lazy_match&&k.strstart-J<=k.w_size-pe&&(k.match_length=ae(k,J),k.match_length<=5&&(k.strategy===1||k.match_length===ne&&4096<k.strstart-k.match_start)&&(k.match_length=ne-1)),k.prev_length>=ne&&k.match_length<=k.prev_length){for(O=k.strstart+k.lookahead-ne,U=p._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-ne),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=O&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+ne-1])&k.hash_mask,J=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=ne-1,k.strstart++,U&&(M(k,!1),k.strm.avail_out===0))return E}else if(k.match_available){if((U=p._tr_tally(k,0,k.window[k.strstart-1]))&&M(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return E}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(U=p._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<ne-1?k.strstart:ne-1,de===j?(M(k,!0),k.strm.avail_out===0?Te:he):k.last_lit&&(M(k,!1),k.strm.avail_out===0)?E:ce}function Oe(k,de,J,U,O){this.good_length=k,this.max_lazy=de,this.nice_length=J,this.max_chain=U,this.func=O}function Ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*q),this.dyn_dtree=new f.Buf16(2*(2*F+1)),this.bl_tree=new f.Buf16(2*(2*H+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(ie+1),this.heap=new f.Buf16(2*L+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*L+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(k){var de;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=w,(de=k.state).pending=0,de.pending_out=0,de.wrap<0&&(de.wrap=-de.wrap),de.status=de.wrap?B:X,k.adler=de.wrap===2?0:1,de.last_flush=S,p._tr_init(de),v):ge(k,A)}function ot(k){var de=st(k);return de===v&&function(J){J.window_size=2*J.w_size,Q(J.head),J.max_lazy_match=d[J.level].max_lazy,J.good_match=d[J.level].good_length,J.nice_match=d[J.level].nice_length,J.max_chain_length=d[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=ne-1,J.match_available=0,J.ins_h=0}(k.state),de}function je(k,de,J,U,O,G){if(!k)return A;var ye=1;if(de===b&&(de=6),U<0?(ye=0,U=-U):15<U&&(ye=2,U-=16),O<1||R<O||J!==C||U<8||15<U||de<0||9<de||G<0||N<G)return ge(k,A);U===8&&(U=9);var xe=new Ge;return(k.state=xe).strm=k,xe.wrap=ye,xe.gzhead=null,xe.w_bits=U,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=O+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+ne-1)/ne),xe.window=new f.Buf8(2*xe.w_size),xe.head=new f.Buf16(xe.hash_size),xe.prev=new f.Buf16(xe.w_size),xe.lit_bufsize=1<<O+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new f.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=de,xe.strategy=G,xe.method=J,ot(k)}d=[new Oe(0,0,0,0,function(k,de){var J=65535;for(J>k.pending_buf_size-5&&(J=k.pending_buf_size-5);;){if(k.lookahead<=1){if(Ce(k),k.lookahead===0&&de===S)return E;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var U=k.block_start+J;if((k.strstart===0||k.strstart>=U)&&(k.lookahead=k.strstart-U,k.strstart=U,M(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-pe&&(M(k,!1),k.strm.avail_out===0))return E}return k.insert=0,de===j?(M(k,!0),k.strm.avail_out===0?Te:he):(k.strstart>k.block_start&&(M(k,!1),k.strm.avail_out),E)}),new Oe(4,4,8,4,Re),new Oe(4,5,16,8,Re),new Oe(4,6,32,32,Re),new Oe(4,4,16,16,Pe),new Oe(8,16,32,32,Pe),new Oe(8,16,128,128,Pe),new Oe(8,32,128,256,Pe),new Oe(32,128,258,1024,Pe),new Oe(32,258,258,4096,Pe)],u.deflateInit=function(k,de){return je(k,de,C,15,8,0)},u.deflateInit2=je,u.deflateReset=ot,u.deflateResetKeep=st,u.deflateSetHeader=function(k,de){return k&&k.state?k.state.wrap!==2?A:(k.state.gzhead=de,v):A},u.deflate=function(k,de){var J,U,O,G;if(!k||!k.state||5<de||de<0)return k?ge(k,A):A;if(U=k.state,!k.output||!k.input&&k.avail_in!==0||U.status===666&&de!==j)return ge(k,k.avail_out===0?-5:A);if(U.strm=k,J=U.last_flush,U.last_flush=de,U.status===B)if(U.wrap===2)k.adler=0,le(U,31),le(U,139),le(U,8),U.gzhead?(le(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),le(U,255&U.gzhead.time),le(U,U.gzhead.time>>8&255),le(U,U.gzhead.time>>16&255),le(U,U.gzhead.time>>24&255),le(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),le(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(le(U,255&U.gzhead.extra.length),le(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(k.adler=m(k.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(le(U,0),le(U,0),le(U,0),le(U,0),le(U,0),le(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),le(U,3),U.status=X);else{var ye=C+(U.w_bits-8<<4)<<8;ye|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(ye|=32),ye+=31-ye%31,U.status=X,ue(U,ye),U.strstart!==0&&(ue(U,k.adler>>>16),ue(U,65535&k.adler)),k.adler=1}if(U.status===69)if(U.gzhead.extra){for(O=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>O&&(k.adler=m(k.adler,U.pending_buf,U.pending-O,O)),I(k),O=U.pending,U.pending!==U.pending_buf_size));)le(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>O&&(k.adler=m(k.adler,U.pending_buf,U.pending-O,O)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){O=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>O&&(k.adler=m(k.adler,U.pending_buf,U.pending-O,O)),I(k),O=U.pending,U.pending===U.pending_buf_size)){G=1;break}G=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,le(U,G)}while(G!==0);U.gzhead.hcrc&&U.pending>O&&(k.adler=m(k.adler,U.pending_buf,U.pending-O,O)),G===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){O=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>O&&(k.adler=m(k.adler,U.pending_buf,U.pending-O,O)),I(k),O=U.pending,U.pending===U.pending_buf_size)){G=1;break}G=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,le(U,G)}while(G!==0);U.gzhead.hcrc&&U.pending>O&&(k.adler=m(k.adler,U.pending_buf,U.pending-O,O)),G===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&I(k),U.pending+2<=U.pending_buf_size&&(le(U,255&k.adler),le(U,k.adler>>8&255),k.adler=0,U.status=X)):U.status=X),U.pending!==0){if(I(k),k.avail_out===0)return U.last_flush=-1,v}else if(k.avail_in===0&&Z(de)<=Z(J)&&de!==j)return ge(k,-5);if(U.status===666&&k.avail_in!==0)return ge(k,-5);if(k.avail_in!==0||U.lookahead!==0||de!==S&&U.status!==666){var xe=U.strategy===2?function(re,Ne){for(var Ie;;){if(re.lookahead===0&&(Ce(re),re.lookahead===0)){if(Ne===S)return E;break}if(re.match_length=0,Ie=p._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,Ie&&(M(re,!1),re.strm.avail_out===0))return E}return re.insert=0,Ne===j?(M(re,!0),re.strm.avail_out===0?Te:he):re.last_lit&&(M(re,!1),re.strm.avail_out===0)?E:ce}(U,de):U.strategy===3?function(re,Ne){for(var Ie,_e,Be,Je,Ye=re.window;;){if(re.lookahead<=fe){if(Ce(re),re.lookahead<=fe&&Ne===S)return E;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=ne&&0<re.strstart&&(_e=Ye[Be=re.strstart-1])===Ye[++Be]&&_e===Ye[++Be]&&_e===Ye[++Be]){Je=re.strstart+fe;do;while(_e===Ye[++Be]&&_e===Ye[++Be]&&_e===Ye[++Be]&&_e===Ye[++Be]&&_e===Ye[++Be]&&_e===Ye[++Be]&&_e===Ye[++Be]&&_e===Ye[++Be]&&Be<Je);re.match_length=fe-(Je-Be),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=ne?(Ie=p._tr_tally(re,1,re.match_length-ne),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(Ie=p._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),Ie&&(M(re,!1),re.strm.avail_out===0))return E}return re.insert=0,Ne===j?(M(re,!0),re.strm.avail_out===0?Te:he):re.last_lit&&(M(re,!1),re.strm.avail_out===0)?E:ce}(U,de):d[U.level].func(U,de);if(xe!==Te&&xe!==he||(U.status=666),xe===E||xe===Te)return k.avail_out===0&&(U.last_flush=-1),v;if(xe===ce&&(de===1?p._tr_align(U):de!==5&&(p._tr_stored_block(U,0,0,!1),de===3&&(Q(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),I(k),k.avail_out===0))return U.last_flush=-1,v}return de!==j?v:U.wrap<=0?1:(U.wrap===2?(le(U,255&k.adler),le(U,k.adler>>8&255),le(U,k.adler>>16&255),le(U,k.adler>>24&255),le(U,255&k.total_in),le(U,k.total_in>>8&255),le(U,k.total_in>>16&255),le(U,k.total_in>>24&255)):(ue(U,k.adler>>>16),ue(U,65535&k.adler)),I(k),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?v:1)},u.deflateEnd=function(k){var de;return k&&k.state?(de=k.state.status)!==B&&de!==69&&de!==73&&de!==91&&de!==103&&de!==X&&de!==666?ge(k,A):(k.state=null,de===X?ge(k,-3):v):A},u.deflateSetDictionary=function(k,de){var J,U,O,G,ye,xe,re,Ne,Ie=de.length;if(!k||!k.state||(G=(J=k.state).wrap)===2||G===1&&J.status!==B||J.lookahead)return A;for(G===1&&(k.adler=x(k.adler,de,Ie,0)),J.wrap=0,Ie>=J.w_size&&(G===0&&(Q(J.head),J.strstart=0,J.block_start=0,J.insert=0),Ne=new f.Buf8(J.w_size),f.arraySet(Ne,de,Ie-J.w_size,J.w_size,0),de=Ne,Ie=J.w_size),ye=k.avail_in,xe=k.next_in,re=k.input,k.avail_in=Ie,k.next_in=0,k.input=de,Ce(J);J.lookahead>=ne;){for(U=J.strstart,O=J.lookahead-(ne-1);J.ins_h=(J.ins_h<<J.hash_shift^J.window[U+ne-1])&J.hash_mask,J.prev[U&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=U,U++,--O;);J.strstart=U,J.lookahead=ne-1,Ce(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=ne-1,J.match_available=0,k.next_in=xe,k.input=re,k.avail_in=ye,J.wrap=G,v},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,l,u){l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,l,u){l.exports=function(d,f){var p,x,m,_,S,j,v,A,b,N,w,C,R,L,F,H,q,ie,ne,fe,pe,B,X,E,ce;p=d.state,x=d.next_in,E=d.input,m=x+(d.avail_in-5),_=d.next_out,ce=d.output,S=_-(f-d.avail_out),j=_+(d.avail_out-257),v=p.dmax,A=p.wsize,b=p.whave,N=p.wnext,w=p.window,C=p.hold,R=p.bits,L=p.lencode,F=p.distcode,H=(1<<p.lenbits)-1,q=(1<<p.distbits)-1;e:do{R<15&&(C+=E[x++]<<R,R+=8,C+=E[x++]<<R,R+=8),ie=L[C&H];t:for(;;){if(C>>>=ne=ie>>>24,R-=ne,(ne=ie>>>16&255)===0)ce[_++]=65535&ie;else{if(!(16&ne)){if((64&ne)==0){ie=L[(65535&ie)+(C&(1<<ne)-1)];continue t}if(32&ne){p.mode=12;break e}d.msg="invalid literal/length code",p.mode=30;break e}fe=65535&ie,(ne&=15)&&(R<ne&&(C+=E[x++]<<R,R+=8),fe+=C&(1<<ne)-1,C>>>=ne,R-=ne),R<15&&(C+=E[x++]<<R,R+=8,C+=E[x++]<<R,R+=8),ie=F[C&q];r:for(;;){if(C>>>=ne=ie>>>24,R-=ne,!(16&(ne=ie>>>16&255))){if((64&ne)==0){ie=F[(65535&ie)+(C&(1<<ne)-1)];continue r}d.msg="invalid distance code",p.mode=30;break e}if(pe=65535&ie,R<(ne&=15)&&(C+=E[x++]<<R,(R+=8)<ne&&(C+=E[x++]<<R,R+=8)),v<(pe+=C&(1<<ne)-1)){d.msg="invalid distance too far back",p.mode=30;break e}if(C>>>=ne,R-=ne,(ne=_-S)<pe){if(b<(ne=pe-ne)&&p.sane){d.msg="invalid distance too far back",p.mode=30;break e}if(X=w,(B=0)===N){if(B+=A-ne,ne<fe){for(fe-=ne;ce[_++]=w[B++],--ne;);B=_-pe,X=ce}}else if(N<ne){if(B+=A+N-ne,(ne-=N)<fe){for(fe-=ne;ce[_++]=w[B++],--ne;);if(B=0,N<fe){for(fe-=ne=N;ce[_++]=w[B++],--ne;);B=_-pe,X=ce}}}else if(B+=N-ne,ne<fe){for(fe-=ne;ce[_++]=w[B++],--ne;);B=_-pe,X=ce}for(;2<fe;)ce[_++]=X[B++],ce[_++]=X[B++],ce[_++]=X[B++],fe-=3;fe&&(ce[_++]=X[B++],1<fe&&(ce[_++]=X[B++]))}else{for(B=_-pe;ce[_++]=ce[B++],ce[_++]=ce[B++],ce[_++]=ce[B++],2<(fe-=3););fe&&(ce[_++]=ce[B++],1<fe&&(ce[_++]=ce[B++]))}break}}break}}while(x<m&&_<j);x-=fe=R>>3,C&=(1<<(R-=fe<<3))-1,d.next_in=x,d.next_out=_,d.avail_in=x<m?m-x+5:5-(x-m),d.avail_out=_<j?j-_+257:257-(_-j),p.hold=C,p.bits=R}},{}],49:[function(s,l,u){var d=s("../utils/common"),f=s("./adler32"),p=s("./crc32"),x=s("./inffast"),m=s("./inftrees"),_=1,S=2,j=0,v=-2,A=1,b=852,N=592;function w(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(B){var X;return B&&B.state?(X=B.state,B.total_in=B.total_out=X.total=0,B.msg="",X.wrap&&(B.adler=1&X.wrap),X.mode=A,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new d.Buf32(b),X.distcode=X.distdyn=new d.Buf32(N),X.sane=1,X.back=-1,j):v}function L(B){var X;return B&&B.state?((X=B.state).wsize=0,X.whave=0,X.wnext=0,R(B)):v}function F(B,X){var E,ce;return B&&B.state?(ce=B.state,X<0?(E=0,X=-X):(E=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?v:(ce.window!==null&&ce.wbits!==X&&(ce.window=null),ce.wrap=E,ce.wbits=X,L(B))):v}function H(B,X){var E,ce;return B?(ce=new C,(B.state=ce).window=null,(E=F(B,X))!==j&&(B.state=null),E):v}var q,ie,ne=!0;function fe(B){if(ne){var X;for(q=new d.Buf32(512),ie=new d.Buf32(32),X=0;X<144;)B.lens[X++]=8;for(;X<256;)B.lens[X++]=9;for(;X<280;)B.lens[X++]=7;for(;X<288;)B.lens[X++]=8;for(m(_,B.lens,0,288,q,0,B.work,{bits:9}),X=0;X<32;)B.lens[X++]=5;m(S,B.lens,0,32,ie,0,B.work,{bits:5}),ne=!1}B.lencode=q,B.lenbits=9,B.distcode=ie,B.distbits=5}function pe(B,X,E,ce){var Te,he=B.state;return he.window===null&&(he.wsize=1<<he.wbits,he.wnext=0,he.whave=0,he.window=new d.Buf8(he.wsize)),ce>=he.wsize?(d.arraySet(he.window,X,E-he.wsize,he.wsize,0),he.wnext=0,he.whave=he.wsize):(ce<(Te=he.wsize-he.wnext)&&(Te=ce),d.arraySet(he.window,X,E-ce,Te,he.wnext),(ce-=Te)?(d.arraySet(he.window,X,E-ce,ce,0),he.wnext=ce,he.whave=he.wsize):(he.wnext+=Te,he.wnext===he.wsize&&(he.wnext=0),he.whave<he.wsize&&(he.whave+=Te))),0}u.inflateReset=L,u.inflateReset2=F,u.inflateResetKeep=R,u.inflateInit=function(B){return H(B,15)},u.inflateInit2=H,u.inflate=function(B,X){var E,ce,Te,he,ge,Z,Q,I,M,le,ue,ae,Ce,Re,Pe,Oe,Ge,st,ot,je,k,de,J,U,O=0,G=new d.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return v;(E=B.state).mode===12&&(E.mode=13),ge=B.next_out,Te=B.output,Q=B.avail_out,he=B.next_in,ce=B.input,Z=B.avail_in,I=E.hold,M=E.bits,le=Z,ue=Q,de=j;e:for(;;)switch(E.mode){case A:if(E.wrap===0){E.mode=13;break}for(;M<16;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if(2&E.wrap&&I===35615){G[E.check=0]=255&I,G[1]=I>>>8&255,E.check=p(E.check,G,2,0),M=I=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&I)<<8)+(I>>8))%31){B.msg="incorrect header check",E.mode=30;break}if((15&I)!=8){B.msg="unknown compression method",E.mode=30;break}if(M-=4,k=8+(15&(I>>>=4)),E.wbits===0)E.wbits=k;else if(k>E.wbits){B.msg="invalid window size",E.mode=30;break}E.dmax=1<<k,B.adler=E.check=1,E.mode=512&I?10:12,M=I=0;break;case 2:for(;M<16;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if(E.flags=I,(255&E.flags)!=8){B.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){B.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=I>>8&1),512&E.flags&&(G[0]=255&I,G[1]=I>>>8&255,E.check=p(E.check,G,2,0)),M=I=0,E.mode=3;case 3:for(;M<32;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}E.head&&(E.head.time=I),512&E.flags&&(G[0]=255&I,G[1]=I>>>8&255,G[2]=I>>>16&255,G[3]=I>>>24&255,E.check=p(E.check,G,4,0)),M=I=0,E.mode=4;case 4:for(;M<16;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}E.head&&(E.head.xflags=255&I,E.head.os=I>>8),512&E.flags&&(G[0]=255&I,G[1]=I>>>8&255,E.check=p(E.check,G,2,0)),M=I=0,E.mode=5;case 5:if(1024&E.flags){for(;M<16;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}E.length=I,E.head&&(E.head.extra_len=I),512&E.flags&&(G[0]=255&I,G[1]=I>>>8&255,E.check=p(E.check,G,2,0)),M=I=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Z<(ae=E.length)&&(ae=Z),ae&&(E.head&&(k=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),d.arraySet(E.head.extra,ce,he,ae,k)),512&E.flags&&(E.check=p(E.check,ce,ae,he)),Z-=ae,he+=ae,E.length-=ae),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Z===0)break e;for(ae=0;k=ce[he+ae++],E.head&&k&&E.length<65536&&(E.head.name+=String.fromCharCode(k)),k&&ae<Z;);if(512&E.flags&&(E.check=p(E.check,ce,ae,he)),Z-=ae,he+=ae,k)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Z===0)break e;for(ae=0;k=ce[he+ae++],E.head&&k&&E.length<65536&&(E.head.comment+=String.fromCharCode(k)),k&&ae<Z;);if(512&E.flags&&(E.check=p(E.check,ce,ae,he)),Z-=ae,he+=ae,k)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;M<16;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if(I!==(65535&E.check)){B.msg="header crc mismatch",E.mode=30;break}M=I=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),B.adler=E.check=0,E.mode=12;break;case 10:for(;M<32;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}B.adler=E.check=w(I),M=I=0,E.mode=11;case 11:if(E.havedict===0)return B.next_out=ge,B.avail_out=Q,B.next_in=he,B.avail_in=Z,E.hold=I,E.bits=M,2;B.adler=E.check=1,E.mode=12;case 12:if(X===5||X===6)break e;case 13:if(E.last){I>>>=7&M,M-=7&M,E.mode=27;break}for(;M<3;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}switch(E.last=1&I,M-=1,3&(I>>>=1)){case 0:E.mode=14;break;case 1:if(fe(E),E.mode=20,X!==6)break;I>>>=2,M-=2;break e;case 2:E.mode=17;break;case 3:B.msg="invalid block type",E.mode=30}I>>>=2,M-=2;break;case 14:for(I>>>=7&M,M-=7&M;M<32;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if((65535&I)!=(I>>>16^65535)){B.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&I,M=I=0,E.mode=15,X===6)break e;case 15:E.mode=16;case 16:if(ae=E.length){if(Z<ae&&(ae=Z),Q<ae&&(ae=Q),ae===0)break e;d.arraySet(Te,ce,he,ae,ge),Z-=ae,he+=ae,Q-=ae,ge+=ae,E.length-=ae;break}E.mode=12;break;case 17:for(;M<14;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if(E.nlen=257+(31&I),I>>>=5,M-=5,E.ndist=1+(31&I),I>>>=5,M-=5,E.ncode=4+(15&I),I>>>=4,M-=4,286<E.nlen||30<E.ndist){B.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;M<3;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}E.lens[ye[E.have++]]=7&I,I>>>=3,M-=3}for(;E.have<19;)E.lens[ye[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,J={bits:E.lenbits},de=m(0,E.lens,0,19,E.lencode,0,E.work,J),E.lenbits=J.bits,de){B.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;Oe=(O=E.lencode[I&(1<<E.lenbits)-1])>>>16&255,Ge=65535&O,!((Pe=O>>>24)<=M);){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if(Ge<16)I>>>=Pe,M-=Pe,E.lens[E.have++]=Ge;else{if(Ge===16){for(U=Pe+2;M<U;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if(I>>>=Pe,M-=Pe,E.have===0){B.msg="invalid bit length repeat",E.mode=30;break}k=E.lens[E.have-1],ae=3+(3&I),I>>>=2,M-=2}else if(Ge===17){for(U=Pe+3;M<U;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}M-=Pe,k=0,ae=3+(7&(I>>>=Pe)),I>>>=3,M-=3}else{for(U=Pe+7;M<U;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}M-=Pe,k=0,ae=11+(127&(I>>>=Pe)),I>>>=7,M-=7}if(E.have+ae>E.nlen+E.ndist){B.msg="invalid bit length repeat",E.mode=30;break}for(;ae--;)E.lens[E.have++]=k}}if(E.mode===30)break;if(E.lens[256]===0){B.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,J={bits:E.lenbits},de=m(_,E.lens,0,E.nlen,E.lencode,0,E.work,J),E.lenbits=J.bits,de){B.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,J={bits:E.distbits},de=m(S,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,J),E.distbits=J.bits,de){B.msg="invalid distances set",E.mode=30;break}if(E.mode=20,X===6)break e;case 20:E.mode=21;case 21:if(6<=Z&&258<=Q){B.next_out=ge,B.avail_out=Q,B.next_in=he,B.avail_in=Z,E.hold=I,E.bits=M,x(B,ue),ge=B.next_out,Te=B.output,Q=B.avail_out,he=B.next_in,ce=B.input,Z=B.avail_in,I=E.hold,M=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;Oe=(O=E.lencode[I&(1<<E.lenbits)-1])>>>16&255,Ge=65535&O,!((Pe=O>>>24)<=M);){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if(Oe&&(240&Oe)==0){for(st=Pe,ot=Oe,je=Ge;Oe=(O=E.lencode[je+((I&(1<<st+ot)-1)>>st)])>>>16&255,Ge=65535&O,!(st+(Pe=O>>>24)<=M);){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}I>>>=st,M-=st,E.back+=st}if(I>>>=Pe,M-=Pe,E.back+=Pe,E.length=Ge,Oe===0){E.mode=26;break}if(32&Oe){E.back=-1,E.mode=12;break}if(64&Oe){B.msg="invalid literal/length code",E.mode=30;break}E.extra=15&Oe,E.mode=22;case 22:if(E.extra){for(U=E.extra;M<U;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}E.length+=I&(1<<E.extra)-1,I>>>=E.extra,M-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;Oe=(O=E.distcode[I&(1<<E.distbits)-1])>>>16&255,Ge=65535&O,!((Pe=O>>>24)<=M);){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if((240&Oe)==0){for(st=Pe,ot=Oe,je=Ge;Oe=(O=E.distcode[je+((I&(1<<st+ot)-1)>>st)])>>>16&255,Ge=65535&O,!(st+(Pe=O>>>24)<=M);){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}I>>>=st,M-=st,E.back+=st}if(I>>>=Pe,M-=Pe,E.back+=Pe,64&Oe){B.msg="invalid distance code",E.mode=30;break}E.offset=Ge,E.extra=15&Oe,E.mode=24;case 24:if(E.extra){for(U=E.extra;M<U;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}E.offset+=I&(1<<E.extra)-1,I>>>=E.extra,M-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){B.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(Q===0)break e;if(ae=ue-Q,E.offset>ae){if((ae=E.offset-ae)>E.whave&&E.sane){B.msg="invalid distance too far back",E.mode=30;break}Ce=ae>E.wnext?(ae-=E.wnext,E.wsize-ae):E.wnext-ae,ae>E.length&&(ae=E.length),Re=E.window}else Re=Te,Ce=ge-E.offset,ae=E.length;for(Q<ae&&(ae=Q),Q-=ae,E.length-=ae;Te[ge++]=Re[Ce++],--ae;);E.length===0&&(E.mode=21);break;case 26:if(Q===0)break e;Te[ge++]=E.length,Q--,E.mode=21;break;case 27:if(E.wrap){for(;M<32;){if(Z===0)break e;Z--,I|=ce[he++]<<M,M+=8}if(ue-=Q,B.total_out+=ue,E.total+=ue,ue&&(B.adler=E.check=E.flags?p(E.check,Te,ue,ge-ue):f(E.check,Te,ue,ge-ue)),ue=Q,(E.flags?I:w(I))!==E.check){B.msg="incorrect data check",E.mode=30;break}M=I=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;M<32;){if(Z===0)break e;Z--,I+=ce[he++]<<M,M+=8}if(I!==(4294967295&E.total)){B.msg="incorrect length check",E.mode=30;break}M=I=0}E.mode=29;case 29:de=1;break e;case 30:de=-3;break e;case 31:return-4;case 32:default:return v}return B.next_out=ge,B.avail_out=Q,B.next_in=he,B.avail_in=Z,E.hold=I,E.bits=M,(E.wsize||ue!==B.avail_out&&E.mode<30&&(E.mode<27||X!==4))&&pe(B,B.output,B.next_out,ue-B.avail_out)?(E.mode=31,-4):(le-=B.avail_in,ue-=B.avail_out,B.total_in+=le,B.total_out+=ue,E.total+=ue,E.wrap&&ue&&(B.adler=E.check=E.flags?p(E.check,Te,ue,B.next_out-ue):f(E.check,Te,ue,B.next_out-ue)),B.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(le==0&&ue===0||X===4)&&de===j&&(de=-5),de)},u.inflateEnd=function(B){if(!B||!B.state)return v;var X=B.state;return X.window&&(X.window=null),B.state=null,j},u.inflateGetHeader=function(B,X){var E;return B&&B.state?(2&(E=B.state).wrap)==0?v:((E.head=X).done=!1,j):v},u.inflateSetDictionary=function(B,X){var E,ce=X.length;return B&&B.state?(E=B.state).wrap!==0&&E.mode!==11?v:E.mode===11&&f(1,X,ce,0)!==E.check?-3:pe(B,X,ce,ce)?(E.mode=31,-4):(E.havedict=1,j):v},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,l,u){var d=s("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(_,S,j,v,A,b,N,w){var C,R,L,F,H,q,ie,ne,fe,pe=w.bits,B=0,X=0,E=0,ce=0,Te=0,he=0,ge=0,Z=0,Q=0,I=0,M=null,le=0,ue=new d.Buf16(16),ae=new d.Buf16(16),Ce=null,Re=0;for(B=0;B<=15;B++)ue[B]=0;for(X=0;X<v;X++)ue[S[j+X]]++;for(Te=pe,ce=15;1<=ce&&ue[ce]===0;ce--);if(ce<Te&&(Te=ce),ce===0)return A[b++]=20971520,A[b++]=20971520,w.bits=1,0;for(E=1;E<ce&&ue[E]===0;E++);for(Te<E&&(Te=E),B=Z=1;B<=15;B++)if(Z<<=1,(Z-=ue[B])<0)return-1;if(0<Z&&(_===0||ce!==1))return-1;for(ae[1]=0,B=1;B<15;B++)ae[B+1]=ae[B]+ue[B];for(X=0;X<v;X++)S[j+X]!==0&&(N[ae[S[j+X]]++]=X);if(q=_===0?(M=Ce=N,19):_===1?(M=f,le-=257,Ce=p,Re-=257,256):(M=x,Ce=m,-1),B=E,H=b,ge=X=I=0,L=-1,F=(Q=1<<(he=Te))-1,_===1&&852<Q||_===2&&592<Q)return 1;for(;;){for(ie=B-ge,fe=N[X]<q?(ne=0,N[X]):N[X]>q?(ne=Ce[Re+N[X]],M[le+N[X]]):(ne=96,0),C=1<<B-ge,E=R=1<<he;A[H+(I>>ge)+(R-=C)]=ie<<24|ne<<16|fe|0,R!==0;);for(C=1<<B-1;I&C;)C>>=1;if(C!==0?(I&=C-1,I+=C):I=0,X++,--ue[B]==0){if(B===ce)break;B=S[j+N[X]]}if(Te<B&&(I&F)!==L){for(ge===0&&(ge=Te),H+=E,Z=1<<(he=B-ge);he+ge<ce&&!((Z-=ue[he+ge])<=0);)he++,Z<<=1;if(Q+=1<<he,_===1&&852<Q||_===2&&592<Q)return 1;A[L=I&F]=Te<<24|he<<16|H-b|0}}return I!==0&&(A[H+I]=B-ge<<24|64<<16|0),w.bits=Te,0}},{"../utils/common":41}],51:[function(s,l,u){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,l,u){var d=s("../utils/common"),f=0,p=1;function x(O){for(var G=O.length;0<=--G;)O[G]=0}var m=0,_=29,S=256,j=S+1+_,v=30,A=19,b=2*j+1,N=15,w=16,C=7,R=256,L=16,F=17,H=18,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=new Array(2*(j+2));x(pe);var B=new Array(2*v);x(B);var X=new Array(512);x(X);var E=new Array(256);x(E);var ce=new Array(_);x(ce);var Te,he,ge,Z=new Array(v);function Q(O,G,ye,xe,re){this.static_tree=O,this.extra_bits=G,this.extra_base=ye,this.elems=xe,this.max_length=re,this.has_stree=O&&O.length}function I(O,G){this.dyn_tree=O,this.max_code=0,this.stat_desc=G}function M(O){return O<256?X[O]:X[256+(O>>>7)]}function le(O,G){O.pending_buf[O.pending++]=255&G,O.pending_buf[O.pending++]=G>>>8&255}function ue(O,G,ye){O.bi_valid>w-ye?(O.bi_buf|=G<<O.bi_valid&65535,le(O,O.bi_buf),O.bi_buf=G>>w-O.bi_valid,O.bi_valid+=ye-w):(O.bi_buf|=G<<O.bi_valid&65535,O.bi_valid+=ye)}function ae(O,G,ye){ue(O,ye[2*G],ye[2*G+1])}function Ce(O,G){for(var ye=0;ye|=1&O,O>>>=1,ye<<=1,0<--G;);return ye>>>1}function Re(O,G,ye){var xe,re,Ne=new Array(N+1),Ie=0;for(xe=1;xe<=N;xe++)Ne[xe]=Ie=Ie+ye[xe-1]<<1;for(re=0;re<=G;re++){var _e=O[2*re+1];_e!==0&&(O[2*re]=Ce(Ne[_e]++,_e))}}function Pe(O){var G;for(G=0;G<j;G++)O.dyn_ltree[2*G]=0;for(G=0;G<v;G++)O.dyn_dtree[2*G]=0;for(G=0;G<A;G++)O.bl_tree[2*G]=0;O.dyn_ltree[2*R]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function Oe(O){8<O.bi_valid?le(O,O.bi_buf):0<O.bi_valid&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function Ge(O,G,ye,xe){var re=2*G,Ne=2*ye;return O[re]<O[Ne]||O[re]===O[Ne]&&xe[G]<=xe[ye]}function st(O,G,ye){for(var xe=O.heap[ye],re=ye<<1;re<=O.heap_len&&(re<O.heap_len&&Ge(G,O.heap[re+1],O.heap[re],O.depth)&&re++,!Ge(G,xe,O.heap[re],O.depth));)O.heap[ye]=O.heap[re],ye=re,re<<=1;O.heap[ye]=xe}function ot(O,G,ye){var xe,re,Ne,Ie,_e=0;if(O.last_lit!==0)for(;xe=O.pending_buf[O.d_buf+2*_e]<<8|O.pending_buf[O.d_buf+2*_e+1],re=O.pending_buf[O.l_buf+_e],_e++,xe===0?ae(O,re,G):(ae(O,(Ne=E[re])+S+1,G),(Ie=q[Ne])!==0&&ue(O,re-=ce[Ne],Ie),ae(O,Ne=M(--xe),ye),(Ie=ie[Ne])!==0&&ue(O,xe-=Z[Ne],Ie)),_e<O.last_lit;);ae(O,R,G)}function je(O,G){var ye,xe,re,Ne=G.dyn_tree,Ie=G.stat_desc.static_tree,_e=G.stat_desc.has_stree,Be=G.stat_desc.elems,Je=-1;for(O.heap_len=0,O.heap_max=b,ye=0;ye<Be;ye++)Ne[2*ye]!==0?(O.heap[++O.heap_len]=Je=ye,O.depth[ye]=0):Ne[2*ye+1]=0;for(;O.heap_len<2;)Ne[2*(re=O.heap[++O.heap_len]=Je<2?++Je:0)]=1,O.depth[re]=0,O.opt_len--,_e&&(O.static_len-=Ie[2*re+1]);for(G.max_code=Je,ye=O.heap_len>>1;1<=ye;ye--)st(O,Ne,ye);for(re=Be;ye=O.heap[1],O.heap[1]=O.heap[O.heap_len--],st(O,Ne,1),xe=O.heap[1],O.heap[--O.heap_max]=ye,O.heap[--O.heap_max]=xe,Ne[2*re]=Ne[2*ye]+Ne[2*xe],O.depth[re]=(O.depth[ye]>=O.depth[xe]?O.depth[ye]:O.depth[xe])+1,Ne[2*ye+1]=Ne[2*xe+1]=re,O.heap[1]=re++,st(O,Ne,1),2<=O.heap_len;);O.heap[--O.heap_max]=O.heap[1],function(Ye,jt){var Gt,_t,Vr,ut,Ve,gn,Pt=jt.dyn_tree,Gr=jt.max_code,pr=jt.stat_desc.static_tree,$n=jt.stat_desc.has_stree,Qt=jt.stat_desc.extra_bits,yr=jt.stat_desc.extra_base,$t=jt.stat_desc.max_length,Or=0;for(ut=0;ut<=N;ut++)Ye.bl_count[ut]=0;for(Pt[2*Ye.heap[Ye.heap_max]+1]=0,Gt=Ye.heap_max+1;Gt<b;Gt++)$t<(ut=Pt[2*Pt[2*(_t=Ye.heap[Gt])+1]+1]+1)&&(ut=$t,Or++),Pt[2*_t+1]=ut,Gr<_t||(Ye.bl_count[ut]++,Ve=0,yr<=_t&&(Ve=Qt[_t-yr]),gn=Pt[2*_t],Ye.opt_len+=gn*(ut+Ve),$n&&(Ye.static_len+=gn*(pr[2*_t+1]+Ve)));if(Or!==0){do{for(ut=$t-1;Ye.bl_count[ut]===0;)ut--;Ye.bl_count[ut]--,Ye.bl_count[ut+1]+=2,Ye.bl_count[$t]--,Or-=2}while(0<Or);for(ut=$t;ut!==0;ut--)for(_t=Ye.bl_count[ut];_t!==0;)Gr<(Vr=Ye.heap[--Gt])||(Pt[2*Vr+1]!==ut&&(Ye.opt_len+=(ut-Pt[2*Vr+1])*Pt[2*Vr],Pt[2*Vr+1]=ut),_t--)}}(O,G),Re(Ne,Je,O.bl_count)}function k(O,G,ye){var xe,re,Ne=-1,Ie=G[1],_e=0,Be=7,Je=4;for(Ie===0&&(Be=138,Je=3),G[2*(ye+1)+1]=65535,xe=0;xe<=ye;xe++)re=Ie,Ie=G[2*(xe+1)+1],++_e<Be&&re===Ie||(_e<Je?O.bl_tree[2*re]+=_e:re!==0?(re!==Ne&&O.bl_tree[2*re]++,O.bl_tree[2*L]++):_e<=10?O.bl_tree[2*F]++:O.bl_tree[2*H]++,Ne=re,Je=(_e=0)===Ie?(Be=138,3):re===Ie?(Be=6,3):(Be=7,4))}function de(O,G,ye){var xe,re,Ne=-1,Ie=G[1],_e=0,Be=7,Je=4;for(Ie===0&&(Be=138,Je=3),xe=0;xe<=ye;xe++)if(re=Ie,Ie=G[2*(xe+1)+1],!(++_e<Be&&re===Ie)){if(_e<Je)for(;ae(O,re,O.bl_tree),--_e!=0;);else re!==0?(re!==Ne&&(ae(O,re,O.bl_tree),_e--),ae(O,L,O.bl_tree),ue(O,_e-3,2)):_e<=10?(ae(O,F,O.bl_tree),ue(O,_e-3,3)):(ae(O,H,O.bl_tree),ue(O,_e-11,7));Ne=re,Je=(_e=0)===Ie?(Be=138,3):re===Ie?(Be=6,3):(Be=7,4)}}x(Z);var J=!1;function U(O,G,ye,xe){ue(O,(m<<1)+(xe?1:0),3),function(re,Ne,Ie,_e){Oe(re),le(re,Ie),le(re,~Ie),d.arraySet(re.pending_buf,re.window,Ne,Ie,re.pending),re.pending+=Ie}(O,G,ye)}u._tr_init=function(O){J||(function(){var G,ye,xe,re,Ne,Ie=new Array(N+1);for(re=xe=0;re<_-1;re++)for(ce[re]=xe,G=0;G<1<<q[re];G++)E[xe++]=re;for(E[xe-1]=re,re=Ne=0;re<16;re++)for(Z[re]=Ne,G=0;G<1<<ie[re];G++)X[Ne++]=re;for(Ne>>=7;re<v;re++)for(Z[re]=Ne<<7,G=0;G<1<<ie[re]-7;G++)X[256+Ne++]=re;for(ye=0;ye<=N;ye++)Ie[ye]=0;for(G=0;G<=143;)pe[2*G+1]=8,G++,Ie[8]++;for(;G<=255;)pe[2*G+1]=9,G++,Ie[9]++;for(;G<=279;)pe[2*G+1]=7,G++,Ie[7]++;for(;G<=287;)pe[2*G+1]=8,G++,Ie[8]++;for(Re(pe,j+1,Ie),G=0;G<v;G++)B[2*G+1]=5,B[2*G]=Ce(G,5);Te=new Q(pe,q,S+1,j,N),he=new Q(B,ie,0,v,N),ge=new Q(new Array(0),ne,0,A,C)}(),J=!0),O.l_desc=new I(O.dyn_ltree,Te),O.d_desc=new I(O.dyn_dtree,he),O.bl_desc=new I(O.bl_tree,ge),O.bi_buf=0,O.bi_valid=0,Pe(O)},u._tr_stored_block=U,u._tr_flush_block=function(O,G,ye,xe){var re,Ne,Ie=0;0<O.level?(O.strm.data_type===2&&(O.strm.data_type=function(_e){var Be,Je=4093624447;for(Be=0;Be<=31;Be++,Je>>>=1)if(1&Je&&_e.dyn_ltree[2*Be]!==0)return f;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return p;for(Be=32;Be<S;Be++)if(_e.dyn_ltree[2*Be]!==0)return p;return f}(O)),je(O,O.l_desc),je(O,O.d_desc),Ie=function(_e){var Be;for(k(_e,_e.dyn_ltree,_e.l_desc.max_code),k(_e,_e.dyn_dtree,_e.d_desc.max_code),je(_e,_e.bl_desc),Be=A-1;3<=Be&&_e.bl_tree[2*fe[Be]+1]===0;Be--);return _e.opt_len+=3*(Be+1)+5+5+4,Be}(O),re=O.opt_len+3+7>>>3,(Ne=O.static_len+3+7>>>3)<=re&&(re=Ne)):re=Ne=ye+5,ye+4<=re&&G!==-1?U(O,G,ye,xe):O.strategy===4||Ne===re?(ue(O,2+(xe?1:0),3),ot(O,pe,B)):(ue(O,4+(xe?1:0),3),function(_e,Be,Je,Ye){var jt;for(ue(_e,Be-257,5),ue(_e,Je-1,5),ue(_e,Ye-4,4),jt=0;jt<Ye;jt++)ue(_e,_e.bl_tree[2*fe[jt]+1],3);de(_e,_e.dyn_ltree,Be-1),de(_e,_e.dyn_dtree,Je-1)}(O,O.l_desc.max_code+1,O.d_desc.max_code+1,Ie+1),ot(O,O.dyn_ltree,O.dyn_dtree)),Pe(O),xe&&Oe(O)},u._tr_tally=function(O,G,ye){return O.pending_buf[O.d_buf+2*O.last_lit]=G>>>8&255,O.pending_buf[O.d_buf+2*O.last_lit+1]=255&G,O.pending_buf[O.l_buf+O.last_lit]=255&ye,O.last_lit++,G===0?O.dyn_ltree[2*ye]++:(O.matches++,G--,O.dyn_ltree[2*(E[ye]+S+1)]++,O.dyn_dtree[2*M(G)]++),O.last_lit===O.lit_bufsize-1},u._tr_align=function(O){ue(O,2,3),ae(O,R,pe),function(G){G.bi_valid===16?(le(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(O)}},{"../utils/common":41}],53:[function(s,l,u){l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,l,u){(function(d){(function(f,p){if(!f.setImmediate){var x,m,_,S,j=1,v={},A=!1,b=f.document,N=Object.getPrototypeOf&&Object.getPrototypeOf(f);N=N&&N.setTimeout?N:f,x={}.toString.call(f.process)==="[object process]"?function(L){process.nextTick(function(){C(L)})}:function(){if(f.postMessage&&!f.importScripts){var L=!0,F=f.onmessage;return f.onmessage=function(){L=!1},f.postMessage("","*"),f.onmessage=F,L}}()?(S="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",R,!1):f.attachEvent("onmessage",R),function(L){f.postMessage(S+L,"*")}):f.MessageChannel?((_=new MessageChannel).port1.onmessage=function(L){C(L.data)},function(L){_.port2.postMessage(L)}):b&&"onreadystatechange"in b.createElement("script")?(m=b.documentElement,function(L){var F=b.createElement("script");F.onreadystatechange=function(){C(L),F.onreadystatechange=null,m.removeChild(F),F=null},m.appendChild(F)}):function(L){setTimeout(C,0,L)},N.setImmediate=function(L){typeof L!="function"&&(L=new Function(""+L));for(var F=new Array(arguments.length-1),H=0;H<F.length;H++)F[H]=arguments[H+1];var q={callback:L,args:F};return v[j]=q,x(j),j++},N.clearImmediate=w}function w(L){delete v[L]}function C(L){if(A)setTimeout(C,0,L);else{var F=v[L];if(F){A=!0;try{(function(H){var q=H.callback,ie=H.args;switch(ie.length){case 0:q();break;case 1:q(ie[0]);break;case 2:q(ie[0],ie[1]);break;case 3:q(ie[0],ie[1],ie[2]);break;default:q.apply(p,ie)}})(F)}finally{w(L),A=!1}}}}function R(L){L.source===f&&typeof L.data=="string"&&L.data.indexOf(S)===0&&C(+L.data.slice(S.length))}})(typeof self>"u"?d===void 0?this:d:self)}).call(this,typeof ro<"u"?ro:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(pc)),pc.exports}var Cg=_g();const Eg=za(Cg);var yc={exports:{}};const Tg={},Ag=Object.freeze(Object.defineProperty({__proto__:null,default:Tg},Symbol.toStringTag,{value:"Module"})),yh=hm(Ag);var xh;function Pg(){return xh||(xh=1,function(o,a){var s=void 0,l=function(u){return s||(s=new Promise(function(d,f){var p=typeof u<"u"?u:{},x=p.onAbort;p.onAbort=function(c){f(new Error(c)),x&&x(c)},p.postRun=p.postRun||[],p.postRun.push(function(){d(p)}),o=void 0;var m;m||=typeof p<"u"?p:{};var _=typeof window=="object",S=typeof WorkerGlobalScope<"u",j=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";m.onRuntimeInitialized=function(){function c(Y,we){switch(typeof we){case"boolean":Lo(Y,we?1:0);break;case"number":si(Y,we);break;case"string":Do(Y,we,-1,-1);break;case"object":if(we===null)ai(Y);else if(we.length!=null){var ze=Vn(we,wn);Oo(Y,ze,we.length,-1),Fr(ze)}else Sn(Y,"Wrong API use : tried to return a value of an unknown type ("+we+").",-1);break;default:ai(Y)}}function g(Y,we){for(var ze=[],We=0;We<Y;We+=1){var Ze=ot(we+4*We,"i32"),it=To(Ze);if(it===1||it===2)Ze=Ro(Ze);else if(it===3)Ze=Po(Ze);else if(it===4){it=Ze,Ze=Ao(it),it=Io(it);for(var ur=new Uint8Array(Ze),Jt=0;Jt<Ze;Jt+=1)ur[Jt]=fe[it+Jt];Ze=ur}else Ze=null;ze.push(Ze)}return ze}function T(Y,we){this.Qa=Y,this.db=we,this.Oa=1,this.lb=[]}function D(Y,we){if(this.db=we,we=Be(Y)+1,this.eb=rn(we),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Je(Y,pe,this.eb,we),this.kb=this.eb,this.Za=this.pb=null}function $(Y){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Y!=null){var we=this.filename,ze="/",We=we;if(ze&&(ze=typeof ze=="string"?ze:Hn(ze),We=we?G(ze+"/"+we):ze),we=gn(!0,!0),We=Za(We,we),Y){if(typeof Y=="string"){ze=Array(Y.length);for(var Ze=0,it=Y.length;Ze<it;++Ze)ze[Ze]=Y.charCodeAt(Ze);Y=ze}Yr(We,we|146),ze=Jr(We,577),Zt(ze,Y,0,Y.length,0),xn(ze),Yr(We,we)}}this.handleError(He(this.filename,ee)),this.db=ot(ee,"i32"),oi(this.db),this.fb={},this.Sa={}}var ee=Yt(4),me=m.cwrap,He=me("sqlite3_open","number",["string","number"]),et=me("sqlite3_close_v2","number",["number"]),Xe=me("sqlite3_exec","number",["number","string","number","number","number"]),ct=me("sqlite3_changes","number",["number"]),Ct=me("sqlite3_prepare_v2","number",["number","string","number","number","number"]),sa=me("sqlite3_sql","string",["number"]),Br=me("sqlite3_normalized_sql","string",["number"]),bs=me("sqlite3_prepare_v2","number",["number","number","number","number","number"]),ks=me("sqlite3_bind_text","number",["number","number","number","number","number"]),aa=me("sqlite3_bind_blob","number",["number","number","number","number","number"]),Ss=me("sqlite3_bind_double","number",["number","number","number"]),Ns=me("sqlite3_bind_int","number",["number","number","number"]),ri=me("sqlite3_bind_parameter_index","number",["number","string"]),Wt=me("sqlite3_step","number",["number"]),kn=me("sqlite3_errmsg","string",["number"]),ia=me("sqlite3_column_count","number",["number"]),Qn=me("sqlite3_data_count","number",["number"]),jo=me("sqlite3_column_double","number",["number","number"]),js=me("sqlite3_column_text","string",["number","number"]),oa=me("sqlite3_column_blob","number",["number","number"]),Zn=me("sqlite3_column_bytes","number",["number","number"]),_s=me("sqlite3_column_type","number",["number","number"]),ni=me("sqlite3_column_name","string",["number","number"]),_o=me("sqlite3_reset","number",["number"]),Co=me("sqlite3_clear_bindings","number",["number"]),Eo=me("sqlite3_finalize","number",["number"]),Cs=me("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),To=me("sqlite3_value_type","number",["number"]),Ao=me("sqlite3_value_bytes","number",["number"]),Po=me("sqlite3_value_text","string",["number"]),Io=me("sqlite3_value_blob","number",["number"]),Ro=me("sqlite3_value_double","number",["number"]),si=me("sqlite3_result_double","",["number","number"]),ai=me("sqlite3_result_null","",["number"]),Do=me("sqlite3_result_text","",["number","string","number","number"]),Oo=me("sqlite3_result_blob","",["number","number","number","number"]),Lo=me("sqlite3_result_int","",["number","number"]),Sn=me("sqlite3_result_error","",["number","string","number"]),ii=me("sqlite3_aggregate_context","number",["number","number"]),oi=me("RegisterExtensionFunctions","number",["number"]),li=me("sqlite3_update_hook","number",["number","number","number"]);T.prototype.bind=function(Y){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(Y)?this.Cb(Y):Y!=null&&typeof Y=="object"?this.Db(Y):!0},T.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var Y=Wt(this.Qa);switch(Y){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Y)}},T.prototype.wb=function(Y){return Y==null&&(Y=this.Oa,this.Oa+=1),jo(this.Qa,Y)},T.prototype.Gb=function(Y){if(Y==null&&(Y=this.Oa,this.Oa+=1),Y=js(this.Qa,Y),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Y)},T.prototype.Hb=function(Y){return Y==null&&(Y=this.Oa,this.Oa+=1),js(this.Qa,Y)},T.prototype.getBlob=function(Y){Y==null&&(Y=this.Oa,this.Oa+=1);var we=Zn(this.Qa,Y);Y=oa(this.Qa,Y);for(var ze=new Uint8Array(we),We=0;We<we;We+=1)ze[We]=fe[Y+We];return ze},T.prototype.get=function(Y,we){we=we||{},Y!=null&&this.bind(Y)&&this.step(),Y=[];for(var ze=Qn(this.Qa),We=0;We<ze;We+=1)switch(_s(this.Qa,We)){case 1:var Ze=we.useBigInt?this.Gb(We):this.wb(We);Y.push(Ze);break;case 2:Y.push(this.wb(We));break;case 3:Y.push(this.Hb(We));break;case 4:Y.push(this.getBlob(We));break;default:Y.push(null)}return Y},T.prototype.getColumnNames=function(){for(var Y=[],we=ia(this.Qa),ze=0;ze<we;ze+=1)Y.push(ni(this.Qa,ze));return Y},T.prototype.getAsObject=function(Y,we){Y=this.get(Y,we),we=this.getColumnNames();for(var ze={},We=0;We<we.length;We+=1)ze[we[We]]=Y[We];return ze},T.prototype.getSQL=function(){return sa(this.Qa)},T.prototype.getNormalizedSQL=function(){return Br(this.Qa)},T.prototype.run=function(Y){return Y!=null&&this.bind(Y),this.step(),this.reset()},T.prototype.sb=function(Y,we){we==null&&(we=this.Oa,this.Oa+=1),Y=Ye(Y);var ze=Vn(Y,wn);this.lb.push(ze),this.db.handleError(ks(this.Qa,we,ze,Y.length-1,0))},T.prototype.Bb=function(Y,we){we==null&&(we=this.Oa,this.Oa+=1);var ze=Vn(Y,wn);this.lb.push(ze),this.db.handleError(aa(this.Qa,we,ze,Y.length,0))},T.prototype.rb=function(Y,we){we==null&&(we=this.Oa,this.Oa+=1),this.db.handleError((Y===(Y|0)?Ns:Ss)(this.Qa,we,Y))},T.prototype.Eb=function(Y){Y==null&&(Y=this.Oa,this.Oa+=1),aa(this.Qa,Y,0,0,0)},T.prototype.tb=function(Y,we){switch(we==null&&(we=this.Oa,this.Oa+=1),typeof Y){case"string":this.sb(Y,we);return;case"number":this.rb(Y,we);return;case"bigint":this.sb(Y.toString(),we);return;case"boolean":this.rb(Y+0,we);return;case"object":if(Y===null){this.Eb(we);return}if(Y.length!=null){this.Bb(Y,we);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Y+")."},T.prototype.Db=function(Y){var we=this;return Object.keys(Y).forEach(function(ze){var We=ri(we.Qa,ze);We!==0&&we.tb(Y[ze],We)}),!0},T.prototype.Cb=function(Y){for(var we=0;we<Y.length;we+=1)this.tb(Y[we],we+1);return!0},T.prototype.reset=function(){return this.freemem(),Co(this.Qa)===0&&_o(this.Qa)===0},T.prototype.freemem=function(){for(var Y;(Y=this.lb.pop())!==void 0;)Fr(Y)},T.prototype.free=function(){this.freemem();var Y=Eo(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,Y},D.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var Y=Gn(),we=Yt(4);k(ee),k(we);try{this.db.handleError(bs(this.db.db,this.kb,-1,ee,we)),this.kb=ot(we,"i32");var ze=ot(ee,"i32");return ze===0?(this.mb(),{done:!0}):(this.Za=new T(ze,this.db),this.db.fb[ze]=this.Za,{value:this.Za,done:!1})}catch(We){throw this.pb=U(this.kb),this.mb(),We}finally{bn(Y)}},D.prototype.mb=function(){Fr(this.eb),this.eb=null},D.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:U(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(D.prototype[Symbol.iterator]=function(){return this}),$.prototype.run=function(Y,we){if(!this.db)throw"Database closed";if(we){Y=this.prepare(Y,we);try{Y.step()}finally{Y.free()}}else this.handleError(Xe(this.db,Y,0,0,ee));return this},$.prototype.exec=function(Y,we,ze){if(!this.db)throw"Database closed";var We=Gn(),Ze=null;try{var it=xs(Y),ur=Yt(4);for(Y=[];ot(it,"i8")!==0;){k(ee),k(ur),this.handleError(bs(this.db,it,-1,ee,ur));var Jt=ot(ee,"i32");if(it=ot(ur,"i32"),Jt!==0){var Rt=null;for(Ze=new T(Jt,this),we!=null&&Ze.bind(we);Ze.step();)Rt===null&&(Rt={columns:Ze.getColumnNames(),values:[]},Y.push(Rt)),Rt.values.push(Ze.get(null,ze));Ze.free()}}return Y}catch(Dt){throw Ze&&Ze.free(),Dt}finally{bn(We)}},$.prototype.each=function(Y,we,ze,We,Ze){typeof we=="function"&&(We=ze,ze=we,we=void 0),Y=this.prepare(Y,we);try{for(;Y.step();)ze(Y.getAsObject(null,Ze))}finally{Y.free()}if(typeof We=="function")return We()},$.prototype.prepare=function(Y,we){if(k(ee),this.handleError(Ct(this.db,Y,-1,ee,0)),Y=ot(ee,"i32"),Y===0)throw"Nothing to prepare";var ze=new T(Y,this);return we!=null&&ze.bind(we),this.fb[Y]=ze},$.prototype.iterateStatements=function(Y){return new D(Y,this)},$.prototype.export=function(){Object.values(this.fb).forEach(function(we){we.free()}),Object.values(this.Sa).forEach(cr),this.Sa={},this.handleError(et(this.db));var Y=So(this.filename);return this.handleError(He(this.filename,ee)),this.db=ot(ee,"i32"),oi(this.db),Y},$.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(Y){Y.free()}),Object.values(this.Sa).forEach(cr),this.Sa={},this.Ya&&(cr(this.Ya),this.Ya=void 0),this.handleError(et(this.db)),Xa("/"+this.filename),this.db=null)},$.prototype.handleError=function(Y){if(Y===0)return null;throw Y=kn(this.db),Error(Y)},$.prototype.getRowsModified=function(){return ct(this.db)},$.prototype.create_function=function(Y,we){Object.prototype.hasOwnProperty.call(this.Sa,Y)&&(cr(this.Sa[Y]),delete this.Sa[Y]);var ze=Xt(function(We,Ze,it){Ze=g(Ze,it);try{var ur=we.apply(null,Ze)}catch(Jt){Sn(We,Jt,-1);return}c(We,ur)},"viii");return this.Sa[Y]=ze,this.handleError(Cs(this.db,Y,we.length,1,0,ze,0,0,0)),this},$.prototype.create_aggregate=function(Y,we){var ze=we.init||function(){return null},We=we.finalize||function(Rt){return Rt},Ze=we.step;if(!Ze)throw"An aggregate function must have a step function in "+Y;var it={};Object.hasOwnProperty.call(this.Sa,Y)&&(cr(this.Sa[Y]),delete this.Sa[Y]),we=Y+"__finalize",Object.hasOwnProperty.call(this.Sa,we)&&(cr(this.Sa[we]),delete this.Sa[we]);var ur=Xt(function(Rt,Dt,la){var $r=ii(Rt,1);Object.hasOwnProperty.call(it,$r)||(it[$r]=ze()),Dt=g(Dt,la),Dt=[it[$r]].concat(Dt);try{it[$r]=Ze.apply(null,Dt)}catch(ci){delete it[$r],Sn(Rt,ci,-1)}},"viii"),Jt=Xt(function(Rt){var Dt=ii(Rt,1);try{var la=We(it[Dt])}catch($r){delete it[Dt],Sn(Rt,$r,-1);return}c(Rt,la),delete it[Dt]},"vi");return this.Sa[Y]=ur,this.Sa[we]=Jt,this.handleError(Cs(this.db,Y,Ze.length-1,1,0,0,ur,Jt,0)),this},$.prototype.updateHook=function(Y){this.Ya&&(li(this.db,0,0),cr(this.Ya),this.Ya=void 0),Y&&(this.Ya=Xt(function(we,ze,We,Ze,it){switch(ze){case 18:we="insert";break;case 23:we="update";break;case 9:we="delete";break;default:throw"unknown operationCode in updateHook callback: "+ze}if(We=We?J(pe,We):"",Ze=Ze?J(pe,Ze):"",it>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";Y(we,We,Ze,Number(it))},"viiiij"),li(this.db,this.Ya,0))},m.Database=$};var v={...m},A="./this.program",b=(c,g)=>{throw g},N="",w,C;if(j){var R=yh;N=__dirname+"/",C=c=>(c=ge(c)?new URL(c):c,R.readFileSync(c)),w=async c=>(c=ge(c)?new URL(c):c,R.readFileSync(c,void 0)),!m.thisProgram&&1<process.argv.length&&(A=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),o.exports=m,b=(c,g)=>{throw process.exitCode=c,g}}else(_||S)&&(S?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),N=N.startsWith("blob:")?"":N.slice(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),S&&(C=c=>{var g=new XMLHttpRequest;return g.open("GET",c,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),w=async c=>{if(ge(c))return new Promise((T,D)=>{var $=new XMLHttpRequest;$.open("GET",c,!0),$.responseType="arraybuffer",$.onload=()=>{$.status==200||$.status==0&&$.response?T($.response):D($.status)},$.onerror=D,$.send(null)});var g=await fetch(c,{credentials:"same-origin"});if(g.ok)return g.arrayBuffer();throw Error(g.status+" : "+g.url)});var L=m.print||console.log.bind(console),F=m.printErr||console.error.bind(console);Object.assign(m,v),v=null,m.thisProgram&&(A=m.thisProgram);var H=m.wasmBinary,q,ie=!1,ne,fe,pe,B,X,E,ce,Te,he,ge=c=>c.startsWith("file://");function Z(){var c=q.buffer;m.HEAP8=fe=new Int8Array(c),m.HEAP16=B=new Int16Array(c),m.HEAPU8=pe=new Uint8Array(c),m.HEAPU16=new Uint16Array(c),m.HEAP32=X=new Int32Array(c),m.HEAPU32=E=new Uint32Array(c),m.HEAPF32=ce=new Float32Array(c),m.HEAPF64=he=new Float64Array(c),m.HEAP64=Te=new BigInt64Array(c),m.HEAPU64=new BigUint64Array(c)}var Q=0,I=null;function M(c){throw m.onAbort?.(c),c="Aborted("+c+")",F(c),ie=!0,new WebAssembly.RuntimeError(c+". Build with -sASSERTIONS for more info.")}var le;async function ue(c){if(!H)try{var g=await w(c);return new Uint8Array(g)}catch{}if(c==le&&H)c=new Uint8Array(H);else if(C)c=C(c);else throw"both async and sync fetching of the wasm failed";return c}async function ae(c,g){try{var T=await ue(c);return await WebAssembly.instantiate(T,g)}catch(D){F(`failed to asynchronously prepare wasm: ${D}`),M(D)}}async function Ce(c){var g=le;if(!H&&typeof WebAssembly.instantiateStreaming=="function"&&!ge(g)&&!j)try{var T=fetch(g,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(T,c)}catch(D){F(`wasm streaming compile failed: ${D}`),F("falling back to ArrayBuffer instantiation")}return ae(g,c)}class Re{name="ExitStatus";constructor(g){this.message=`Program terminated with exit(${g})`,this.status=g}}var Pe=c=>{for(;0<c.length;)c.shift()(m)},Oe=[],Ge=[],st=()=>{var c=m.preRun.shift();Ge.unshift(c)};function ot(c,g="i8"){switch(g.endsWith("*")&&(g="*"),g){case"i1":return fe[c];case"i8":return fe[c];case"i16":return B[c>>1];case"i32":return X[c>>2];case"i64":return Te[c>>3];case"float":return ce[c>>2];case"double":return he[c>>3];case"*":return E[c>>2];default:M(`invalid type for getValue: ${g}`)}}var je=m.noExitRuntime||!0;function k(c){var g="i32";switch(g.endsWith("*")&&(g="*"),g){case"i1":fe[c]=0;break;case"i8":fe[c]=0;break;case"i16":B[c>>1]=0;break;case"i32":X[c>>2]=0;break;case"i64":Te[c>>3]=BigInt(0);break;case"float":ce[c>>2]=0;break;case"double":he[c>>3]=0;break;case"*":E[c>>2]=0;break;default:M(`invalid type for setValue: ${g}`)}}var de=typeof TextDecoder<"u"?new TextDecoder:void 0,J=(c,g=0,T=NaN)=>{var D=g+T;for(T=g;c[T]&&!(T>=D);)++T;if(16<T-g&&c.buffer&&de)return de.decode(c.subarray(g,T));for(D="";g<T;){var $=c[g++];if($&128){var ee=c[g++]&63;if(($&224)==192)D+=String.fromCharCode(($&31)<<6|ee);else{var me=c[g++]&63;$=($&240)==224?($&15)<<12|ee<<6|me:($&7)<<18|ee<<12|me<<6|c[g++]&63,65536>$?D+=String.fromCharCode($):($-=65536,D+=String.fromCharCode(55296|$>>10,56320|$&1023))}}else D+=String.fromCharCode($)}return D},U=(c,g)=>c?J(pe,c,g):"",O=(c,g)=>{for(var T=0,D=c.length-1;0<=D;D--){var $=c[D];$==="."?c.splice(D,1):$===".."?(c.splice(D,1),T++):T&&(c.splice(D,1),T--)}if(g)for(;T;T--)c.unshift("..");return c},G=c=>{var g=c.charAt(0)==="/",T=c.slice(-1)==="/";return(c=O(c.split("/").filter(D=>!!D),!g).join("/"))||g||(c="."),c&&T&&(c+="/"),(g?"/":"")+c},ye=c=>{var g=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1);return c=g[0],g=g[1],!c&&!g?".":(g&&=g.slice(0,-1),c+g)},xe=c=>c&&c.match(/([^\/]+|\/)\/*$/)[1],re=()=>{if(j){var c=yh;return g=>c.randomFillSync(g)}return g=>crypto.getRandomValues(g)},Ne=c=>{(Ne=re())(c)},Ie=(...c)=>{for(var g="",T=!1,D=c.length-1;-1<=D&&!T;D--){if(T=0<=D?c[D]:"/",typeof T!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";g=T+"/"+g,T=T.charAt(0)==="/"}return g=O(g.split("/").filter($=>!!$),!T).join("/"),(T?"/":"")+g||"."},_e=[],Be=c=>{for(var g=0,T=0;T<c.length;++T){var D=c.charCodeAt(T);127>=D?g++:2047>=D?g+=2:55296<=D&&57343>=D?(g+=4,++T):g+=3}return g},Je=(c,g,T,D)=>{if(!(0<D))return 0;var $=T;D=T+D-1;for(var ee=0;ee<c.length;++ee){var me=c.charCodeAt(ee);if(55296<=me&&57343>=me){var He=c.charCodeAt(++ee);me=65536+((me&1023)<<10)|He&1023}if(127>=me){if(T>=D)break;g[T++]=me}else{if(2047>=me){if(T+1>=D)break;g[T++]=192|me>>6}else{if(65535>=me){if(T+2>=D)break;g[T++]=224|me>>12}else{if(T+3>=D)break;g[T++]=240|me>>18,g[T++]=128|me>>12&63}g[T++]=128|me>>6&63}g[T++]=128|me&63}}return g[T]=0,T-$},Ye=(c,g)=>{var T=Array(Be(c)+1);return c=Je(c,T,0,T.length),g&&(T.length=c),T},jt=[];function Gt(c,g){jt[c]={input:[],output:[],cb:g},Xs(c,_t)}var _t={open(c){var g=jt[c.node.rdev];if(!g)throw new Ae(43);c.tty=g,c.seekable=!1},close(c){c.tty.cb.fsync(c.tty)},fsync(c){c.tty.cb.fsync(c.tty)},read(c,g,T,D){if(!c.tty||!c.tty.cb.xb)throw new Ae(60);for(var $=0,ee=0;ee<D;ee++){try{var me=c.tty.cb.xb(c.tty)}catch{throw new Ae(29)}if(me===void 0&&$===0)throw new Ae(6);if(me==null)break;$++,g[T+ee]=me}return $&&(c.node.atime=Date.now()),$},write(c,g,T,D){if(!c.tty||!c.tty.cb.qb)throw new Ae(60);try{for(var $=0;$<D;$++)c.tty.cb.qb(c.tty,g[T+$])}catch{throw new Ae(29)}return D&&(c.node.mtime=c.node.ctime=Date.now()),$}},Vr={xb(){e:{if(!_e.length){var c=null;if(j){var g=Buffer.alloc(256),T=0,D=process.stdin.fd;try{T=R.readSync(D,g,0,256)}catch($){if($.toString().includes("EOF"))T=0;else throw $}0<T&&(c=g.slice(0,T).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(c=window.prompt("Input: "),c!==null&&(c+=`
`));if(!c){c=null;break e}_e=Ye(c,!0)}c=_e.shift()}return c},qb(c,g){g===null||g===10?(L(J(c.output)),c.output=[]):g!=0&&c.output.push(g)},fsync(c){0<c.output?.length&&(L(J(c.output)),c.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},ut={qb(c,g){g===null||g===10?(F(J(c.output)),c.output=[]):g!=0&&c.output.push(g)},fsync(c){0<c.output?.length&&(F(J(c.output)),c.output=[])}},Ve={Wa:null,Xa(){return Ve.createNode(null,"/",16895,0)},createNode(c,g,T,D){if((T&61440)===24576||(T&61440)===4096)throw new Ae(63);return Ve.Wa||(Ve.Wa={dir:{node:{Ta:Ve.La.Ta,Ua:Ve.La.Ua,lookup:Ve.La.lookup,hb:Ve.La.hb,rename:Ve.La.rename,unlink:Ve.La.unlink,rmdir:Ve.La.rmdir,readdir:Ve.La.readdir,symlink:Ve.La.symlink},stream:{Va:Ve.Ma.Va}},file:{node:{Ta:Ve.La.Ta,Ua:Ve.La.Ua},stream:{Va:Ve.Ma.Va,read:Ve.Ma.read,write:Ve.Ma.write,ib:Ve.Ma.ib,jb:Ve.Ma.jb}},link:{node:{Ta:Ve.La.Ta,Ua:Ve.La.Ua,readlink:Ve.La.readlink},stream:{}},ub:{node:{Ta:Ve.La.Ta,Ua:Ve.La.Ua},stream:Qa}}),T=pn(c,g,T,D),Mt(T.mode)?(T.La=Ve.Wa.dir.node,T.Ma=Ve.Wa.dir.stream,T.Na={}):(T.mode&61440)===32768?(T.La=Ve.Wa.file.node,T.Ma=Ve.Wa.file.stream,T.Ra=0,T.Na=null):(T.mode&61440)===40960?(T.La=Ve.Wa.link.node,T.Ma=Ve.Wa.link.stream):(T.mode&61440)===8192&&(T.La=Ve.Wa.ub.node,T.Ma=Ve.Wa.ub.stream),T.atime=T.mtime=T.ctime=Date.now(),c&&(c.Na[g]=T,c.atime=c.mtime=c.ctime=T.atime),T},Sb(c){return c.Na?c.Na.subarray?c.Na.subarray(0,c.Ra):new Uint8Array(c.Na):new Uint8Array(0)},La:{Ta(c){var g={};return g.dev=(c.mode&61440)===8192?c.id:1,g.ino=c.id,g.mode=c.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=c.rdev,Mt(c.mode)?g.size=4096:(c.mode&61440)===32768?g.size=c.Ra:(c.mode&61440)===40960?g.size=c.link.length:g.size=0,g.atime=new Date(c.atime),g.mtime=new Date(c.mtime),g.ctime=new Date(c.ctime),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},Ua(c,g){for(var T of["mode","atime","mtime","ctime"])g[T]!=null&&(c[T]=g[T]);g.size!==void 0&&(g=g.size,c.Ra!=g&&(g==0?(c.Na=null,c.Ra=0):(T=c.Na,c.Na=new Uint8Array(g),T&&c.Na.set(T.subarray(0,Math.min(g,c.Ra))),c.Ra=g)))},lookup(){throw Ve.vb},hb(c,g,T,D){return Ve.createNode(c,g,T,D)},rename(c,g,T){try{var D=jr(g,T)}catch{}if(D){if(Mt(c.mode))for(var $ in D.Na)throw new Ae(55);Qr(D)}delete c.parent.Na[c.name],g.Na[T]=c,c.name=T,g.ctime=g.mtime=c.parent.ctime=c.parent.mtime=Date.now()},unlink(c,g){delete c.Na[g],c.ctime=c.mtime=Date.now()},rmdir(c,g){var T=jr(c,g),D;for(D in T.Na)throw new Ae(55);delete c.Na[g],c.ctime=c.mtime=Date.now()},readdir(c){return[".","..",...Object.keys(c.Na)]},symlink(c,g,T){return c=Ve.createNode(c,g,41471,0),c.link=T,c},readlink(c){if((c.mode&61440)!==40960)throw new Ae(28);return c.link}},Ma:{read(c,g,T,D,$){var ee=c.node.Na;if($>=c.node.Ra)return 0;if(c=Math.min(c.node.Ra-$,D),8<c&&ee.subarray)g.set(ee.subarray($,$+c),T);else for(D=0;D<c;D++)g[T+D]=ee[$+D];return c},write(c,g,T,D,$,ee){if(g.buffer===fe.buffer&&(ee=!1),!D)return 0;if(c=c.node,c.mtime=c.ctime=Date.now(),g.subarray&&(!c.Na||c.Na.subarray)){if(ee)return c.Na=g.subarray(T,T+D),c.Ra=D;if(c.Ra===0&&$===0)return c.Na=g.slice(T,T+D),c.Ra=D;if($+D<=c.Ra)return c.Na.set(g.subarray(T,T+D),$),D}ee=$+D;var me=c.Na?c.Na.length:0;if(me>=ee||(ee=Math.max(ee,me*(1048576>me?2:1.125)>>>0),me!=0&&(ee=Math.max(ee,256)),me=c.Na,c.Na=new Uint8Array(ee),0<c.Ra&&c.Na.set(me.subarray(0,c.Ra),0)),c.Na.subarray&&g.subarray)c.Na.set(g.subarray(T,T+D),$);else for(ee=0;ee<D;ee++)c.Na[$+ee]=g[T+ee];return c.Ra=Math.max(c.Ra,$+D),D},Va(c,g,T){if(T===1?g+=c.position:T===2&&(c.node.mode&61440)===32768&&(g+=c.node.Ra),0>g)throw new Ae(28);return g},ib(c,g,T,D,$){if((c.node.mode&61440)!==32768)throw new Ae(43);if(c=c.node.Na,$&2||!c||c.buffer!==fe.buffer){$=!0,D=65536*Math.ceil(g/65536);var ee=Cr(65536,D);if(ee&&pe.fill(0,ee,ee+D),D=ee,!D)throw new Ae(48);c&&((0<T||T+g<c.length)&&(c.subarray?c=c.subarray(T,T+g):c=Array.prototype.slice.call(c,T,T+g)),fe.set(c,D))}else $=!1,D=c.byteOffset;return{Kb:D,Ab:$}},jb(c,g,T,D){return Ve.Ma.write(c,g,0,D,T,!1),0}}},gn=(c,g)=>{var T=0;return c&&(T|=365),g&&(T|=146),T},Pt=null,Gr={},pr=[],$n=1,Qt=null,yr=!1,$t=!0,Or={},Ae=class{name="ErrnoError";constructor(c){this.Pa=c}},Ka=class{gb={};node=null;get flags(){return this.gb.flags}set flags(c){this.gb.flags=c}get position(){return this.gb.position}set position(c){this.gb.position=c}},Va=class{La={};Ma={};ab=null;constructor(c,g,T,D){c||=this,this.parent=c,this.Xa=c.Xa,this.id=$n++,this.name=g,this.mode=T,this.rdev=D,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(c){c?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(c){c?this.mode|=146:this.mode&=-147}};function Ht(c,g={}){if(!c)throw new Ae(44);g.nb??(g.nb=!0),c.charAt(0)==="/"||(c="//"+c);var T=0;e:for(;40>T;T++){c=c.split("/").filter(He=>!!He);for(var D=Pt,$="/",ee=0;ee<c.length;ee++){var me=ee===c.length-1;if(me&&g.parent)break;if(c[ee]!==".")if(c[ee]==="..")$=ye($),D=D.parent;else{$=G($+"/"+c[ee]);try{D=jr(D,c[ee])}catch(He){if(He?.Pa===44&&me&&g.Jb)return{path:$};throw He}if(!D.ab||me&&!g.nb||(D=D.ab.root),(D.mode&61440)===40960&&(!me||g.$a)){if(!D.La.readlink)throw new Ae(52);D=D.La.readlink(D),D.charAt(0)==="/"||(D=ye($)+"/"+D),c=D+"/"+c.slice(ee+1).join("/");continue e}}}return{path:$,node:D}}throw new Ae(32)}function Hn(c){for(var g;;){if(c===c.parent)return c=c.Xa.zb,g?c[c.length-1]!=="/"?`${c}/${g}`:c+g:c;g=g?`${c.name}/${g}`:c.name,c=c.parent}}function ds(c,g){for(var T=0,D=0;D<g.length;D++)T=(T<<5)-T+g.charCodeAt(D)|0;return(c+T>>>0)%Qt.length}function Qr(c){var g=ds(c.parent.id,c.name);if(Qt[g]===c)Qt[g]=c.bb;else for(g=Qt[g];g;){if(g.bb===c){g.bb=c.bb;break}g=g.bb}}function jr(c,g){var T=Mt(c.mode)?(T=_r(c,"x"))?T:c.La.lookup?0:2:54;if(T)throw new Ae(T);for(T=Qt[ds(c.id,g)];T;T=T.bb){var D=T.name;if(T.parent.id===c.id&&D===g)return T}return c.La.lookup(c,g)}function pn(c,g,T,D){return c=new Va(c,g,T,D),g=ds(c.parent.id,c.name),c.bb=Qt[g],Qt[g]=c}function Mt(c){return(c&61440)===16384}function yn(c){var g=["r","w","rw"][c&3];return c&512&&(g+="w"),g}function _r(c,g){if($t)return 0;if(!g.includes("r")||c.mode&292){if(g.includes("w")&&!(c.mode&146)||g.includes("x")&&!(c.mode&73))return 2}else return 2;return 0}function Wn(c,g){if(!Mt(c.mode))return 54;try{return jr(c,g),20}catch{}return _r(c,"wx")}function hs(c,g,T){try{var D=jr(c,g)}catch($){return $.Pa}if(c=_r(c,"wx"))return c;if(T){if(!Mt(D.mode))return 54;if(D===D.parent||Hn(D)==="/")return 10}else if(Mt(D.mode))return 31;return 0}function fs(c){if(!c)throw new Ae(63);return c}function It(c){if(c=pr[c],!c)throw new Ae(8);return c}function Ga(c,g=-1){if(c=Object.assign(new Ka,c),g==-1)e:{for(g=0;4096>=g;g++)if(!pr[g])break e;throw new Ae(33)}return c.fd=g,pr[g]=c}function Zr(c,g=-1){return c=Ga(c,g),c.Ma?.Rb?.(c),c}function ms(c,g,T){var D=c?.Ma.Ua;c=D?c:g,D??=g.La.Ua,fs(D),D(c,T)}var Qa={open(c){c.Ma=Gr[c.node.rdev].Ma,c.Ma.open?.(c)},Va(){throw new Ae(70)}};function Xs(c,g){Gr[c]={Ma:g}}function Ys(c,g){var T=g==="/";if(T&&Pt)throw new Ae(10);if(!T&&g){var D=Ht(g,{nb:!1});if(g=D.path,D=D.node,D.ab)throw new Ae(10);if(!Mt(D.mode))throw new Ae(54)}g={type:c,Wb:{},zb:g,Ib:[]},c=c.Xa(g),c.Xa=g,g.root=c,T?Pt=c:D&&(D.ab=g,D.Xa&&D.Xa.Ib.push(g))}function qn(c,g,T){var D=Ht(c,{parent:!0}).node;if(c=xe(c),!c)throw new Ae(28);if(c==="."||c==="..")throw new Ae(20);var $=Wn(D,c);if($)throw new Ae($);if(!D.La.hb)throw new Ae(63);return D.La.hb(D,c,g,T)}function Za(c,g=438){return qn(c,g&4095|32768,0)}function ir(c,g=511){return qn(c,g&1023|16384,0)}function gs(c,g,T){typeof T>"u"&&(T=g,g=438),qn(c,g|8192,T)}function Js(c,g){if(!Ie(c))throw new Ae(44);var T=Ht(g,{parent:!0}).node;if(!T)throw new Ae(44);g=xe(g);var D=Wn(T,g);if(D)throw new Ae(D);if(!T.La.symlink)throw new Ae(63);T.La.symlink(T,g,c)}function mt(c){var g=Ht(c,{parent:!0}).node;c=xe(c);var T=jr(g,c),D=hs(g,c,!0);if(D)throw new Ae(D);if(!g.La.rmdir)throw new Ae(63);if(T.ab)throw new Ae(10);g.La.rmdir(g,c),Qr(T)}function Xa(c){var g=Ht(c,{parent:!0}).node;if(!g)throw new Ae(44);c=xe(c);var T=jr(g,c),D=hs(g,c,!1);if(D)throw new Ae(D);if(!g.La.unlink)throw new Ae(63);if(T.ab)throw new Ae(10);g.La.unlink(g,c),Qr(T)}function Xr(c,g){return c=Ht(c,{$a:!g}).node,fs(c.La.Ta)(c)}function ea(c,g,T,D){ms(c,g,{mode:T&4095|g.mode&-4096,ctime:Date.now(),Fb:D})}function Yr(c,g){c=typeof c=="string"?Ht(c,{$a:!0}).node:c,ea(null,c,g)}function Ya(c,g,T){if(Mt(g.mode))throw new Ae(31);if((g.mode&61440)!==32768)throw new Ae(28);var D=_r(g,"w");if(D)throw new Ae(D);ms(c,g,{size:T,timestamp:Date.now()})}function Jr(c,g,T=438){if(c==="")throw new Ae(44);if(typeof g=="string"){var D={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[g];if(typeof D>"u")throw Error(`Unknown file open mode: ${g}`);g=D}if(T=g&64?T&4095|32768:0,typeof c=="object")D=c;else{var $=c.endsWith("/");c=Ht(c,{$a:!(g&131072),Jb:!0}),D=c.node,c=c.path}var ee=!1;if(g&64)if(D){if(g&128)throw new Ae(20)}else{if($)throw new Ae(31);D=qn(c,T|511,0),ee=!0}if(!D)throw new Ae(44);if((D.mode&61440)===8192&&(g&=-513),g&65536&&!Mt(D.mode))throw new Ae(54);if(!ee&&($=D?(D.mode&61440)===40960?32:Mt(D.mode)&&(yn(g)!=="r"||g&576)?31:_r(D,yn(g)):44))throw new Ae($);return g&512&&!ee&&($=D,$=typeof $=="string"?Ht($,{$a:!0}).node:$,Ya(null,$,0)),g&=-131713,$=Ga({node:D,path:Hn(D),flags:g,seekable:!0,position:0,Ma:D.Ma,Lb:[],error:!1}),$.Ma.open&&$.Ma.open($),ee&&Yr(D,T&511),!m.logReadFiles||g&1||c in Or||(Or[c]=1),$}function xn(c){if(c.fd===null)throw new Ae(8);c.ob&&(c.ob=null);try{c.Ma.close&&c.Ma.close(c)}catch(g){throw g}finally{pr[c.fd]=null}c.fd=null}function or(c,g,T){if(c.fd===null)throw new Ae(8);if(!c.seekable||!c.Ma.Va)throw new Ae(70);if(T!=0&&T!=1&&T!=2)throw new Ae(28);c.position=c.Ma.Va(c,g,T),c.Lb=[]}function Ja(c,g,T,D,$){if(0>D||0>$)throw new Ae(28);if(c.fd===null)throw new Ae(8);if((c.flags&2097155)===1)throw new Ae(8);if(Mt(c.node.mode))throw new Ae(31);if(!c.Ma.read)throw new Ae(28);var ee=typeof $<"u";if(!ee)$=c.position;else if(!c.seekable)throw new Ae(70);return g=c.Ma.read(c,g,T,D,$),ee||(c.position+=g),g}function Zt(c,g,T,D,$){if(0>D||0>$)throw new Ae(28);if(c.fd===null)throw new Ae(8);if((c.flags&2097155)===0)throw new Ae(8);if(Mt(c.node.mode))throw new Ae(31);if(!c.Ma.write)throw new Ae(28);c.seekable&&c.flags&1024&&or(c,0,2);var ee=typeof $<"u";if(!ee)$=c.position;else if(!c.seekable)throw new Ae(70);return g=c.Ma.write(c,g,T,D,$,void 0),ee||(c.position+=g),g}function So(c){var g,T=Jr(c,T||0);c=Xr(c).size;var D=new Uint8Array(c);return Ja(T,D,0,c,0),g=D,xn(T),g}function Lr(c,g,T){c=G("/dev/"+c);var D=gn(!!g,!!T);Lr.yb??(Lr.yb=64);var $=Lr.yb++<<8|0;Xs($,{open(ee){ee.seekable=!1},close(){T?.buffer?.length&&T(10)},read(ee,me,He,et){for(var Xe=0,ct=0;ct<et;ct++){try{var Ct=g()}catch{throw new Ae(29)}if(Ct===void 0&&Xe===0)throw new Ae(6);if(Ct==null)break;Xe++,me[He+ct]=Ct}return Xe&&(ee.node.atime=Date.now()),Xe},write(ee,me,He,et){for(var Xe=0;Xe<et;Xe++)try{T(me[He+Xe])}catch{throw new Ae(29)}return et&&(ee.node.mtime=ee.node.ctime=Date.now()),Xe}}),gs(c,D,$)}var lt={};function xr(c,g,T){if(g.charAt(0)==="/")return g;if(c=c===-100?"/":It(c).path,g.length==0){if(!T)throw new Ae(44);return c}return c+"/"+g}function en(c,g){X[c>>2]=g.dev,X[c+4>>2]=g.mode,E[c+8>>2]=g.nlink,X[c+12>>2]=g.uid,X[c+16>>2]=g.gid,X[c+20>>2]=g.rdev,Te[c+24>>3]=BigInt(g.size),X[c+32>>2]=4096,X[c+36>>2]=g.blocks;var T=g.atime.getTime(),D=g.mtime.getTime(),$=g.ctime.getTime();return Te[c+40>>3]=BigInt(Math.floor(T/1e3)),E[c+48>>2]=T%1e3*1e6,Te[c+56>>3]=BigInt(Math.floor(D/1e3)),E[c+64>>2]=D%1e3*1e6,Te[c+72>>3]=BigInt(Math.floor($/1e3)),E[c+80>>2]=$%1e3*1e6,Te[c+88>>3]=BigInt(g.ino),0}var Mr=void 0,tn=()=>{var c=X[+Mr>>2];return Mr+=4,c},ta=0,No=[0,31,60,91,121,152,182,213,244,274,305,335],ra=[0,31,59,90,120,151,181,212,243,273,304,334],vn={},ps=c=>{ne=c,je||0<ta||(m.onExit?.(c),ie=!0),b(c,new Re(c))},Kn=c=>{if(!ie)try{if(c(),!(je||0<ta))try{ne=c=ne,ps(c)}catch(g){g instanceof Re||g=="unwind"||b(1,g)}}catch(g){g instanceof Re||g=="unwind"||b(1,g)}},na={},ys=()=>{if(!rt){var c={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"},g;for(g in na)na[g]===void 0?delete c[g]:c[g]=na[g];var T=[];for(g in c)T.push(`${g}=${c[g]}`);rt=T}return rt},rt,xs=c=>{var g=Be(c)+1,T=Yt(g);return Je(c,pe,T,g),T},ei=(c,g,T,D)=>{var $={string:Xe=>{var ct=0;return Xe!=null&&Xe!==0&&(ct=xs(Xe)),ct},array:Xe=>{var ct=Yt(Xe.length);return fe.set(Xe,ct),ct}};c=m["_"+c];var ee=[],me=0;if(D)for(var He=0;He<D.length;He++){var et=$[T[He]];et?(me===0&&(me=Gn()),ee[He]=et(D[He])):ee[He]=D[He]}return T=c(...ee),T=function(Xe){return me!==0&&bn(me),g==="string"?Xe?J(pe,Xe):"":g==="boolean"?!!Xe:Xe}(T)},wn=0,Vn=(c,g)=>(g=g==1?Yt(c.length):rn(c.length),c.subarray||c.slice||(c=new Uint8Array(c)),pe.set(c,g),g),Ur,vs=[],lr,cr=c=>{Ur.delete(lr.get(c)),lr.set(c,null),vs.push(c)},Xt=(c,g)=>{if(!Ur){Ur=new WeakMap;var T=lr.length;if(Ur)for(var D=0;D<0+T;D++){var $=lr.get(D);$&&Ur.set($,D)}}if(T=Ur.get(c)||0)return T;if(vs.length)T=vs.pop();else{try{lr.grow(1)}catch(et){throw et instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":et}T=lr.length-1}try{lr.set(T,c)}catch(et){if(!(et instanceof TypeError))throw et;if(typeof WebAssembly.Function=="function"){var ee=WebAssembly.Function;D={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},$={parameters:[],results:g[0]=="v"?[]:[D[g[0]]]};for(var me=1;me<g.length;++me)$.parameters.push(D[g[me]]);g=new ee($,c)}else{D=[1],$=g.slice(0,1),g=g.slice(1),me={i:127,p:127,j:126,f:125,d:124,e:111},D.push(96);var He=g.length;128>He?D.push(He):D.push(He%128|128,He>>7);for(ee of g)D.push(me[ee]);$=="v"?D.push(0):D.push(1,me[$]),g=[0,97,115,109,1,0,0,0,1],ee=D.length,128>ee?g.push(ee):g.push(ee%128|128,ee>>7),g.push(...D),g.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),g=new WebAssembly.Module(new Uint8Array(g)),g=new WebAssembly.Instance(g,{e:{f:c}}).exports.f}lr.set(T,g)}return Ur.set(c,T),T};Qt=Array(4096),Ys(Ve,"/"),ir("/tmp"),ir("/home"),ir("/home/web_user"),function(){ir("/dev"),Xs(259,{read:()=>0,write:(D,$,ee,me)=>me,Va:()=>0}),gs("/dev/null",259),Gt(1280,Vr),Gt(1536,ut),gs("/dev/tty",1280),gs("/dev/tty1",1536);var c=new Uint8Array(1024),g=0,T=()=>(g===0&&(Ne(c),g=c.byteLength),c[--g]);Lr("random",T),Lr("urandom",T),ir("/dev/shm"),ir("/dev/shm/tmp")}(),function(){ir("/proc");var c=ir("/proc/self");ir("/proc/self/fd"),Ys({Xa(){var g=pn(c,"fd",16895,73);return g.Ma={Va:Ve.Ma.Va},g.La={lookup(T,D){T=+D;var $=It(T);return T={parent:null,Xa:{zb:"fake"},La:{readlink:()=>$.path},id:T+1},T.parent=T},readdir(){return Array.from(pr.entries()).filter(([,T])=>T).map(([T])=>T.toString())}},g}},"/proc/self/fd")}(),Ve.vb=new Ae(44),Ve.vb.stack="<generic error, no stack>";var zr={a:(c,g,T,D)=>M(`Assertion failed: ${c?J(pe,c):""}, at: `+[g?g?J(pe,g):"":"unknown filename",T,D?D?J(pe,D):"":"unknown function"]),i:function(c,g){try{return c=c?J(pe,c):"",Yr(c,g),0}catch(T){if(typeof lt>"u"||T.name!=="ErrnoError")throw T;return-T.Pa}},L:function(c,g,T){try{if(g=g?J(pe,g):"",g=xr(c,g),T&-8)return-28;var D=Ht(g,{$a:!0}).node;return D?(c="",T&4&&(c+="r"),T&2&&(c+="w"),T&1&&(c+="x"),c&&_r(D,c)?-2:0):-44}catch($){if(typeof lt>"u"||$.name!=="ErrnoError")throw $;return-$.Pa}},j:function(c,g){try{var T=It(c);return ea(T,T.node,g,!1),0}catch(D){if(typeof lt>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},h:function(c){try{var g=It(c);return ms(g,g.node,{timestamp:Date.now(),Fb:!1}),0}catch(T){if(typeof lt>"u"||T.name!=="ErrnoError")throw T;return-T.Pa}},b:function(c,g,T){Mr=T;try{var D=It(c);switch(g){case 0:var $=tn();if(0>$)break;for(;pr[$];)$++;return Zr(D,$).fd;case 1:case 2:return 0;case 3:return D.flags;case 4:return $=tn(),D.flags|=$,0;case 12:return $=tn(),B[$+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(ee){if(typeof lt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},g:function(c,g){try{var T=It(c),D=T.node,$=T.Ma.Ta;c=$?T:D,$??=D.La.Ta,fs($);var ee=$(c);return en(g,ee)}catch(me){if(typeof lt>"u"||me.name!=="ErrnoError")throw me;return-me.Pa}},H:function(c,g){g=-9007199254740992>g||9007199254740992<g?NaN:Number(g);try{if(isNaN(g))return 61;var T=It(c);if(0>g||(T.flags&2097155)===0)throw new Ae(28);return Ya(T,T.node,g),0}catch(D){if(typeof lt>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},G:function(c,g){try{if(g===0)return-28;var T=Be("/")+1;return g<T?-68:(Je("/",pe,c,g),T)}catch(D){if(typeof lt>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},K:function(c,g){try{return c=c?J(pe,c):"",en(g,Xr(c,!0))}catch(T){if(typeof lt>"u"||T.name!=="ErrnoError")throw T;return-T.Pa}},C:function(c,g,T){try{return g=g?J(pe,g):"",g=xr(c,g),ir(g,T),0}catch(D){if(typeof lt>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},J:function(c,g,T,D){try{g=g?J(pe,g):"";var $=D&256;return g=xr(c,g,D&4096),en(T,$?Xr(g,!0):Xr(g))}catch(ee){if(typeof lt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},x:function(c,g,T,D){Mr=D;try{g=g?J(pe,g):"",g=xr(c,g);var $=D?tn():0;return Jr(g,T,$).fd}catch(ee){if(typeof lt>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},v:function(c,g,T,D){try{if(g=g?J(pe,g):"",g=xr(c,g),0>=D)return-28;var $=Ht(g).node;if(!$)throw new Ae(44);if(!$.La.readlink)throw new Ae(28);var ee=$.La.readlink($),me=Math.min(D,Be(ee)),He=fe[T+me];return Je(ee,pe,T,D+1),fe[T+me]=He,me}catch(et){if(typeof lt>"u"||et.name!=="ErrnoError")throw et;return-et.Pa}},u:function(c){try{return c=c?J(pe,c):"",mt(c),0}catch(g){if(typeof lt>"u"||g.name!=="ErrnoError")throw g;return-g.Pa}},f:function(c,g){try{return c=c?J(pe,c):"",en(g,Xr(c))}catch(T){if(typeof lt>"u"||T.name!=="ErrnoError")throw T;return-T.Pa}},r:function(c,g,T){try{return g=g?J(pe,g):"",g=xr(c,g),T===0?Xa(g):T===512?mt(g):M("Invalid flags passed to unlinkat"),0}catch(D){if(typeof lt>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},q:function(c,g,T){try{g=g?J(pe,g):"",g=xr(c,g,!0);var D=Date.now(),$,ee;if(T){var me=E[T>>2]+4294967296*X[T+4>>2],He=X[T+8>>2];He==1073741823?$=D:He==1073741822?$=null:$=1e3*me+He/1e6,T+=16,me=E[T>>2]+4294967296*X[T+4>>2],He=X[T+8>>2],He==1073741823?ee=D:He==1073741822?ee=null:ee=1e3*me+He/1e6}else ee=$=D;if((ee??$)!==null){c=$;var et=Ht(g,{$a:!0}).node;fs(et.La.Ua)(et,{atime:c,mtime:ee})}return 0}catch(Xe){if(typeof lt>"u"||Xe.name!=="ErrnoError")throw Xe;return-Xe.Pa}},m:()=>M(""),l:()=>{je=!1,ta=0},A:function(c,g){c=-9007199254740992>c||9007199254740992<c?NaN:Number(c),c=new Date(1e3*c),X[g>>2]=c.getSeconds(),X[g+4>>2]=c.getMinutes(),X[g+8>>2]=c.getHours(),X[g+12>>2]=c.getDate(),X[g+16>>2]=c.getMonth(),X[g+20>>2]=c.getFullYear()-1900,X[g+24>>2]=c.getDay();var T=c.getFullYear();X[g+28>>2]=(T%4!==0||T%100===0&&T%400!==0?ra:No)[c.getMonth()]+c.getDate()-1|0,X[g+36>>2]=-(60*c.getTimezoneOffset()),T=new Date(c.getFullYear(),6,1).getTimezoneOffset();var D=new Date(c.getFullYear(),0,1).getTimezoneOffset();X[g+32>>2]=(T!=D&&c.getTimezoneOffset()==Math.min(D,T))|0},y:function(c,g,T,D,$,ee,me){$=-9007199254740992>$||9007199254740992<$?NaN:Number($);try{if(isNaN($))return 61;var He=It(D);if((g&2)!==0&&(T&2)===0&&(He.flags&2097155)!==2)throw new Ae(2);if((He.flags&2097155)===1)throw new Ae(2);if(!He.Ma.ib)throw new Ae(43);if(!c)throw new Ae(28);var et=He.Ma.ib(He,c,$,g,T),Xe=et.Kb;return X[ee>>2]=et.Ab,E[me>>2]=Xe,0}catch(ct){if(typeof lt>"u"||ct.name!=="ErrnoError")throw ct;return-ct.Pa}},z:function(c,g,T,D,$,ee){ee=-9007199254740992>ee||9007199254740992<ee?NaN:Number(ee);try{var me=It($);if(T&2){if(T=ee,(me.node.mode&61440)!==32768)throw new Ae(43);if(!(D&2)){var He=pe.slice(c,c+g);me.Ma.jb&&me.Ma.jb(me,He,T,g,D)}}}catch(et){if(typeof lt>"u"||et.name!=="ErrnoError")throw et;return-et.Pa}},n:(c,g)=>{if(vn[c]&&(clearTimeout(vn[c].id),delete vn[c]),!g)return 0;var T=setTimeout(()=>{delete vn[c],Kn(()=>ti(c,performance.now()))},g);return vn[c]={id:T,Xb:g},0},B:(c,g,T,D)=>{var $=new Date().getFullYear(),ee=new Date($,0,1).getTimezoneOffset();$=new Date($,6,1).getTimezoneOffset(),E[c>>2]=60*Math.max(ee,$),X[g>>2]=+(ee!=$),g=me=>{var He=Math.abs(me);return`UTC${0<=me?"-":"+"}${String(Math.floor(He/60)).padStart(2,"0")}${String(He%60).padStart(2,"0")}`},c=g(ee),g=g($),$<ee?(Je(c,pe,T,17),Je(g,pe,D,17)):(Je(c,pe,D,17),Je(g,pe,T,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:c=>{var g=pe.length;if(c>>>=0,2147483648<c)return!1;for(var T=1;4>=T;T*=2){var D=g*(1+.2/T);D=Math.min(D,c+100663296);e:{D=(Math.min(2147483648,65536*Math.ceil(Math.max(c,D)/65536))-q.buffer.byteLength+65535)/65536|0;try{q.grow(D),Z();var $=1;break e}catch{}$=void 0}if($)return!0}return!1},E:(c,g)=>{var T=0;return ys().forEach((D,$)=>{var ee=g+T;for($=E[c+4*$>>2]=ee,ee=0;ee<D.length;++ee)fe[$++]=D.charCodeAt(ee);fe[$]=0,T+=D.length+1}),0},F:(c,g)=>{var T=ys();E[c>>2]=T.length;var D=0;return T.forEach($=>D+=$.length+1),E[g>>2]=D,0},e:function(c){try{var g=It(c);return xn(g),0}catch(T){if(typeof lt>"u"||T.name!=="ErrnoError")throw T;return T.Pa}},p:function(c,g){try{var T=It(c);return fe[g]=T.tty?2:Mt(T.mode)?3:(T.mode&61440)===40960?7:4,B[g+2>>1]=0,Te[g+8>>3]=BigInt(0),Te[g+16>>3]=BigInt(0),0}catch(D){if(typeof lt>"u"||D.name!=="ErrnoError")throw D;return D.Pa}},w:function(c,g,T,D){try{e:{var $=It(c);c=g;for(var ee,me=g=0;me<T;me++){var He=E[c>>2],et=E[c+4>>2];c+=8;var Xe=Ja($,fe,He,et,ee);if(0>Xe){var ct=-1;break e}if(g+=Xe,Xe<et)break;typeof ee<"u"&&(ee+=Xe)}ct=g}return E[D>>2]=ct,0}catch(Ct){if(typeof lt>"u"||Ct.name!=="ErrnoError")throw Ct;return Ct.Pa}},D:function(c,g,T,D){g=-9007199254740992>g||9007199254740992<g?NaN:Number(g);try{if(isNaN(g))return 61;var $=It(c);return or($,g,T),Te[D>>3]=BigInt($.position),$.ob&&g===0&&T===0&&($.ob=null),0}catch(ee){if(typeof lt>"u"||ee.name!=="ErrnoError")throw ee;return ee.Pa}},I:function(c){try{var g=It(c);return g.Ma?.fsync?g.Ma.fsync(g):0}catch(T){if(typeof lt>"u"||T.name!=="ErrnoError")throw T;return T.Pa}},t:function(c,g,T,D){try{e:{var $=It(c);c=g;for(var ee,me=g=0;me<T;me++){var He=E[c>>2],et=E[c+4>>2];c+=8;var Xe=Zt($,fe,He,et,ee);if(0>Xe){var ct=-1;break e}if(g+=Xe,Xe<et)break;typeof ee<"u"&&(ee+=Xe)}ct=g}return E[D>>2]=ct,0}catch(Ct){if(typeof lt>"u"||Ct.name!=="ErrnoError")throw Ct;return Ct.Pa}},k:ps},Me;(async function(){function c(T){return Me=T.exports,q=Me.M,Z(),lr=Me.O,Q--,m.monitorRunDependencies?.(Q),Q==0&&I&&(T=I,I=null,T()),Me}Q++,m.monitorRunDependencies?.(Q);var g={a:zr};return m.instantiateWasm?new Promise(T=>{m.instantiateWasm(g,(D,$)=>{c(D),T(D.exports)})}):(le??=m.locateFile?m.locateFile("sql-wasm.wasm",N):N+"sql-wasm.wasm",c((await Ce(g)).instance))})(),m._sqlite3_free=c=>(m._sqlite3_free=Me.P)(c),m._sqlite3_value_text=c=>(m._sqlite3_value_text=Me.Q)(c),m._sqlite3_prepare_v2=(c,g,T,D,$)=>(m._sqlite3_prepare_v2=Me.R)(c,g,T,D,$),m._sqlite3_step=c=>(m._sqlite3_step=Me.S)(c),m._sqlite3_reset=c=>(m._sqlite3_reset=Me.T)(c),m._sqlite3_exec=(c,g,T,D,$)=>(m._sqlite3_exec=Me.U)(c,g,T,D,$),m._sqlite3_finalize=c=>(m._sqlite3_finalize=Me.V)(c),m._sqlite3_column_name=(c,g)=>(m._sqlite3_column_name=Me.W)(c,g),m._sqlite3_column_text=(c,g)=>(m._sqlite3_column_text=Me.X)(c,g),m._sqlite3_column_type=(c,g)=>(m._sqlite3_column_type=Me.Y)(c,g),m._sqlite3_errmsg=c=>(m._sqlite3_errmsg=Me.Z)(c),m._sqlite3_clear_bindings=c=>(m._sqlite3_clear_bindings=Me._)(c),m._sqlite3_value_blob=c=>(m._sqlite3_value_blob=Me.$)(c),m._sqlite3_value_bytes=c=>(m._sqlite3_value_bytes=Me.aa)(c),m._sqlite3_value_double=c=>(m._sqlite3_value_double=Me.ba)(c),m._sqlite3_value_int=c=>(m._sqlite3_value_int=Me.ca)(c),m._sqlite3_value_type=c=>(m._sqlite3_value_type=Me.da)(c),m._sqlite3_result_blob=(c,g,T,D)=>(m._sqlite3_result_blob=Me.ea)(c,g,T,D),m._sqlite3_result_double=(c,g)=>(m._sqlite3_result_double=Me.fa)(c,g),m._sqlite3_result_error=(c,g,T)=>(m._sqlite3_result_error=Me.ga)(c,g,T),m._sqlite3_result_int=(c,g)=>(m._sqlite3_result_int=Me.ha)(c,g),m._sqlite3_result_int64=(c,g)=>(m._sqlite3_result_int64=Me.ia)(c,g),m._sqlite3_result_null=c=>(m._sqlite3_result_null=Me.ja)(c),m._sqlite3_result_text=(c,g,T,D)=>(m._sqlite3_result_text=Me.ka)(c,g,T,D),m._sqlite3_aggregate_context=(c,g)=>(m._sqlite3_aggregate_context=Me.la)(c,g),m._sqlite3_column_count=c=>(m._sqlite3_column_count=Me.ma)(c),m._sqlite3_data_count=c=>(m._sqlite3_data_count=Me.na)(c),m._sqlite3_column_blob=(c,g)=>(m._sqlite3_column_blob=Me.oa)(c,g),m._sqlite3_column_bytes=(c,g)=>(m._sqlite3_column_bytes=Me.pa)(c,g),m._sqlite3_column_double=(c,g)=>(m._sqlite3_column_double=Me.qa)(c,g),m._sqlite3_bind_blob=(c,g,T,D,$)=>(m._sqlite3_bind_blob=Me.ra)(c,g,T,D,$),m._sqlite3_bind_double=(c,g,T)=>(m._sqlite3_bind_double=Me.sa)(c,g,T),m._sqlite3_bind_int=(c,g,T)=>(m._sqlite3_bind_int=Me.ta)(c,g,T),m._sqlite3_bind_text=(c,g,T,D,$)=>(m._sqlite3_bind_text=Me.ua)(c,g,T,D,$),m._sqlite3_bind_parameter_index=(c,g)=>(m._sqlite3_bind_parameter_index=Me.va)(c,g),m._sqlite3_sql=c=>(m._sqlite3_sql=Me.wa)(c),m._sqlite3_normalized_sql=c=>(m._sqlite3_normalized_sql=Me.xa)(c),m._sqlite3_changes=c=>(m._sqlite3_changes=Me.ya)(c),m._sqlite3_close_v2=c=>(m._sqlite3_close_v2=Me.za)(c),m._sqlite3_create_function_v2=(c,g,T,D,$,ee,me,He,et)=>(m._sqlite3_create_function_v2=Me.Aa)(c,g,T,D,$,ee,me,He,et),m._sqlite3_update_hook=(c,g,T)=>(m._sqlite3_update_hook=Me.Ba)(c,g,T),m._sqlite3_open=(c,g)=>(m._sqlite3_open=Me.Ca)(c,g);var rn=m._malloc=c=>(rn=m._malloc=Me.Da)(c),Fr=m._free=c=>(Fr=m._free=Me.Ea)(c);m._RegisterExtensionFunctions=c=>(m._RegisterExtensionFunctions=Me.Fa)(c);var Cr=(c,g)=>(Cr=Me.Ga)(c,g),ti=(c,g)=>(ti=Me.Ha)(c,g),bn=c=>(bn=Me.Ia)(c),Yt=c=>(Yt=Me.Ja)(c),Gn=()=>(Gn=Me.Ka)();m.stackSave=()=>Gn(),m.stackRestore=c=>bn(c),m.stackAlloc=c=>Yt(c),m.cwrap=(c,g,T,D)=>{var $=!T||T.every(ee=>ee==="number"||ee==="boolean");return g!=="string"&&$&&!D?m["_"+c]:(...ee)=>ei(c,g,T,ee)},m.addFunction=Xt,m.removeFunction=cr,m.UTF8ToString=U,m.ALLOC_NORMAL=wn,m.allocate=Vn,m.allocateUTF8OnStack=xs;function ws(){function c(){if(m.calledRun=!0,!ie){if(!m.noFSInit&&!yr){var g,T;yr=!0,D??=m.stdin,g??=m.stdout,T??=m.stderr,D?Lr("stdin",D):Js("/dev/tty","/dev/stdin"),g?Lr("stdout",null,g):Js("/dev/tty","/dev/stdout"),T?Lr("stderr",null,T):Js("/dev/tty1","/dev/stderr"),Jr("/dev/stdin",0),Jr("/dev/stdout",1),Jr("/dev/stderr",1)}if(Me.N(),$t=!1,m.onRuntimeInitialized?.(),m.postRun)for(typeof m.postRun=="function"&&(m.postRun=[m.postRun]);m.postRun.length;){var D=m.postRun.shift();Oe.unshift(D)}Pe(Oe)}}if(0<Q)I=ws;else{if(m.preRun)for(typeof m.preRun=="function"&&(m.preRun=[m.preRun]);m.preRun.length;)st();Pe(Ge),0<Q?I=ws:m.setStatus?(m.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>m.setStatus(""),1),c()},1)):c()}}if(m.preInit)for(typeof m.preInit=="function"&&(m.preInit=[m.preInit]);0<m.preInit.length;)m.preInit.pop()();return ws(),p}),s)};o.exports=l,o.exports.default=l}(yc)),yc.exports}var Ig=Pg();const Rg=za(Ig),Ra={newCardsPerDay:20,maxReviewsPerDay:100,easyBonus:1.3,intervalModifier:1,maximumInterval:36500,minimumInterval:1},mo=o=>o.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\[sound:[^\]]*\]/g,"").trim(),Dg=o=>{if(o.length===0)return{frontIndex:0,backIndex:1};const a=o[0].length,s=[];for(let l=0;l<a;l++)for(let u=l+1;u<a;u++){let d=0,f=0;for(const x of o){const m=mo(x[l]||""),_=mo(x[u]||"");m&&_&&(f++,m.length>2&&_.length>2&&(d+=10),m!==_&&(d+=5),!m.match(/^\[sound:/)&&!_.match(/^\[sound:/)&&(d+=3),!m.match(/^\d+$/)&&!_.match(/^\d+$/)&&(d+=2))}const p=f>0?d/f:0;s.push({frontIndex:l,backIndex:u,score:p})}return s.sort((l,u)=>u.score-l.score),s.length>0&&s[0].score>0?(console.log(`Best field combination: ${s[0].frontIndex} -> ${s[0].backIndex} (score: ${s[0].score})`),{frontIndex:s[0].frontIndex,backIndex:s[0].backIndex}):a>=3?{frontIndex:0,backIndex:2}:{frontIndex:0,backIndex:1}},Og=async o=>{try{const a=await Rg({locateFile:j=>`https://sql.js.org/dist/${j}`}),s=await o.arrayBuffer(),d=(await new Eg().loadAsync(s)).file("collection.anki2");if(!d)throw new Error("Invalid .apkg file: collection.anki2 not found");const f=await d.async("arraybuffer"),p=new a.Database(new Uint8Array(f)),x=p.exec("SELECT decks FROM col LIMIT 1");let m=o.name.replace(/\.apkg$/,"");if(x.length>0&&x[0].values.length>0)try{const j=x[0].values[0][0],v=JSON.parse(j),A=Object.keys(v).filter(b=>b!=="1");A.length>0&&(m=v[A[0]].name||m)}catch{console.warn("Could not parse deck names from .apkg file, using filename")}const _=p.exec(`
      SELECT n.flds, n.tags, c.type
      FROM notes n
      JOIN cards c ON n.id = c.nid
      WHERE c.type >= 0
      ORDER BY n.id
    `),S=[];if(_.length>0){const j=Math.min(10,_[0].values.length),v=[];for(let N=0;N<j;N++){const w=_[0].values[N][0].split("");v.push(w)}const{frontIndex:A,backIndex:b}=Dg(v);console.log(`Using field combination: ${A} (front) -> ${b} (back)`);for(const N of _[0].values){const w=N[0].split("");if(w.length>Math.max(A,b)){const C=mo(w[A]||""),R=mo(w[b]||"");C&&R&&C!==R&&S.push({front:C,back:R})}}}if(p.close(),S.length===0)throw new Error("No valid cards found in the .apkg file");return console.log(`Successfully parsed ${S.length} cards from .apkg file`),{name:m,cards:S}}catch(a){throw console.error("Error parsing .apkg file:",a),new Error(`Failed to parse .apkg file: ${a instanceof Error?a.message:"Unknown error"}`)}},qa=Ha()(bo((o,a)=>({decks:[],cards:{},currentStudySession:null,isLoading:!1,error:null,importProgress:0,importStatus:null,createDeck:async s=>{o({isLoading:!0,error:null});try{const l={...s,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),settings:{...Ra,...s.settings}};return o(u=>({decks:[...u.decks,l],cards:{...u.cards,[l.id]:[]},isLoading:!1})),l}catch(l){throw o({error:"Failed to create deck",isLoading:!1}),l}},updateDeck:async(s,l)=>{o({isLoading:!0,error:null});try{o(u=>({decks:u.decks.map(d=>d.id===s?{...d,...l,updatedAt:new Date().toISOString()}:d),isLoading:!1}))}catch(u){throw o({error:"Failed to update deck",isLoading:!1}),u}},deleteDeck:async s=>{o({isLoading:!0,error:null});try{o(l=>{const{[s]:u,...d}=l.cards;return{decks:l.decks.filter(f=>f.id!==s),cards:d,isLoading:!1}})}catch(l){throw o({error:"Failed to delete deck",isLoading:!1}),l}},getDeck:s=>a().decks.find(l=>l.id===s),addCard:async(s,l)=>{o({isLoading:!0,error:null});try{const u={...l,id:crypto.randomUUID(),deckId:s,createdAt:new Date().toISOString(),easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0};return o(d=>{const p=[...d.cards[s]||[],u];return{cards:{...d.cards,[s]:p},decks:d.decks.map(x=>x.id===s?{...x,cardCount:p.length,updatedAt:new Date().toISOString()}:x),isLoading:!1}}),u}catch(u){throw o({error:"Failed to add card",isLoading:!1}),u}},addCardBulk:async(s,l)=>{try{const d=a().cards[s]||[],f=`${l.frontContent.trim().toLowerCase()}|${l.backContent.trim().toLowerCase()}`;if(d.some(m=>`${m.frontContent.trim().toLowerCase()}|${m.backContent.trim().toLowerCase()}`===f))return console.log("Skipping duplicate card:",l.frontContent),{...l,id:"duplicate-skipped",deckId:s,createdAt:new Date().toISOString(),easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0};const x={...l,id:crypto.randomUUID(),deckId:s,createdAt:new Date().toISOString(),easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0};return o(m=>{const S=[...m.cards[s]||[],x];return{cards:{...m.cards,[s]:S},decks:m.decks.map(j=>j.id===s?{...j,cardCount:S.length,updatedAt:new Date().toISOString()}:j)}}),x}catch(u){throw console.error("Failed to add card during bulk import:",u),u}},createDeckBulk:async s=>{try{const l={...s,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),settings:{...Ra,...s.settings}};return o(u=>({decks:[...u.decks,l],cards:{...u.cards,[l.id]:[]}})),l}catch(l){throw console.error("Failed to create deck during bulk import:",l),l}},addCardsBatch:async(s,l)=>{try{const d=a().cards[s]||[],f=new Set(d.map(m=>`${m.frontContent.trim().toLowerCase()}|${m.backContent.trim().toLowerCase()}`)),p=l.filter(m=>{const _=`${m.frontContent.trim().toLowerCase()}|${m.backContent.trim().toLowerCase()}`;return!f.has(_)});if(console.log(`Batch processing: ${l.length} cards submitted, ${p.length} unique cards to add`),p.length===0)return console.log("No new unique cards to add in this batch"),[];const x=p.map(m=>({...m,id:crypto.randomUUID(),deckId:s,createdAt:new Date().toISOString(),easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0}));return o(m=>{const S=[...m.cards[s]||[],...x];return{cards:{...m.cards,[s]:S},decks:m.decks.map(j=>j.id===s?{...j,cardCount:S.length,updatedAt:new Date().toISOString()}:j)}}),x}catch(u){throw console.error("Failed to add cards during batch import:",u),u}},updateCard:async(s,l)=>{o({isLoading:!0,error:null});try{o(u=>{const d={...u.cards};for(const f in d)d[f]=d[f].map(p=>p.id===s?{...p,...l}:p);return{cards:d,isLoading:!1}})}catch(u){throw o({error:"Failed to update card",isLoading:!1}),u}},deleteCard:async s=>{o({isLoading:!0,error:null});try{o(l=>{const u={...l.cards};let d="";for(const f in u)if(u[f].findIndex(x=>x.id===s)!==-1){u[f]=u[f].filter(x=>x.id!==s),d=f;break}return{cards:u,decks:l.decks.map(f=>f.id===d?{...f,cardCount:u[d].length,updatedAt:new Date().toISOString()}:f),isLoading:!1}})}catch(l){throw o({error:"Failed to delete card",isLoading:!1}),l}},getCards:s=>a().cards[s]||[],importAnkiDeck:async s=>{const{setImportProgress:l,resetImportProgress:u}=a();o({isLoading:!0,error:null}),u();try{const d=s.name.toLowerCase();if(d.endsWith(".apkg")){l(10,"Reading file...");const{name:f,cards:p}=await Og(s);l(30,"Creating deck...");const x=await a().createDeckBulk({userId:"current-user",title:f,description:`Imported Anki deck with ${p.length} cards`,cardCount:0,isPublic:!1,settings:Ra,category:"imported"});l(40,`Importing ${p.length} cards...`);const m=[],_=new Set;for(const A of p){const b=`${A.front.trim().toLowerCase()}|${A.back.trim().toLowerCase()}`;_.has(b)||(_.add(b),m.push(A))}console.log(`Removed ${p.length-m.length} duplicates from Anki cards. Processing ${m.length} unique cards.`);const S=100;let j=0;const v=m.length;console.log(`Starting batch import of ${v} unique cards`);for(let A=0;A<v;A+=S){const b=m.slice(A,A+S),N=b.map(w=>Oa(w.front,w.back,{type:"basic"},[]));try{console.log(`Processing batch ${Math.floor(A/S)+1}/${Math.ceil(v/S)} (${b.length} cards)`),await a().addCardsBatch(x.id,N),j+=b.length;const w=40+50*Math.min(A+S,v)/v;l(w,`Imported ${j}/${v} cards...`),console.log(`Batch completed. Progress: ${w.toFixed(1)}%`),await new Promise(C=>setTimeout(C,50))}catch(w){console.error("Failed to import batch:",w);for(const R of b)try{await a().addCardBulk(x.id,Oa(R.front,R.back,{type:"basic"},[])),j++}catch(L){console.warn("Failed to import individual card:",R,L)}const C=40+50*Math.min(A+S,v)/v;l(C,`Imported ${j}/${v} cards...`)}}return console.log(`Batch import completed. Total successful: ${j}`),l(95,"Finalizing import..."),await a().updateDeck(x.id,{description:`Imported Anki deck with ${j} cards`}),l(100,"Import completed!"),setTimeout(()=>{u()},1e3),o({isLoading:!1}),x}else if(d.endsWith(".txt")||d.endsWith(".tsv")||d.endsWith(".csv")){l(10,"Reading text file...");const f=await s.text();let p="	";d.endsWith(".csv")&&(p=","),l(20,"Processing text content...");const x=f.replace(/\r\n/g,`
`).replace(/\r/g,`
`).trim(),m=await a().importFromText(s.name.replace(/\.[^/.]+$/,""),x,p);return o({isLoading:!1}),m}else{l(10,"Reading file as text...");const f=await s.text();l(20,"Processing content...");const p=f.replace(/\r\n/g,`
`).replace(/\r/g,`
`).trim(),x=await a().importFromText(s.name.replace(/\.[^/.]+$/,""),p,"	");return o({isLoading:!1}),x}}catch(d){const f=d instanceof Error?d.message:"Failed to import Anki deck";throw o({error:f,isLoading:!1}),u(),d}},importFromText:async(s,l,u="	")=>{const{setImportProgress:d,resetImportProgress:f}=a();o({isLoading:!0,error:null});try{d(30,"Processing text content...");const x=l.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\\u0000/g,"").replace(/[\\u0001-\\u0008\\u000B\\u000C\\u000E-\\u001F\\u007F]/g,"").trim().split(`
`).map(N=>N.trim()).filter(N=>N.length>0);if(x.length===0)throw new Error("No valid content found in the file");d(40,"Creating deck...");const m=await a().createDeckBulk({userId:"current-user",title:s,description:`Imported deck with ${x.length} cards`,cardCount:0,isPublic:!1,settings:Ra,category:"imported"});d(50,`Importing ${x.length} cards...`);const _=[];let S=0;for(let N=0;N<x.length;N++){const w=x[N];try{let C;if(u===","&&w.includes('"')?C=w.split(",").map(R=>R.replace(/^"(.*)"$/,"$1").trim()):C=w.split(u),C.length>=2){const R=C[0].trim(),L=C[1].trim();R&&L?_.push(Oa(R,L,{type:"basic"},[])):S++}else S++}catch(C){console.warn("Failed to parse line:",w,C),S++}}const j=[],v=new Set;for(const N of _){const w=`${N.frontContent.trim().toLowerCase()}|${N.backContent.trim().toLowerCase()}`;v.has(w)||(v.add(w),j.push(N))}console.log(`Removed ${_.length-j.length} duplicates from parsed cards. Processing ${j.length} unique cards.`);const A=100;let b=0;console.log(`Starting text import batch processing of ${j.length} unique cards`);for(let N=0;N<j.length;N+=A){const w=j.slice(N,N+A);try{console.log(`Processing text batch ${Math.floor(N/A)+1}/${Math.ceil(j.length/A)} (${w.length} cards)`);const C=await a().addCardsBatch(m.id,w);b+=C.length;const R=50+40*Math.min(N+A,j.length)/j.length;d(R,`Imported ${b}/${j.length} cards...`),console.log(`Text batch completed. Progress: ${R.toFixed(1)}%, Added: ${C.length} cards`),await new Promise(L=>setTimeout(L,50))}catch(C){console.error("Failed to import text batch:",C);for(const L of w)try{(await a().addCardBulk(m.id,L)).id!=="duplicate-skipped"&&b++}catch(F){console.warn("Failed to import individual text card:",L,F)}const R=50+40*Math.min(N+A,j.length)/j.length;d(R,`Imported ${b}/${j.length} cards...`)}}if(console.log(`Text import batch processing completed. Total successful: ${b}`),d(95,"Finalizing import..."),await a().updateDeck(m.id,{description:`Imported deck with ${b} cards${S>0?` (${S} lines skipped)`:""}`}),b===0)throw new Error("No valid cards could be imported. Please check the file format.");return d(100,"Import completed!"),setTimeout(()=>{f()},1e3),o({isLoading:!1}),m}catch(p){throw o({error:"Failed to import from text",isLoading:!1}),f(),p}},loadExampleDecks:async()=>{o({isLoading:!0,error:null});try{const s=a(),l=new Set(s.decks.map(f=>f.title));if(["Spanish Vocabulary","JavaScript Concepts","World Capitals"].some(f=>l.has(f))){console.log("Example decks already exist, skipping load"),o({isLoading:!1});return}const d=[{title:"Spanish Vocabulary",description:"Essential Spanish words for beginners",category:"language",cards:[{front:"Hello",back:"Hola"},{front:"Goodbye",back:"Adiós"},{front:"Thank you",back:"Gracias"},{front:"Please",back:"Por favor"},{front:"Yes",back:"Sí"},{front:"No",back:"No"},{front:"Water",back:"Agua"},{front:"Food",back:"Comida"},{front:"House",back:"Casa"},{front:"Car",back:"Coche"}]},{title:"JavaScript Concepts",description:"Important JavaScript programming concepts",category:"programming",cards:[{front:"What is a closure?",back:"A closure is a function that has access to variables in its outer (enclosing) scope even after the outer function has returned."},{front:"What is hoisting?",back:"Hoisting is JavaScript's default behavior of moving declarations to the top of their scope."},{front:"What is the difference between let and var?",back:"let has block scope and cannot be redeclared, while var has function scope and can be redeclared."},{front:"What is a Promise?",back:"A Promise is an object representing the eventual completion or failure of an asynchronous operation."},{front:"What is async/await?",back:"async/await is syntactic sugar for working with Promises, making asynchronous code look more like synchronous code."}]},{title:"World Capitals",description:"Capital cities of countries around the world",category:"geography",cards:[{front:"France",back:"Paris"},{front:"Germany",back:"Berlin"},{front:"Italy",back:"Rome"},{front:"Spain",back:"Madrid"},{front:"United Kingdom",back:"London"},{front:"Japan",back:"Tokyo"},{front:"China",back:"Beijing"},{front:"Australia",back:"Canberra"},{front:"Brazil",back:"Brasília"},{front:"Canada",back:"Ottawa"}]}];console.log("Loading example decks...");for(const f of d){const p=await a().createDeck({userId:"current-user",title:f.title,description:f.description,cardCount:0,isPublic:!1,settings:Ra,category:f.category,tags:[f.category]});for(const x of f.cards)await a().addCard(p.id,Oa(x.front,x.back,{type:"basic"},[]))}console.log("Example decks loaded successfully"),o({isLoading:!1})}catch(s){throw o({error:"Failed to load example decks",isLoading:!1}),s}},clearError:()=>o({error:null}),setLoading:s=>o({isLoading:s}),removeDuplicateCards:async s=>{try{const u=a().cards[s]||[];if(u.length===0)return 0;const d=new Map;let f=0;for(const x of u){const m=`${x.frontContent.trim().toLowerCase()}|${x.backContent.trim().toLowerCase()}`;d.has(m)?(f++,console.log(`Removing duplicate card: ${x.frontContent}`)):d.set(m,x)}const p=Array.from(d.values());return f>0&&(o(x=>({cards:{...x.cards,[s]:p},decks:x.decks.map(m=>m.id===s?{...m,cardCount:p.length,updatedAt:new Date().toISOString()}:m)})),console.log(`Removed ${f} duplicate cards from deck. ${p.length} unique cards remaining.`)),f}catch(l){throw console.error("Failed to remove duplicate cards:",l),l}},setImportProgress:(s,l)=>o({importProgress:s,importStatus:l}),resetImportProgress:()=>o({importProgress:0,importStatus:null}),startStudySession:(s,l)=>{o({currentStudySession:{deckId:s,currentCardIndex:0,studyCards:l,sessionStats:{total:l.length,correct:0,incorrect:0},startedAt:new Date().toISOString()}})},updateStudySession:(s,l)=>{o(u=>({currentStudySession:u.currentStudySession?{...u.currentStudySession,currentCardIndex:s,sessionStats:l}:null}))},clearStudySession:()=>{o({currentStudySession:null})},getStudySession:s=>{const l=a();return l.currentStudySession?.deckId===s?l.currentStudySession:null},resetAllStudyData:()=>{o(s=>{const l={};for(const[u,d]of Object.entries(s.cards))l[u]=d.map(f=>({...f,easeFactor:2.5,intervalDays:0,nextReview:new Date().toISOString(),reviewCount:0,lapseCount:0}));return{cards:l,currentStudySession:null}})}}),{name:"deck-storage",partialize:o=>({decks:o.decks,cards:o.cards,currentStudySession:o.currentStudySession})})),Lg=()=>{const o=Zs(),{decks:a,getCards:s}=qa(),{userStats:l,userAchievements:u,achievements:d}=Wa(),{user:f}=mn(),p=()=>a.map(j=>{const A=s(j.id).filter(b=>b.reviewCount===0?!0:new Date(b.nextReview)<=new Date);return{...j,dueCount:A.length}}).filter(j=>j.dueCount>0),x=()=>u.map(j=>{const v=d.find(A=>A.id===j.achievementId);return v?{...v,earnedAt:j.earnedAt}:null}).filter(Boolean).sort((j,v)=>new Date(v.earnedAt).getTime()-new Date(j.earnedAt).getTime()).slice(0,3),m=j=>j>=1e6?`${(j/1e6).toFixed(1)}M`:j>=1e3?`${(j/1e3).toFixed(1)}K`:j.toString(),_=p(),S=x();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gradient mb-4",children:"Welcome to StudyMaster"}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Master your learning with spaced repetition and gamification"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Live data • Real-time insights"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:m(l.xp)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total XP"})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-success-600 mb-2",children:l.currentStreak}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Day Streak"})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-warning-600 mb-2",children:l.gold}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Coins"})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:l.level}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Level"})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"📚 Study Today"}),_.length>0?r.jsxs("div",{className:"space-y-4",children:[_.slice(0,3).map(j=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:j.title}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[j.dueCount," cards due"]})]}),r.jsx("button",{onClick:()=>o(`/study/${j.id}`),className:"btn btn-primary btn-sm",children:"Study Now"})]},j.id)),_.length>3&&r.jsx("div",{className:"text-center",children:r.jsxs("button",{onClick:()=>o("/decks"),className:"btn btn-secondary btn-sm",children:["View All Decks (",_.length-3," more)"]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"All caught up!"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No cards are due for review right now. Great job!"}),r.jsx("button",{onClick:()=>o("/decks"),className:"btn btn-primary",children:"Browse Your Decks"})]})]}),S.length>0&&r.jsxs("div",{className:"card p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"🏆 Recent Achievements"}),r.jsx("div",{className:"space-y-3",children:S.map(j=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-success-100 dark:bg-success-900 rounded-full flex items-center justify-center",children:j.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:j.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:j.description})]})]},j.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(Da,{to:"/decks",className:"card p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"text-4xl mb-2",children:"📚"}),r.jsx("h3",{className:"font-semibold",children:"My Decks"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your study materials"})]}),r.jsxs(Da,{to:"/global-stats",className:"card p-6 text-center hover:shadow-lg transition-shadow bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"text-4xl mb-2",children:"🌍"}),r.jsx("h3",{className:"font-semibold",children:"Global Stats"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Real-time learning insights"})]}),r.jsxs(Da,{to:"/challenges",className:"card p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"text-4xl mb-2",children:"🎯"}),r.jsx("h3",{className:"font-semibold",children:"Challenges"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Join learning challenges"})]}),r.jsxs(Da,{to:"/leaderboard",className:"card p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"text-4xl mb-2",children:"🏆"}),r.jsx("h3",{className:"font-semibold",children:"Leaderboard"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"See how you rank"})]})]}),r.jsxs("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-800 dark:text-blue-200 flex items-center gap-2",children:"💡 Learning Insights"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"87%"}),r.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Spaced repetition effectiveness"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"25min"}),r.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Optimal study session"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"7-9PM"}),r.jsx("div",{className:"text-purple-700 dark:text-purple-300",children:"Peak learning hours"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:"3x"}),r.jsx("div",{className:"text-orange-700 dark:text-orange-300",children:"Retention improvement"})]})]})]})]})};var Mg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ug=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ec=(o,a)=>{const s=K.forwardRef(({color:l="currentColor",size:u=24,strokeWidth:d=2,absoluteStrokeWidth:f,children:p,...x},m)=>K.createElement("svg",{ref:m,...Mg,width:u,height:u,stroke:l,strokeWidth:f?Number(d)*24/Number(u):d,className:`lucide lucide-${Ug(o)}`,...x},[...a.map(([_,S])=>K.createElement(_,S)),...(Array.isArray(p)?p:[p])||[]]));return s.displayName=`${o}`,s},zg=Ec("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Fg=Ec("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Bg=Ec("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),$g={europe:["AD","LI","LU","MT","MC","SM","VA","CY","ME","MK","XK","SI","MD"],world:["AD","LI","LU","MT","MC","SM","VA","SG","BH","BN","QA","KW","BB","GD","LC","VC","AG","KN","DM","MV","NR","TV","PW","MH","FM","KI","TO","WS","VU","FJ"],africa:["DJ","GM","GW","GQ","CV","KM","MU","SC","ST"],"north-america":["BB","GD","LC","VC","AG","KN","DM","TT","JM"],us:["DE","RI","CT","NJ","NH","VT","MA","MD","HI"]},af=({options:o,showAnswer:a=!1,onAnswer:s,isStudyMode:l=!1})=>{const[u,d]=K.useState(""),[f,p]=K.useState(""),[x,m]=K.useState(!1),[_,S]=K.useState(1),[j,v]=K.useState(0),[A,b]=K.useState(0),[N,w]=K.useState(!1),[C,R]=K.useState({x:0,y:0}),[L,F]=K.useState(!1),H=K.useRef(null),q=K.useCallback(async()=>{try{const ue=await(await fetch(o.svgPath)).text();d(ue)}catch(le){console.error("Failed to load SVG:",le)}},[o.svgPath]);K.useEffect(()=>{q()},[q]),K.useEffect(()=>{p(""),m(!1),F(!1),v(0),b(0)},[o.countryId,o.countryName]);const ie=K.useCallback((le,ue)=>{try{const ae=H.current?.getBoundingClientRect();if(!ae)return 1;const Ce=le.getAttribute("viewBox");let Re=1e3,Pe=600;if(Ce){const[,,Ie,_e]=Ce.split(" ").map(Number);Re=Ie,Pe=_e}const Oe=ae.width,Ge=ae.height,st=Oe/Re,ot=Ge/Pe,je=Math.min(st,ot)*.98;if(!ue){const Ie=Math.max(je,4);return Math.max(4,Math.min(Ie,6))}const k=ue.getBBox();if(!k||k.width===0||k.height===0)return console.warn("Invalid bounding box for country element"),Math.max(.5,Math.min(je,3));const de=25,J=de/je,U=de/je,O=k.width<J?J/k.width:1,G=k.height<U?U/k.height:1;let ye=Math.max(O,G);(k.width<10||k.height<10)&&(ye=Math.max(ye,12)),(k.width<3||k.height<3)&&(ye=Math.max(ye,25)),(k.width<1||k.height<1)&&(ye=Math.max(ye,40));const xe=je*ye,re=Math.max(4,je),Ne=Math.max(re,Math.min(xe,50));return console.log("Zoom calculation details:",{containerSize:`${Oe}x${Ge}`,svgSize:`${Re}x${Pe}`,baseZoom:je.toFixed(3),countryBBox:`${k.width.toFixed(1)}x${k.height.toFixed(1)} at (${k.x.toFixed(1)},${k.y.toFixed(1)})`,countryZoom:ye.toFixed(3),finalZoom:Ne.toFixed(3)}),Ne}catch(ae){console.warn("Error calculating initial zoom:",ae);const Ce=H.current?.getBoundingClientRect();if(Ce){const Re=Math.min(Ce.width/1e3,Ce.height/600)*.98;return Math.max(4,Math.min(Re,6))}return 4}},[]),ne=K.useCallback(()=>{S(le=>Math.min(le*1.5,50))},[]),fe=K.useCallback(()=>{S(le=>Math.max(le/1.5,.5))},[]),pe=K.useCallback(()=>{F(!1),v(0),b(0)},[]),B=K.useCallback(le=>{_>1&&(w(!0),R({x:le.clientX-j,y:le.clientY-A}))},[_,j,A]),X=K.useCallback(le=>{N&&_>1&&(v(le.clientX-C.x),b(le.clientY-C.y))},[N,C,_]),E=K.useCallback(()=>{w(!1)},[]),ce=K.useCallback(le=>{le.preventDefault();const ue=le.deltaY>0?.9:1.1;S(ae=>Math.max(.5,Math.min(50,ae*ue)))},[]),Te=K.useCallback(le=>{if(le.touches.length===1&&_>1){const ue=le.touches[0];w(!0),R({x:ue.clientX-j,y:ue.clientY-A})}},[_,j,A]),he=K.useCallback(le=>{if(N&&le.touches.length===1&&_>1){le.preventDefault();const ue=le.touches[0];v(ue.clientX-C.x),b(ue.clientY-C.y)}},[N,C,_]),ge=K.useCallback(()=>{w(!1)},[]),Z=le=>le.split("/").pop()?.replace(".svg","")||"",Q=go.useMemo(()=>{if(!u)return"";const ue=new DOMParser().parseFromString(u,"image/svg+xml"),ae=ue.querySelector("svg");ae&&(ae.setAttribute("width","100%"),ae.setAttribute("height","100%"),ae.setAttribute("viewBox",ae.getAttribute("viewBox")||"0 0 1000 600"),ae.setAttribute("preserveAspectRatio","xMidYMid meet"),ae.style.maxWidth="100%",ae.style.maxHeight="100%");const Ce=Z(o.svgPath),Re=ue.querySelector(`[id="${o.countryId}"]`);return($g[Ce]||[]).includes(o.countryId),Re&&(Re.setAttribute("fill","#ef4444"),Re.setAttribute("stroke","#dc2626"),Re.setAttribute("stroke-width","2")),ue.querySelectorAll("path[id], polygon[id], circle[id]").forEach(Ge=>{Ge.getAttribute("id")!==o.countryId&&(Ge.setAttribute("fill","#e5e7eb"),Ge.setAttribute("stroke","#9ca3af"),Ge.setAttribute("stroke-width","1"))}),new XMLSerializer().serializeToString(ue)},[u,o.countryId,o.svgPath]);K.useEffect(()=>{if(!Q||L)return;const le=setTimeout(()=>{const ue=H.current;if(!ue)return;const ae=ue.querySelector("svg");if(!ae)return;let Ce=ae.querySelector(`[id="${o.countryId}"]`);Ce||(Ce=ae.querySelector(`[id="${o.countryId.toLowerCase()}"]`)||ae.querySelector(`[id="${o.countryId.toUpperCase()}"]`)||ae.querySelector(`[class*="${o.countryId}"]`)||ae.querySelector(`[data-id="${o.countryId}"]`)||ae.querySelector(`[data-country="${o.countryId}"]`)||ae.querySelector(`[name="${o.countryId}"]`));const Re=ie(ae,Ce||void 0);S(Re),F(!0),console.log("Setting initial zoom:",Re,"for country:",o.countryId,"found element:",!!Ce)},100);return()=>clearTimeout(le)},[Q,o.countryId,L,ie]);const I=()=>{const le=f.toLowerCase().trim()===o.countryName.toLowerCase().trim();m(!0),s&&s(le)},M=le=>{le.key==="Enter"&&f.trim()&&!x&&I()};return u?r.jsxs("div",{className:"w-full mx-auto",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 mb-4 relative",children:[r.jsxs("div",{className:"absolute top-2 right-2 z-10 flex flex-col gap-1 bg-white dark:bg-gray-700 rounded-lg shadow-lg p-1",children:[r.jsx("button",{onClick:ne,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",title:"Zoom In",children:r.jsx(Fg,{size:16,className:"text-gray-700 dark:text-gray-300"})}),r.jsx("button",{onClick:fe,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",title:"Zoom Out",children:r.jsx(Bg,{size:16,className:"text-gray-700 dark:text-gray-300"})}),r.jsx("button",{onClick:pe,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors",title:"Reset View",children:r.jsx(zg,{size:16,className:"text-gray-700 dark:text-gray-300"})})]}),_!==1&&r.jsxs("div",{className:"absolute top-2 left-2 z-10 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-sm",children:[Math.round(_*100),"%"]}),r.jsx("div",{ref:H,className:"w-full h-64 md:h-80 flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing",style:{cursor:_>1?N?"grabbing":"grab":"default"},onMouseDown:B,onMouseMove:X,onMouseUp:E,onMouseLeave:E,onWheel:ce,onTouchStart:Te,onTouchMove:he,onTouchEnd:ge,children:r.jsx("div",{className:"transition-transform duration-200 ease-out",style:{transform:`scale(${_}) translate(${j/_}px, ${A/_}px)`,transformOrigin:"center center"},dangerouslySetInnerHTML:{__html:Q}})}),_===1&&r.jsx("div",{className:"absolute bottom-2 left-2 z-10 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:"Use controls or scroll to zoom • Drag to pan when zoomed"})]}),l&&!a&&r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 text-center",children:["What ",Z(o.svgPath).includes("us")?"state":Z(o.svgPath).includes("gb")||Z(o.svgPath).includes("fi")||Z(o.svgPath).includes("fr")||Z(o.svgPath).includes("no")||Z(o.svgPath).includes("se")||Z(o.svgPath).includes("vn")?"region":"country"," is highlighted in red?"]}),x?r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-lg font-semibold mb-2 ${f.toLowerCase().trim()===o.countryName.toLowerCase().trim()?"text-green-600":"text-red-600"}`,children:f.toLowerCase().trim()===o.countryName.toLowerCase().trim()?"✓ Correct!":"✗ Incorrect"}),r.jsxs("div",{className:"text-gray-700",children:["Your answer: ",r.jsx("span",{className:"font-medium",children:f})]}),r.jsxs("div",{className:"text-gray-700",children:["Correct answer: ",r.jsx("span",{className:"font-medium",children:o.countryName})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",value:f,onChange:le=>p(le.target.value),onKeyPress:M,placeholder:"Enter country name...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),r.jsx("button",{onClick:I,disabled:!f.trim(),className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Submit Answer"})]})]}),a&&r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:o.countryName})})]}):r.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-100 rounded-lg",children:r.jsx("div",{className:"text-gray-500",children:"Loading map..."})})},Hg=({card:o,showAnswer:a,onAnswerSubmit:s})=>{if(o.cardType.type==="svg_map"){const l=o.cardType.options;return r.jsx(af,{options:l,showAnswer:a,isStudyMode:!a,onAnswer:u=>{s&&s(u?"correct":"incorrect")}})}return r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:a?"Answer":"Question"}),r.jsx("div",{className:"text-2xl font-medium text-gray-900 dark:text-white",children:a?o.backContent:o.frontContent})]})})},Wg=({shortcuts:o,enabled:a=!0,preventDefault:s=!0,stopPropagation:l=!0,debugMode:u=!1})=>{const d=K.useRef(o),f=K.useRef(a);K.useEffect(()=>{d.current=o,f.current=a},[o,a]);const p=K.useCallback(x=>{if(!f.current)return;const m=x.target;if(m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.isContentEditable)return;const _=x.key.toLowerCase(),S=x.ctrlKey||x.metaKey,j=x.altKey,v=x.shiftKey;u&&console.log("[KeyboardShortcuts] Key pressed:",{key:_,ctrlKey:S,altKey:j,shiftKey:v,code:x.code});const A=d.current.find(b=>{if(b.disabled)return!1;const N=b.key.toLowerCase()===_,w=(b.ctrlKey||!1)===S,C=(b.altKey||!1)===j,R=(b.shiftKey||!1)===v;return N&&w&&C&&R});if(A){u&&console.log("[KeyboardShortcuts] Executing shortcut:",{key:A.key,description:A.description}),s&&x.preventDefault(),l&&x.stopPropagation();try{A.action()}catch(b){console.error("[KeyboardShortcuts] Error executing shortcut:",b)}}},[s,l,u]);return K.useEffect(()=>(a&&(document.addEventListener("keydown",p),u&&console.log("[KeyboardShortcuts] Registered shortcuts:",o.map(x=>({key:x.key,description:x.description,modifiers:{ctrl:x.ctrlKey,alt:x.altKey,shift:x.shiftKey}})))),()=>{document.removeEventListener("keydown",p),u&&console.log("[KeyboardShortcuts] Unregistered shortcuts")}),[p,a,u,o]),{shortcuts:d.current,enabled:f.current}},qg=({onFlipCard:o,onAnswerAgain:a,onAnswerHard:s,onAnswerGood:l,onAnswerEasy:u,onExitStudy:d,showAnswer:f,enabled:p=!0,debugMode:x=!1})=>Wg({shortcuts:[{key:" ",description:"Flip card / Show answer",action:o,disabled:f},{key:"enter",description:"Flip card / Show answer",action:o,disabled:f},{key:"1",description:"Answer: Again",action:a,disabled:!f},{key:"2",description:"Answer: Hard",action:s,disabled:!f},{key:"3",description:"Answer: Good",action:l,disabled:!f},{key:"4",description:"Answer: Easy",action:u,disabled:!f},{key:"a",description:"Answer: Again",action:a,disabled:!f},{key:"h",description:"Answer: Hard",action:s,disabled:!f},{key:"g",description:"Answer: Good",action:l,disabled:!f},{key:"e",description:"Answer: Easy",action:u,disabled:!f},{key:"escape",description:"Exit study session",action:d},{key:"q",description:"Exit study session",action:d}],enabled:p,debugMode:x}),Kg=({shortcuts:o,className:a="",title:s="Keyboard Shortcuts",compact:l=!1})=>{const u=f=>{const p=[];f.ctrlKey&&p.push("Ctrl"),f.altKey&&p.push("Alt"),f.shiftKey&&p.push("Shift");let x=f.key;return x===" "&&(x="Space"),x==="enter"&&(x="Enter"),x==="escape"&&(x="Esc"),p.push(x.toUpperCase()),p.join(" + ")},d=o.filter(f=>!f.disabled);return d.length===0?null:l?r.jsx("div",{className:`text-xs text-gray-500 dark:text-gray-400 ${a}`,children:d.slice(0,4).map((f,p)=>r.jsxs("span",{className:"mr-4",children:[r.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs",children:f.key===" "?"Space":f.key.toUpperCase()})," ",f.description]},p))}):r.jsxs("div",{className:`bg-gray-50 dark:bg-gray-800 rounded-lg p-4 ${a}`,children:[r.jsx("h3",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300 mb-3",children:s}),r.jsx("div",{className:"space-y-2",children:d.map((f,p)=>r.jsxs("div",{className:"flex justify-between items-center text-xs",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:f.description}),r.jsx("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-gray-800 dark:text-gray-200 font-mono",children:u(f)})]},p))})]})},vh=({showAnswer:o,className:a="",compact:s=!1})=>{const l=[{key:"escape",description:"Exit study",action:()=>{},disabled:!1},{key:" ",description:"Show answer",action:()=>{},disabled:o},{key:"1",description:"Again",action:()=>{},disabled:!o},{key:"2",description:"Hard",action:()=>{},disabled:!o},{key:"3",description:"Good",action:()=>{},disabled:!o},{key:"4",description:"Easy",action:()=>{},disabled:!o}];return r.jsx(Kg,{shortcuts:l,className:a,title:"Study Shortcuts",compact:s})};function Vg(o){switch(o.state){case"new":return"New - Never studied before";case"learning":return"Learning - Recently seen, still being learned";case"review":return`Review (${o.ivl<21?"Young":"Mature"}) - Finished learning, scheduled for review`;case"relearning":return"Relearning - Failed in review, being relearned";case"suspended":return"Suspended - Manually suspended from study";case"buried":return"Buried - Hidden until next day";default:return"Unknown state"}}function Gg(o){switch(o.state){case"new":return"#3b82f6";case"learning":return"#f59e0b";case"review":return o.ivl<21?"#10b981":"#059669";case"relearning":return"#ef4444";case"suspended":return"#6b7280";case"buried":return"#9ca3af";default:return"#374151"}}function Qg(o){switch(o.state){case"new":return null;case"learning":case"relearning":return new Date(Date.now()+o.left*60*1e3);case"review":return new Date(o.due*24*60*60*1e3);case"suspended":case"buried":return null;default:return null}}function Zg(o,a=new Date){if(o.state!=="review")return 0;const s=Math.floor(a.getTime()/(1440*60*1e3));return Math.max(0,s-o.due)}const Xg=({card:o,className:a="",showDescription:s=!1,compact:l=!1})=>{const u=Gg(o),d=Vg(o),f=Qg(o),p=Zg(o),x=()=>{switch(o.state){case"new":return"✨";case"learning":return"📚";case"review":return o.ivl<21?"🌱":"🌳";case"relearning":return"🔄";case"suspended":return"⏸️";case"buried":return"📦";default:return"❓"}},m=()=>{switch(o.state){case"new":return"New";case"learning":return"Learning";case"review":return o.ivl<21?"Young":"Mature";case"relearning":return"Relearning";case"suspended":return"Suspended";case"buried":return"Buried";default:return"Unknown"}},_=()=>{switch(o.state){case"learning":case"relearning":return`Step ${o.learningStep+1}, ${o.left}min left`;case"review":return p>0?`${p} days overdue`:`Interval: ${o.ivl} days`;case"new":return"Never studied";default:return""}};return l?r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${a}`,style:{backgroundColor:`${u}20`,color:u,border:`1px solid ${u}40`},children:[r.jsx("span",{children:x()}),r.jsx("span",{children:m()})]}):r.jsxs("div",{className:`bg-white rounded-lg border shadow-sm p-3 ${a}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u}}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:x()}),r.jsx("span",{className:"font-medium text-gray-900",children:m()})]})]}),s&&r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d}),r.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[_()&&r.jsx("div",{children:_()}),o.state==="review"&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Ease: ",(o.factor/10).toFixed(0),"%"]}),r.jsxs("span",{children:["Reviews: ",o.reps]})]}),o.lapses>0&&r.jsxs("div",{className:"text-red-500",children:["Lapses: ",o.lapses]}),f&&o.state!=="learning"&&o.state!=="relearning"&&r.jsxs("div",{children:["Next: ",f.toLocaleDateString()]})]})]})},of=()=>{console.log(`
🧪 TESTING STATS LOGIC - 10 CARD SIMULATION`),console.log("Pattern: Again, Hard, Again, Hard, etc.");let o={total:10,correct:0,incorrect:0};const a=["again","hard"];for(let s=0;s<10;s++){const l=a[s%2],u=s+1;console.log(`
--- Card ${u} ---`),console.log(`Answer: ${l}`),console.log("Stats before:",o),o=l==="again"?{...o,incorrect:o.incorrect+1}:{...o,correct:o.correct+1},console.log("Stats after:",o);const f=Math.floor((u+1)/2),p=Math.floor(u/2),x=o.correct===p,m=o.incorrect===f;if(console.log(`Expected: correct=${p}, incorrect=${f}`),console.log(`✅ Correct count: ${x?"PASS":"FAIL"}`),console.log(`✅ Incorrect count: ${m?"PASS":"FAIL"}`),!x||!m)return console.error(`❌ TEST FAILED at card ${u}`),!1}return console.log(`
🎉 ALL TESTS PASSED!`),console.log(`Final stats: correct=${o.correct}, incorrect=${o.incorrect}`),!0};console.log("Running stats logic test...");of();typeof window<"u"&&(window.testStatsLogic=of);const wh=()=>{const{deckId:o}=b0(),a=Zs(),{getDeck:s,getCards:l,updateCard:u,decks:d,cards:f,startStudySession:p,updateStudySession:x,clearStudySession:m,getStudySession:_}=qa(),{awardStudyXP:S}=Wa(),[j,v]=K.useState(0),[A,b]=K.useState(!1),[N,w]=K.useState([]),[C,R]=K.useState(!1),[L,F]=K.useState({total:0,correct:0,incorrect:0}),[H,q]=K.useState(0),[ie,ne]=K.useState(!1),[fe,pe]=K.useState(!1),B=o?s(o):null,X=K.useMemo(()=>o?l(o):[],[o,l]);K.useEffect(()=>{if(X.length>0&&o&&!ie){const Z=_(o);if(Z)w(Z.studyCards),v(Z.currentCardIndex),F({total:Z.studyCards.length,correct:Z.sessionStats.correct,incorrect:Z.sessionStats.incorrect}),console.log(`Restored study session: card ${Z.currentCardIndex+1} of ${Z.studyCards.length}`),console.log("Session stats:",Z.sessionStats);else{const Q=X.filter(M=>M.reviewCount===0?!0:new Date(M.nextReview)<=new Date),I=Q.length>0?Q:X;w(I),v(0),F({total:I.length,correct:0,incorrect:0}),p(o,I),console.log(`Started new study session with ${I.length} cards`)}ne(!0)}},[o,p,ie,_,X]);const E=N[j];qg({onFlipCard:()=>{!A&&E&&(b(!0),console.log("[Keyboard] Flipped card to show answer"))},onAnswerAgain:()=>{A&&E&&(console.log("[Keyboard] Answered: Again"),ce("again"))},onAnswerHard:()=>{A&&E&&(console.log("[Keyboard] Answered: Hard"),ce("hard"))},onAnswerGood:()=>{A&&E&&(console.log("[Keyboard] Answered: Good"),ce("good"))},onAnswerEasy:()=>{A&&E&&(console.log("[Keyboard] Answered: Easy"),ce("easy"))},onExitStudy:()=>{console.log("[Keyboard] Exiting study session"),he()},showAnswer:A,enabled:!C&&E!==void 0,debugMode:!0});const ce=async Z=>{if(!E)return;console.log(`
=== CARD ${j+1} ANSWER ===`),console.log(`Difficulty: ${Z}`),console.log("Current stats BEFORE update:",L);const Q=Z==="again",I=Q?{...L,incorrect:L.incorrect+1}:{...L,correct:L.correct+1};console.log(`Answer "${Z}" is ${Q?"INCORRECT":"CORRECT"}`),console.log("Calculated new stats:",I),console.log(`Expected: correct=${I.correct}, incorrect=${I.incorrect}`),Xd.flushSync(()=>{F(I),console.log("Stats updated to:",I)});const M=j>=N.length-1,le=j+1;M||Xd.flushSync(()=>{v(le),b(!1),console.log(`Card index: ${j} -> ${le}`)});const ue=async()=>{const ae=new Date;let Ce=E.intervalDays,Re=E.easeFactor;const Pe=E.reviewCount+1;switch(Z){case"again":Ce=1,Re=Math.max(1.3,E.easeFactor-.2);break;case"hard":E.intervalDays===0?Ce=1:Ce=Math.max(1,Math.round(E.intervalDays*1.2)),Re=Math.max(1.3,E.easeFactor-.15);break;case"good":E.intervalDays===0?Ce=1:Ce=Math.round(E.intervalDays*E.easeFactor);break;case"easy":E.intervalDays===0?Ce=4:Ce=Math.round(E.intervalDays*E.easeFactor*1.3),Re=E.easeFactor+.15;break}const Oe=new Date(ae.getTime()+Ce*24*60*60*1e3);await u(E.id,{intervalDays:Ce,easeFactor:Re,reviewCount:Pe,nextReview:Oe.toISOString()}),o&&!M&&(console.log("Store update - Stats being sent to store:",I),console.log("Store update - Card index being sent:",le),x(le,I))};if(M){R(!0);const ae=L.correct+L.incorrect+1,Ce=I.correct,Re=ae,Pe=Ce,Oe=Math.floor(Ce/10)*10,Ge=Re+Pe+Oe;console.log(`🎓 Study session completed! Awarding XP for ${ae} cards studied, ${Ce} correct answers`),console.log(`🎉 XP Breakdown: ${Re} base + ${Pe} bonus + ${Oe} milestone = ${Ge} total`),q(Ge),S(ae,Ce)}ue().catch(ae=>{console.error("Error processing card update:",ae)})},Te=()=>{v(0),b(!1),R(!1),F({total:N.length,correct:0,incorrect:0}),q(0),o&&(m(),N.length>0&&p(o,N))},he=()=>{a("/decks")},ge=()=>{o&&m(),a("/decks")};if(K.useEffect(()=>{if(!o&&d.length>0){let Z=null,Q=new Date("2099-12-31");for(const I of d){const M=f[I.id]||[];if(M.length===0)continue;const le=M.filter(ue=>ue.reviewCount===0?!0:new Date(ue.nextReview)<=new Date);if(le.length>0){const ue=le.reduce((ae,Ce)=>{const Re=Ce.reviewCount===0?new Date(Ce.createdAt):new Date(Ce.nextReview);return Re<ae?Re:ae},new Date("2099-12-31"));ue<Q&&(Q=ue,Z=I)}}if(Z){a(`/study/${Z.id}`,{replace:!0});return}}},[o,d,f,a]),!o)return d.length===0?r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📚"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"No Decks Available"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You don't have any decks to study yet. Create your first deck to get started!"}),r.jsx("button",{onClick:he,className:"btn btn-primary",children:"Go to My Decks"})]}):r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Finding Your Next Study Session"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Looking for the deck with the most urgent cards to review..."})]});if(!B)return r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"❌"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Deck Not Found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The deck you're trying to study doesn't exist."}),r.jsx("button",{onClick:he,className:"btn btn-primary",children:"Back to Decks"})]});if(N.length===0)return r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📚"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"No Cards to Study"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This deck doesn't have any cards to study right now."}),r.jsx("button",{onClick:he,className:"btn btn-primary",children:"Back to Decks"})]});if(C){const Z=L.correct+L.incorrect,Q=Z>0?Math.round(L.correct/Z*100):0;return r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Session Complete!"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:["Great job studying ",r.jsx("strong",{children:B.title})]}),r.jsxs("div",{className:"card p-6 mb-8 max-w-md mx-auto",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Session Stats"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Cards Studied:"}),r.jsx("span",{className:"font-medium",children:Z})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Correct:"}),r.jsx("span",{className:"font-medium text-green-600",children:L.correct})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Incorrect:"}),r.jsx("span",{className:"font-medium text-red-600",children:L.incorrect})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsx("span",{children:"Accuracy:"}),r.jsxs("span",{className:"font-medium",children:[Q,"%"]})]}),H>0&&r.jsxs("div",{className:"flex justify-between border-t pt-2 bg-yellow-50 dark:bg-yellow-900/20 -mx-2 px-2 py-2 rounded",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{children:"🎉"}),r.jsx("span",{className:"font-medium",children:"XP Earned:"})]}),r.jsxs("span",{className:"font-bold text-yellow-600 dark:text-yellow-400",children:["+",H," XP"]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:Te,className:"btn btn-primary",children:"Study Again"}),r.jsx("button",{onClick:he,className:"btn btn-secondary",children:"Back to Decks"})]}),r.jsx("button",{onClick:ge,className:"btn btn-outline btn-sm text-gray-500 hover:text-gray-700",children:"Clear Progress & Start Fresh Next Time"})]})]})}return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:B.title}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:["Card ",j+1," of ",N.length]}),E&&r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Xg,{card:E,compact:!0,className:"shadow-sm"})}),o&&_(o)&&j>0&&r.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-4 flex items-center justify-center gap-2",children:[r.jsx("span",{children:"📍"}),"Resumed from where you left off"]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(j+1)/N.length*100}%`}})})]}),r.jsxs("div",{className:"card p-8 mb-8 min-h-[300px] flex flex-col justify-center",children:[r.jsx(Hg,{card:E,showAnswer:A}),A?r.jsxs("div",{className:"space-y-4 mt-6",children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-center",children:"How well did you know this?"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsxs("button",{onClick:()=>ce("again"),className:"btn bg-red-500 hover:bg-red-600 text-white py-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Again"}),r.jsx("div",{className:"text-xs opacity-80",children:"< 1 day"}),r.jsx("div",{className:"text-xs opacity-60 mt-1",children:"1 or A"})]}),r.jsxs("button",{onClick:()=>ce("hard"),className:"btn bg-orange-500 hover:bg-orange-600 text-white py-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Hard"}),r.jsx("div",{className:"text-xs opacity-80",children:"1-3 days"}),r.jsx("div",{className:"text-xs opacity-60 mt-1",children:"2 or H"})]}),r.jsxs("button",{onClick:()=>ce("good"),className:"btn bg-green-500 hover:bg-green-600 text-white py-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Good"}),r.jsx("div",{className:"text-xs opacity-80",children:"3-7 days"}),r.jsx("div",{className:"text-xs opacity-60 mt-1",children:"3 or G"})]}),r.jsxs("button",{onClick:()=>ce("easy"),className:"btn bg-blue-500 hover:bg-blue-600 text-white py-3",children:[r.jsx("div",{className:"text-sm font-medium",children:"Easy"}),r.jsx("div",{className:"text-xs opacity-80",children:"1+ weeks"}),r.jsx("div",{className:"text-xs opacity-60 mt-1",children:"4 or E"})]})]})]}):r.jsx("div",{className:"text-center mt-6",children:r.jsxs("button",{onClick:()=>b(!0),className:"btn btn-primary btn-lg",children:["Show Answer",r.jsx("span",{className:"ml-2 text-xs opacity-75",children:"(Space/Enter)"})]})})]}),r.jsx(vh,{showAnswer:A,compact:!0,className:"mb-4"}),r.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{children:["Correct: ",r.jsx("span",{className:"text-green-600 font-medium",children:L.correct})," | Incorrect: ",r.jsx("span",{className:"text-red-600 font-medium",children:L.incorrect})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>pe(!fe),className:"btn btn-outline btn-sm",title:"Toggle keyboard shortcuts help",children:"⌨️"}),r.jsx("button",{onClick:he,className:"btn btn-secondary btn-sm",children:"Exit Study"})]})]}),fe&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Keyboard Shortcuts"}),r.jsx("button",{onClick:()=>pe(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),r.jsx(vh,{showAnswer:A,compact:!1}),r.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("p",{children:["💡 ",r.jsx("strong",{children:"Tip:"})," Use Space or Enter to flip cards, then 1-4 or A/H/G/E to answer!"]}),r.jsx("p",{children:"Press Esc or Q to exit the study session anytime."})]})]})})]})},Yg=({deckId:o,onClose:a})=>{const{getCards:s,addCard:l,updateCard:u,deleteCard:d,getDeck:f}=qa(),[p,x]=K.useState(!1),[m,_]=K.useState(null),[S,j]=K.useState(""),[v,A]=K.useState(""),b=f(o),N=s(o),w=async H=>{if(H.preventDefault(),!(!S.trim()||!v.trim()))try{await l(o,Oa(S.trim(),v.trim(),{type:"basic"},[])),j(""),A(""),x(!1)}catch(q){console.error("Failed to add card:",q)}},C=async H=>{if(H.preventDefault(),!(!m||!S.trim()||!v.trim()))try{await u(m.id,{frontContent:S.trim(),backContent:v.trim()}),_(null),j(""),A("")}catch(q){console.error("Failed to update card:",q)}},R=async H=>{if(confirm("Are you sure you want to delete this card?"))try{await d(H)}catch(q){console.error("Failed to delete card:",q)}},L=H=>{_(H),j(H.frontContent),A(H.backContent),x(!1)},F=()=>{_(null),j(""),A(""),x(!1)};return b?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:b.title}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[N.length," cards"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>x(!0),className:"btn btn-primary",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Card"]}),r.jsx("button",{onClick:a,className:"btn btn-secondary",children:"Close"})]})]}),(p||m)&&r.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:[r.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:m?"Edit Card":"Add New Card"}),r.jsxs("form",{onSubmit:m?C:w,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Front"}),r.jsx("textarea",{value:S,onChange:H=>j(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",rows:3,placeholder:"Enter the question or front side...",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Back"}),r.jsx("textarea",{value:v,onChange:H=>A(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white",rows:3,placeholder:"Enter the answer or back side...",required:!0})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"submit",className:"btn btn-primary",children:m?"Update Card":"Add Card"}),r.jsx("button",{type:"button",onClick:F,className:"btn btn-secondary",children:"Cancel"})]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:N.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-4",children:"📝"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No cards yet"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Add your first card to start studying"}),r.jsx("button",{onClick:()=>x(!0),className:"btn btn-primary",children:"Add First Card"})]}):r.jsx("div",{className:"space-y-4",children:N.map((H,q)=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Card #",q+1]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>L(H),className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit card",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),r.jsx("button",{onClick:()=>R(H.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete card",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Front"}),r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-600 rounded border min-h-[60px] text-gray-900 dark:text-white",children:H.frontContent})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Back"}),r.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-600 rounded border min-h-[60px] text-gray-900 dark:text-white",children:H.backContent})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{children:["Reviews: ",H.reviewCount]}),r.jsxs("span",{children:["Ease: ",H.easeFactor.toFixed(1)]}),r.jsxs("span",{children:["Interval: ",H.intervalDays," days"]}),H.reviewCount>0&&r.jsxs("span",{children:["Next: ",new Date(H.nextReview).toLocaleDateString()]})]})})]},H.id))})})]})}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[r.jsx("p",{className:"text-red-600",children:"Deck not found"}),r.jsx("button",{onClick:a,className:"btn btn-secondary mt-4",children:"Close"})]})})},bh=({progress:o,label:a,showPercentage:s=!0,className:l=""})=>{const u=Math.min(Math.max(o,0),100);return r.jsxs("div",{className:`w-full ${l}`,children:[a&&r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a}),s&&r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Math.round(u),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${u}%`}})})]})},kh=[{id:"AL",name:"Albania"},{id:"AD",name:"Andorra"},{id:"AM",name:"Armenia"},{id:"AT",name:"Austria"},{id:"BE",name:"Belgium"},{id:"BG",name:"Bulgaria"},{id:"BA",name:"Bosnia and Herzegovina"},{id:"BY",name:"Belarus"},{id:"CH",name:"Switzerland"},{id:"CZ",name:"Czech Republic"},{id:"DE",name:"Germany"},{id:"DK",name:"Denmark"},{id:"EE",name:"Estonia"},{id:"FI",name:"Finland"},{id:"GB",name:"United Kingdom"},{id:"GE",name:"Georgia"},{id:"GR",name:"Greece"},{id:"HR",name:"Croatia"},{id:"HU",name:"Hungary"},{id:"IE",name:"Ireland"},{id:"IS",name:"Iceland"},{id:"IT",name:"Italy"},{id:"LI",name:"Liechtenstein"},{id:"LT",name:"Lithuania"},{id:"LU",name:"Luxembourg"},{id:"LV",name:"Latvia"},{id:"MD",name:"Moldova"},{id:"MK",name:"Macedonia"},{id:"ME",name:"Montenegro"},{id:"NO",name:"Norway"},{id:"PL",name:"Poland"},{id:"PT",name:"Portugal"},{id:"RO",name:"Romania"},{id:"RS",name:"Serbia"},{id:"SK",name:"Slovakia"},{id:"SI",name:"Slovenia"},{id:"SE",name:"Sweden"},{id:"TR",name:"Turkey"},{id:"UA",name:"Ukraine"},{id:"XK",name:"Kosovo"},{id:"NL",name:"Netherlands"},{id:"ES",name:"Spain"},{id:"FR",name:"France"},{id:"CY",name:"Cyprus"}],Sh=[{id:"AL",name:"Albania"},{id:"DZ",name:"Algeria"},{id:"AM",name:"Armenia"},{id:"AT",name:"Austria"},{id:"AE",name:"United Arab Emirates"},{id:"BD",name:"Bangladesh"},{id:"BE",name:"Belgium"},{id:"BJ",name:"Benin"},{id:"BF",name:"Burkina Faso"},{id:"BG",name:"Bulgaria"},{id:"BI",name:"Burundi"},{id:"BN",name:"Brunei"},{id:"BT",name:"Bhutan"},{id:"BY",name:"Belarus"},{id:"BZ",name:"Belize"},{id:"BO",name:"Bolivia"},{id:"BR",name:"Brazil"},{id:"BW",name:"Botswana"},{id:"BA",name:"Bosnia and Herzegovina"},{id:"BH",name:"Bahrain"},{id:"CA",name:"Canada"},{id:"CH",name:"Switzerland"},{id:"CL",name:"Chile"},{id:"CN",name:"China"},{id:"CI",name:"Côte d'Ivoire"},{id:"CM",name:"Cameroon"},{id:"CG",name:"Congo"},{id:"CO",name:"Colombia"},{id:"CR",name:"Costa Rica"},{id:"CU",name:"Cuba"},{id:"CZ",name:"Czech Republic"},{id:"DE",name:"Germany"},{id:"DJ",name:"Djibouti"},{id:"DK",name:"Denmark"},{id:"DO",name:"Dominican Republic"},{id:"EC",name:"Ecuador"},{id:"EG",name:"Egypt"},{id:"ER",name:"Eritrea"},{id:"EE",name:"Estonia"},{id:"ET",name:"Ethiopia"},{id:"FI",name:"Finland"},{id:"FR",name:"France"},{id:"GA",name:"Gabon"},{id:"GB",name:"United Kingdom"},{id:"GE",name:"Georgia"},{id:"GH",name:"Ghana"},{id:"GL",name:"Greenland"},{id:"GM",name:"Gambia"},{id:"GN",name:"Guinea"},{id:"GW",name:"Guinea-Bissau"},{id:"GQ",name:"Equatorial Guinea"},{id:"GR",name:"Greece"},{id:"GT",name:"Guatemala"},{id:"GY",name:"Guyana"},{id:"HN",name:"Honduras"},{id:"HR",name:"Croatia"},{id:"HT",name:"Haiti"},{id:"HU",name:"Hungary"},{id:"ID",name:"Indonesia"},{id:"IN",name:"India"},{id:"IE",name:"Ireland"},{id:"IR",name:"Iran"},{id:"IQ",name:"Iraq"},{id:"IS",name:"Iceland"},{id:"IL",name:"Israel"},{id:"IT",name:"Italy"},{id:"JM",name:"Jamaica"},{id:"JO",name:"Jordan"},{id:"JP",name:"Japan"},{id:"KZ",name:"Kazakhstan"},{id:"KE",name:"Kenya"},{id:"KG",name:"Kyrgyzstan"},{id:"KH",name:"Cambodia"},{id:"KP",name:"North Korea"},{id:"KR",name:"South Korea"},{id:"KW",name:"Kuwait"},{id:"LA",name:"Laos"},{id:"LB",name:"Lebanon"},{id:"LR",name:"Liberia"},{id:"LY",name:"Libya"},{id:"LK",name:"Sri Lanka"},{id:"LS",name:"Lesotho"},{id:"LT",name:"Lithuania"},{id:"LU",name:"Luxembourg"},{id:"LV",name:"Latvia"},{id:"MA",name:"Morocco"},{id:"MD",name:"Moldova"},{id:"MG",name:"Madagascar"},{id:"MX",name:"Mexico"},{id:"MK",name:"North Macedonia"},{id:"ML",name:"Mali"},{id:"MM",name:"Myanmar"},{id:"ME",name:"Montenegro"},{id:"MN",name:"Mongolia"},{id:"MZ",name:"Mozambique"},{id:"MR",name:"Mauritania"},{id:"MW",name:"Malawi"},{id:"MY",name:"Malaysia"},{id:"NA",name:"Namibia"},{id:"NE",name:"Niger"},{id:"NG",name:"Nigeria"},{id:"NI",name:"Nicaragua"},{id:"NL",name:"Netherlands"},{id:"NO",name:"Norway"},{id:"NP",name:"Nepal"},{id:"NZ",name:"New Zealand"},{id:"OM",name:"Oman"},{id:"PA",name:"Panama"},{id:"PE",name:"Peru"},{id:"PH",name:"Philippines"},{id:"PK",name:"Pakistan"},{id:"PL",name:"Poland"},{id:"PT",name:"Portugal"},{id:"PY",name:"Paraguay"},{id:"PS",name:"Palestine"},{id:"QA",name:"Qatar"},{id:"RO",name:"Romania"},{id:"RU",name:"Russia"},{id:"RW",name:"Rwanda"},{id:"EH",name:"Western Sahara"},{id:"SA",name:"Saudi Arabia"},{id:"SD",name:"Sudan"},{id:"SS",name:"South Sudan"},{id:"SN",name:"Senegal"},{id:"SL",name:"Sierra Leone"},{id:"SV",name:"El Salvador"},{id:"RS",name:"Serbia"},{id:"SR",name:"Suriname"},{id:"SK",name:"Slovakia"},{id:"SI",name:"Slovenia"},{id:"SE",name:"Sweden"},{id:"SZ",name:"Eswatini"},{id:"SY",name:"Syria"},{id:"TD",name:"Chad"},{id:"TG",name:"Togo"},{id:"TH",name:"Thailand"},{id:"TJ",name:"Tajikistan"},{id:"TM",name:"Turkmenistan"},{id:"TL",name:"Timor-Leste"},{id:"TN",name:"Tunisia"},{id:"TR",name:"Turkey"},{id:"TW",name:"Taiwan"},{id:"TZ",name:"Tanzania"},{id:"UG",name:"Uganda"},{id:"UA",name:"Ukraine"},{id:"UY",name:"Uruguay"},{id:"US",name:"United States"},{id:"UZ",name:"Uzbekistan"},{id:"VE",name:"Venezuela"},{id:"VN",name:"Vietnam"},{id:"YE",name:"Yemen"},{id:"ZA",name:"South Africa"},{id:"ZM",name:"Zambia"},{id:"ZW",name:"Zimbabwe"},{id:"SO",name:"Somalia"},{id:"XK",name:"Kosovo"},{id:"ES",name:"Spain"}],Nh=[{id:"DZ",name:"Algeria"},{id:"AO",name:"Angola"},{id:"BJ",name:"Benin"},{id:"BW",name:"Botswana"},{id:"BF",name:"Burkina Faso"},{id:"BI",name:"Burundi"},{id:"CV",name:"Cape Verde"},{id:"CM",name:"Cameroon"},{id:"CF",name:"Central African Republic"},{id:"TD",name:"Chad"},{id:"KM",name:"Comoros"},{id:"CG",name:"Congo"},{id:"CD",name:"Democratic Republic of the Congo"},{id:"CI",name:"Côte d'Ivoire"},{id:"DJ",name:"Djibouti"},{id:"EG",name:"Egypt"},{id:"GQ",name:"Equatorial Guinea"},{id:"ER",name:"Eritrea"},{id:"ET",name:"Ethiopia"},{id:"GA",name:"Gabon"},{id:"GM",name:"Gambia"},{id:"GH",name:"Ghana"},{id:"GN",name:"Guinea"},{id:"GW",name:"Guinea-Bissau"},{id:"KE",name:"Kenya"},{id:"LS",name:"Lesotho"},{id:"LR",name:"Liberia"},{id:"LY",name:"Libya"},{id:"MG",name:"Madagascar"},{id:"MW",name:"Malawi"},{id:"ML",name:"Mali"},{id:"MR",name:"Mauritania"},{id:"MU",name:"Mauritius"},{id:"MA",name:"Morocco"},{id:"MZ",name:"Mozambique"},{id:"NA",name:"Namibia"},{id:"NE",name:"Niger"},{id:"NG",name:"Nigeria"},{id:"RW",name:"Rwanda"},{id:"ST",name:"São Tomé and Príncipe"},{id:"SN",name:"Senegal"},{id:"SC",name:"Seychelles"},{id:"SL",name:"Sierra Leone"},{id:"SO",name:"Somalia"},{id:"ZA",name:"South Africa"},{id:"SS",name:"South Sudan"},{id:"SD",name:"Sudan"},{id:"SZ",name:"Eswatini"},{id:"TZ",name:"Tanzania"},{id:"TG",name:"Togo"},{id:"TN",name:"Tunisia"},{id:"UG",name:"Uganda"},{id:"ZM",name:"Zambia"},{id:"ZW",name:"Zimbabwe"}],jh=[{id:"AG",name:"Antigua and Barbuda"},{id:"BS",name:"Bahamas"},{id:"BB",name:"Barbados"},{id:"BZ",name:"Belize"},{id:"CA",name:"Canada"},{id:"CR",name:"Costa Rica"},{id:"CU",name:"Cuba"},{id:"DM",name:"Dominica"},{id:"DO",name:"Dominican Republic"},{id:"SV",name:"El Salvador"},{id:"GD",name:"Grenada"},{id:"GT",name:"Guatemala"},{id:"HT",name:"Haiti"},{id:"HN",name:"Honduras"},{id:"JM",name:"Jamaica"},{id:"MX",name:"Mexico"},{id:"NI",name:"Nicaragua"},{id:"PA",name:"Panama"},{id:"KN",name:"Saint Kitts and Nevis"},{id:"LC",name:"Saint Lucia"},{id:"VC",name:"Saint Vincent and the Grenadines"},{id:"TT",name:"Trinidad and Tobago"},{id:"US",name:"United States"}],_h=[{id:"FI-01",name:"Åland"},{id:"FI-02",name:"South Karelia"},{id:"FI-03",name:"Southern Ostrobothnia"},{id:"FI-04",name:"Southern Savonia"},{id:"FI-05",name:"Kainuu"},{id:"FI-06",name:"Tavastia Proper"},{id:"FI-07",name:"Central Ostrobothnia"},{id:"FI-08",name:"Central Finland"},{id:"FI-09",name:"Kymenlaakso"},{id:"FI-10",name:"Lapland"},{id:"FI-11",name:"Pirkanmaa"},{id:"FI-12",name:"Ostrobothnia"},{id:"FI-13",name:"North Karelia"},{id:"FI-14",name:"Northern Ostrobothnia"},{id:"FI-15",name:"Northern Savonia"},{id:"FI-16",name:"Päijät-Häme"},{id:"FI-17",name:"Satakunta"},{id:"FI-18",name:"Uusimaa"},{id:"FI-19",name:"Southwest Finland"}],Ch=[{id:"FR-ARA",name:"Auvergne-Rhône-Alpes"},{id:"FR-BFC",name:"Bourgogne-Franche-Comté"},{id:"FR-BRE",name:"Brittany"},{id:"FR-CVL",name:"Centre-Val de Loire"},{id:"FR-COR",name:"Corsica"},{id:"FR-GES",name:"Grand Est"},{id:"FR-HDF",name:"Hauts-de-France"},{id:"FR-IDF",name:"Île-de-France"},{id:"FR-NOR",name:"Normandy"},{id:"FR-NAQ",name:"Nouvelle-Aquitaine"},{id:"FR-OCC",name:"Occitania"},{id:"FR-PDL",name:"Pays de la Loire"},{id:"FR-PAC",name:"Provence-Alpes-Côte d'Azur"}],Eh=[{id:"GB-ENG",name:"England"},{id:"GB-SCT",name:"Scotland"},{id:"GB-WLS",name:"Wales"},{id:"GB-NIR",name:"Northern Ireland"}],Th=[{id:"NO-03",name:"Oslo"},{id:"NO-11",name:"Rogaland"},{id:"NO-15",name:"Møre og Romsdal"},{id:"NO-18",name:"Nordland"},{id:"NO-30",name:"Viken"},{id:"NO-34",name:"Innlandet"},{id:"NO-38",name:"Vestfold og Telemark"},{id:"NO-42",name:"Agder"},{id:"NO-46",name:"Vestland"},{id:"NO-50",name:"Trøndelag"},{id:"NO-54",name:"Troms og Finnmark"}],Ah=[{id:"SE-AB",name:"Stockholm"},{id:"SE-C",name:"Uppsala"},{id:"SE-D",name:"Södermanland"},{id:"SE-E",name:"Östergötland"},{id:"SE-F",name:"Jönköping"},{id:"SE-G",name:"Kronoberg"},{id:"SE-H",name:"Kalmar"},{id:"SE-I",name:"Gotland"},{id:"SE-K",name:"Blekinge"},{id:"SE-M",name:"Skåne"},{id:"SE-N",name:"Halland"},{id:"SE-O",name:"Västra Götaland"},{id:"SE-S",name:"Värmland"},{id:"SE-T",name:"Örebro"},{id:"SE-U",name:"Västmanland"},{id:"SE-W",name:"Dalarna"},{id:"SE-X",name:"Gävleborg"},{id:"SE-Y",name:"Västernorrland"},{id:"SE-Z",name:"Jämtland"},{id:"SE-AC",name:"Västerbotten"},{id:"SE-BD",name:"Norrbotten"}],Ph=[{id:"US-AL",name:"Alabama"},{id:"US-AK",name:"Alaska"},{id:"US-AZ",name:"Arizona"},{id:"US-AR",name:"Arkansas"},{id:"US-CA",name:"California"},{id:"US-CO",name:"Colorado"},{id:"US-CT",name:"Connecticut"},{id:"US-DE",name:"Delaware"},{id:"US-FL",name:"Florida"},{id:"US-GA",name:"Georgia"},{id:"US-HI",name:"Hawaii"},{id:"US-ID",name:"Idaho"},{id:"US-IL",name:"Illinois"},{id:"US-IN",name:"Indiana"},{id:"US-IA",name:"Iowa"},{id:"US-KS",name:"Kansas"},{id:"US-KY",name:"Kentucky"},{id:"US-LA",name:"Louisiana"},{id:"US-ME",name:"Maine"},{id:"US-MD",name:"Maryland"},{id:"US-MA",name:"Massachusetts"},{id:"US-MI",name:"Michigan"},{id:"US-MN",name:"Minnesota"},{id:"US-MS",name:"Mississippi"},{id:"US-MO",name:"Missouri"},{id:"US-MT",name:"Montana"},{id:"US-NE",name:"Nebraska"},{id:"US-NV",name:"Nevada"},{id:"US-NH",name:"New Hampshire"},{id:"US-NJ",name:"New Jersey"},{id:"US-NM",name:"New Mexico"},{id:"US-NY",name:"New York"},{id:"US-NC",name:"North Carolina"},{id:"US-ND",name:"North Dakota"},{id:"US-OH",name:"Ohio"},{id:"US-OK",name:"Oklahoma"},{id:"US-OR",name:"Oregon"},{id:"US-PA",name:"Pennsylvania"},{id:"US-RI",name:"Rhode Island"},{id:"US-SC",name:"South Carolina"},{id:"US-SD",name:"South Dakota"},{id:"US-TN",name:"Tennessee"},{id:"US-TX",name:"Texas"},{id:"US-UT",name:"Utah"},{id:"US-VT",name:"Vermont"},{id:"US-VA",name:"Virginia"},{id:"US-WA",name:"Washington"},{id:"US-WV",name:"West Virginia"},{id:"US-WI",name:"Wisconsin"},{id:"US-WY",name:"Wyoming"}],Ih=[{id:"VN-44",name:"An Giang"},{id:"VN-43",name:"Bà Rịa-Vũng Tàu"},{id:"VN-54",name:"Bắc Giang"},{id:"VN-53",name:"Bắc Kạn"},{id:"VN-55",name:"Bắc Liêu"},{id:"VN-56",name:"Bắc Ninh"},{id:"VN-50",name:"Bến Tre"},{id:"VN-31",name:"Bình Định"},{id:"VN-57",name:"Bình Dương"},{id:"VN-58",name:"Bình Phước"},{id:"VN-40",name:"Bình Thuận"},{id:"VN-59",name:"Cà Mau"},{id:"VN-CT",name:"Cần Thơ"},{id:"VN-04",name:"Cao Bằng"},{id:"VN-DN",name:"Đà Nẵng"},{id:"VN-33",name:"Đắk Lắk"},{id:"VN-72",name:"Đắk Nông"},{id:"VN-71",name:"Điện Biên"},{id:"VN-39",name:"Đồng Nai"},{id:"VN-45",name:"Đồng Tháp"},{id:"VN-30",name:"Gia Lai"},{id:"VN-03",name:"Hà Giang"},{id:"VN-63",name:"Hà Nam"},{id:"HN",name:"Hà Nội"},{id:"VN-23",name:"Hà Tĩnh"},{id:"VN-61",name:"Hải Dương"},{id:"VN-HP",name:"Hải Phòng"},{id:"VN-73",name:"Hậu Giang"},{id:"VN-SG",name:"Hồ Chí Minh"},{id:"VN-14",name:"Hòa Bình"},{id:"VN-66",name:"Hưng Yên"},{id:"VN-34",name:"Khánh Hòa"},{id:"VN-47",name:"Kiên Giang"},{id:"VN-28",name:"Kon Tum"},{id:"VN-01",name:"Lai Châu"},{id:"VN-35",name:"Lâm Đồng"},{id:"VN-09",name:"Lạng Sơn"},{id:"VN-02",name:"Lào Cai"},{id:"VN-41",name:"Long An"},{id:"VN-67",name:"Nam Định"},{id:"VN-22",name:"Nghệ An"},{id:"VN-18",name:"Ninh Bình"},{id:"VN-36",name:"Ninh Thuận"},{id:"VN-68",name:"Phú Thọ"},{id:"VN-32",name:"Phú Yên"},{id:"VN-24",name:"Quảng Bình"},{id:"VN-27",name:"Quảng Nam"},{id:"VN-29",name:"Quảng Ngãi"},{id:"VN-13",name:"Quảng Ninh"},{id:"VN-25",name:"Quảng Trị"},{id:"VN-52",name:"Sóc Trăng"},{id:"VN-05",name:"Sơn La"},{id:"VN-37",name:"Tây Ninh"},{id:"VN-20",name:"Thái Bình"},{id:"VN-69",name:"Thái Nguyên"},{id:"VN-21",name:"Thanh Hóa"},{id:"VN-26",name:"Thừa Thiên Huế"},{id:"VN-46",name:"Tiền Giang"},{id:"VN-51",name:"Trà Vinh"},{id:"VN-07",name:"Tuyên Quang"},{id:"VN-49",name:"Vĩnh Long"},{id:"VN-70",name:"Vĩnh Phúc"},{id:"VN-06",name:"Yên Bái"}],lo=[{id:"europe",mapId:"europe",name:"Europe",mapName:"Europe",description:"Learn all 44 European countries with interactive maps",emoji:"🇪🇺",svgPath:"/europe.svg",regions:kh,countries:kh},{id:"world",mapId:"world",name:"World",mapName:"World",description:"Master geography of all 195+ countries worldwide",emoji:"🌍",svgPath:"/world.svg",regions:Sh,countries:Sh},{id:"africa",mapId:"africa",name:"Africa",mapName:"Africa",description:"Explore all 54 African countries and their locations",emoji:"🌍",svgPath:"/africa.svg",regions:Nh,countries:Nh},{id:"north-america",mapId:"north-america",name:"North America",mapName:"North America",description:"Learn 23 North American countries and territories",emoji:"🌎",svgPath:"/north-america.svg",regions:jh,countries:jh},{id:"finland",mapId:"finland",name:"Finland Regions",mapName:"Finland Regions",description:"Master all 19 Finnish regions and their locations",emoji:"🇫🇮",svgPath:"/fi.svg",regions:_h,countries:_h},{id:"france",mapId:"france",name:"France Regions",mapName:"France Regions",description:"Learn the 13 administrative regions of France",emoji:"🇫🇷",svgPath:"/fr.svg",regions:Ch,countries:Ch},{id:"united-kingdom",mapId:"united-kingdom",name:"United Kingdom",mapName:"United Kingdom",description:"Identify the 4 constituent countries of the UK",emoji:"🇬🇧",svgPath:"/gb.svg",regions:Eh,countries:Eh},{id:"norway",mapId:"norway",name:"Norway Regions",mapName:"Norway Regions",description:"Explore the 11 counties (fylker) of Norway",emoji:"🇳🇴",svgPath:"/no.svg",regions:Th,countries:Th},{id:"sweden",mapId:"sweden",name:"Sweden Regions",mapName:"Sweden Regions",description:"Learn all 21 Swedish counties (län)",emoji:"🇸🇪",svgPath:"/se.svg",regions:Ah,countries:Ah},{id:"united-states",mapId:"united-states",name:"United States",mapName:"United States",description:"Master all 50 US states and their locations",emoji:"🇺🇸",svgPath:"/us.svg",regions:Ph,countries:Ph},{id:"vietnam",mapId:"vietnam",name:"Vietnam Provinces",mapName:"Vietnam Provinces",description:"Learn all 63 provinces and cities of Vietnam",emoji:"🇻🇳",svgPath:"/vn.svg",regions:Ih,countries:Ih}];function Jg(o){return lo.find(a=>a.mapId===o)}async function ep(o,a,s){const l=Jg(o);if(!l)throw new Error(`Map configuration for '${o}' not found`);return await a({userId:"current-user",title:`${l.mapName} Geography`,description:`Learn all regions in ${l.mapName} with interactive maps. Each card shows a highlighted region that you need to identify.`,cardCount:l.countries.length,isPublic:!1,settings:{newCardsPerDay:20,maxReviewsPerDay:100,easyBonus:1.3,intervalModifier:1,maximumInterval:36500,minimumInterval:1},category:"geography"})}const tp=()=>{const o=Zs(),{decks:a,isLoading:s,error:l,importProgress:u,importStatus:d,createDeck:f,deleteDeck:p,loadExampleDecks:x,importAnkiDeck:m,importFromText:_,clearError:S,getCards:j,resetImportProgress:v,addCard:A}=qa(),[b,N]=K.useState(!1),[w,C]=K.useState(!1),[R,L]=K.useState(""),[F,H]=K.useState("all"),[q,ie]=K.useState(null),[ne,fe]=K.useState(!1),[pe,B]=K.useState(""),[X,E]=K.useState(""),[ce,Te]=K.useState(""),[he,ge]=K.useState(""),[Z,Q]=K.useState(""),[I,M]=K.useState("	"),le=K.useRef(!1);K.useEffect(()=>{const je=setTimeout(()=>{a.length===0&&!le.current&&(le.current=!0,x())},100);return()=>clearTimeout(je)},[a.length,x]);const ue=a.filter(je=>{const k=je.title.toLowerCase().includes(R.toLowerCase())||je.description.toLowerCase().includes(R.toLowerCase()),de=F==="all"||je.category===F;return k&&de}),ae=["all",...Array.from(new Set(a.map(je=>je.category).filter(Boolean)))],Ce=async je=>{je.preventDefault();try{await f({userId:"current-user",title:X,description:ce,cardCount:0,isPublic:!1,settings:{newCardsPerDay:20,maxReviewsPerDay:100,easyBonus:1.3,intervalModifier:1,maximumInterval:36500,minimumInterval:1},category:he||"general"}),N(!1),E(""),Te(""),ge("")}catch(k){console.error("Failed to create deck:",k)}},Re=async je=>{if(confirm("Are you sure you want to delete this deck? This action cannot be undone."))try{await p(je)}catch(k){console.error("Failed to delete deck:",k)}},Pe=async je=>{const k=je.target.files?.[0];if(k)try{if(k.name.endsWith(".apkg")||k.name.endsWith(".txt"))await m(k);else{const de=await k.text();await _(k.name.replace(/\.[^/.]+$/,""),de,I)}C(!1)}catch(de){console.error("Failed to import file:",de),v()}},Oe=async je=>{je.preventDefault();try{const k=await _("Imported Deck",Z,I);console.log("Successfully imported deck:",k),C(!1),Q(""),S()}catch(k){console.error("Failed to import text:",k)}},Ge=je=>{const k=j(je.id),de=k.filter(U=>U.reviewCount===0).length,J=k.filter(U=>U.reviewCount>0&&new Date(U.nextReview)<=new Date).length;return{total:k.length,new:de,review:J}},st=je=>{o(`/study/${je}`)},ot=async()=>{if(pe)try{const k=await ep(pe,async de=>{const J={userId:de.userId,title:de.title,description:de.description,settings:de.settings,category:de.category||"geography",isPublic:de.isPublic,cardCount:de.cardCount||0},U=await f(J);return{...de,id:U.id}});console.log(`Successfully created ${pe} map deck:`,k),fe(!1),B("")}catch(je){console.error("Failed to create map deck:",je)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Decks"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your flashcard decks"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>N(!0),className:"btn btn-primary",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Deck"]}),r.jsxs("button",{onClick:()=>fe(!0),className:"btn btn-success",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),"Map Deck"]}),r.jsxs("button",{onClick:()=>C(!0),className:"btn btn-secondary",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import"]})]})]}),l&&r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[r.jsx("span",{className:"block sm:inline",children:l}),r.jsx("button",{onClick:S,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:r.jsx("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"Search decks...",value:R,onChange:je=>L(je.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),r.jsx("select",{value:F,onChange:je=>H(je.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:ae.map(je=>r.jsx("option",{value:je,children:je==="all"?"All Categories":(je||"").charAt(0).toUpperCase()+(je||"").slice(1)},je))})]}),s&&r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),!s&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ue.map(je=>{const k=Ge(je);return r.jsxs("div",{className:"card p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:je.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:je.description}),je.category&&r.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:je.category})]}),r.jsx("div",{className:"flex gap-1 ml-4",children:r.jsx("button",{onClick:()=>Re(je.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete deck",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Cards"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:k.total})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"New"}),r.jsx("span",{className:"font-medium text-blue-600",children:k.new})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Due for Review"}),r.jsx("span",{className:"font-medium text-orange-600",children:k.review})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>st(je.id),className:"btn btn-primary btn-sm flex-1",children:"Study Now"}),r.jsx("button",{onClick:()=>ie(je.id),className:"btn btn-secondary btn-sm flex-1",children:"Manage Cards"})]})})]},je.id)})}),!s&&ue.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📚"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:R||F!=="all"?"No decks found":"No decks yet"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:R||F!=="all"?"Try adjusting your search or filter criteria":"Create your first deck or import existing flashcards to get started"}),!R&&F==="all"&&r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx("button",{onClick:()=>N(!0),className:"btn btn-primary",children:"Create Your First Deck"}),r.jsx("button",{onClick:()=>C(!0),className:"btn btn-secondary",children:"Import Existing Deck"})]})]}),b&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Create New Deck"}),r.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),r.jsx("input",{type:"text",value:X,onChange:je=>E(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{value:ce,onChange:je=>Te(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),r.jsx("input",{type:"text",value:he,onChange:je=>ge(je.target.value),placeholder:"e.g., language, science, history",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Create Deck"})]})]})]})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Import Deck"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-white",children:"Import from File"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Upload an Anki deck (.apkg) or text file (.txt)"}),r.jsx("input",{type:"file",accept:".apkg,.txt,.csv",onChange:Pe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:s}),s&&u>0&&r.jsx("div",{className:"mt-4",children:r.jsx(bh,{progress:u,label:d||"Importing...",className:"mb-2"})})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-white",children:"Import from Text"}),r.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Separator"}),r.jsxs("select",{value:I,onChange:je=>M(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[r.jsx("option",{value:"\\t",children:"Tab"}),r.jsx("option",{value:",",children:"Comma"}),r.jsx("option",{value:";",children:"Semicolon"}),r.jsx("option",{value:"|",children:"Pipe"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Text (Front",I,"Back format)"]}),r.jsx("textarea",{value:Z,onChange:je=>Q(je.target.value),placeholder:`Example:
Hello${I}Hola
Goodbye${I}Adiós`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:6})]}),r.jsx("button",{type:"submit",disabled:!Z.trim()||s,className:"w-full btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Importing...":"Import Text"}),s&&u>0&&r.jsx("div",{className:"mt-4",children:r.jsx(bh,{progress:u,label:d||"Importing...",className:"mb-2"})})]})]})]}),r.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200 dark:border-gray-700 mt-6",children:r.jsx("button",{onClick:()=>{C(!1),v()},disabled:s,className:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Importing...":"Close"})})]})}),ne&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Create Geography Deck"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🗺️"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Interactive Geography Learning"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Choose a map type to create an interactive geography deck. Each card will show a highlighted region, and you'll need to identify its name."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Map Type"}),r.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-64 overflow-y-auto",children:lo.map(je=>r.jsx("button",{onClick:()=>B(je.id),className:`p-4 text-left border rounded-lg transition-colors ${pe===je.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:je.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:je.description}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[je.regions.length," ",je.regions.length===1?"region":"regions"]})]}),r.jsx("div",{className:"text-2xl ml-4",children:je.emoji})]})},je.id))})]}),pe&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"What you'll get:"}),r.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[r.jsxs("li",{children:["• ",lo.find(je=>je.id===pe)?.regions.length," interactive map cards"]}),r.jsx("li",{children:"• Visual region highlighting"}),r.jsx("li",{children:"• Enhanced indicators for small regions"}),r.jsx("li",{children:"• Immediate feedback"}),r.jsx("li",{children:"• Spaced repetition learning"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{fe(!1),B("")},className:"flex-1 btn btn-secondary",children:"Cancel"}),r.jsx("button",{onClick:ot,disabled:s||!pe,className:"flex-1 btn btn-success disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":`Create ${pe?lo.find(je=>je.id===pe)?.name:""} Deck`})]})]})]})}),q&&r.jsx(Yg,{deckId:q,onClose:()=>ie(null)})]})},rp={totalXP:2500,level:5,currentLevelXP:100,nextLevelXP:500,cardsStudied:1250,studyTime:2400,accuracy:87.5,currentStreak:15,longestStreak:28,coins:150,gems:10,lastStudyDate:new Date().toISOString(),joinDate:new Date(Date.now()-720*60*60*1e3).toISOString()},Rh=[{id:"first_study",name:"First Steps",description:"Complete your first study session",icon:"🎯",unlockedAt:new Date(Date.now()-600*60*60*1e3).toISOString(),category:"study"},{id:"week_streak",name:"Week Warrior",description:"Study for 7 days in a row",icon:"🔥",unlockedAt:new Date(Date.now()-14400*60*1e3).toISOString(),category:"streak"}],np=[{id:"monthly_mastery",name:"Monthly Mastery Challenge",description:"Complete an intensive month-long study challenge with progressive difficulty",type:"monthly",target:1e3,current:245,reward:{xp:1500,coins:500,gems:50},expiresAt:new Date(Date.now()+720*60*60*1e3).toISOString()},{id:"knowledge_seeker",name:"Knowledge Seeker",description:"Explore diverse subjects and maintain high accuracy throughout the month",type:"monthly",target:800,current:156,reward:{xp:1200,coins:400,gems:30},expiresAt:new Date(Date.now()+600*60*60*1e3).toISOString()}],Dh=[{id:"daily_grind",name:"Daily Grind",description:"Study 25 cards today",type:"daily",target:25,current:18,reward:{xp:50,coins:10},expiresAt:new Date(Date.now()+1440*60*1e3).toISOString()},{id:"weekly_warrior",name:"Weekly Warrior",description:"Study 200 cards this week",type:"weekly",target:200,current:145,reward:{xp:200,coins:50,gems:5},expiresAt:new Date(Date.now()+4320*60*1e3).toISOString()},...np],Oh={global:[{userId:"demo1",username:"StudyMaster",score:5420,rank:1,change:0},{userId:"demo2",username:"FlashcardPro",score:4890,rank:2,change:1},{userId:"demo3",username:"MemoryWiz",score:4650,rank:3,change:-1},{userId:"demo4",username:"QuizKing",score:4200,rank:4,change:2},{userId:"demo_user",username:"Demo User",score:2500,rank:15,change:3}],friends:[{userId:"friend1",username:"StudyBuddy",score:3200,rank:1,change:0},{userId:"demo_user",username:"Demo User",score:2500,rank:2,change:1},{userId:"friend2",username:"LearningPal",score:2100,rank:3,change:-1}],weekly:[{userId:"demo1",username:"StudyMaster",score:890,rank:1,change:2},{userId:"demo_user",username:"Demo User",score:420,rank:8,change:5}],monthly:[{userId:"demo1",username:"StudyMaster",score:3200,rank:1,change:0},{userId:"demo_user",username:"Demo User",score:1800,rank:12,change:-2}]};class sp{baseUrl="/api";isDemoUser(a){return a.tokenType==="demo"||a.email==="demo@studymaster.app"}async getUserStats(a){if(ve.log("[USER_DATA_SERVICE]","START - getUserStats",{userId:a.id,isDemoUser:this.isDemoUser(a)}),this.isDemoUser(a))return ve.log("[USER_DATA_SERVICE]","Returning demo user stats"),rp;try{ve.log("[USER_DATA_SERVICE]","Attempting to fetch user stats from PocketBase");const s=await Nt.collection("users").getOne(a.id,{fields:"level,total_xp,coins,gems,last_active,created,preferences"});return ve.log("[USER_DATA_SERVICE]","PocketBase user stats fetched successfully"),{totalXP:s.total_xp||0,level:s.level||1,currentLevelXP:(s.total_xp||0)%200,nextLevelXP:200,cardsStudied:0,studyTime:0,accuracy:85,currentStreak:0,longestStreak:0,coins:s.coins||100,gems:s.gems||10,lastStudyDate:s.last_active||new Date().toISOString(),joinDate:s.created||new Date().toISOString()}}catch(s){ve.warn("[USER_DATA_SERVICE]","PocketBase fetch failed, trying REST API fallback",{error:s});try{const l=await fetch(`${this.baseUrl}/users/${a.id}/stats`,{headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to fetch user stats from REST API");const u=await l.json();return ve.log("[USER_DATA_SERVICE]","REST API user stats fetched successfully"),u}catch(l){return ve.warn("[USER_DATA_SERVICE]","Both PocketBase and REST API failed, using mock data",{pocketbaseError:s,apiError:l}),this.generatePersonalizedMockStats(a)}}}async getUserActivity(a,s=30){if(this.isDemoUser(a))return this.generateDemoActivity(s);try{const l=await fetch(`${this.baseUrl}/users/${a.id}/activity?days=${s}`,{headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to fetch user activity");return await l.json()}catch(l){return console.warn("Failed to fetch real user activity, using mock data:",l),this.generatePersonalizedActivity(a,s)}}async getUserAchievements(a){if(this.isDemoUser(a))return Rh;try{const s=await fetch(`${this.baseUrl}/users/${a.id}/achievements`,{headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to fetch user achievements");return await s.json()}catch(s){return console.warn("Failed to fetch real user achievements, using mock data:",s),this.generatePersonalizedAchievements(a)}}async getUserChallenges(a){if(this.isDemoUser(a))return Dh;try{const s=await fetch(`${this.baseUrl}/users/${a.id}/challenges`,{headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to fetch user challenges");return await s.json()}catch(s){return console.warn("Failed to fetch real user challenges, using mock data:",s),this.generatePersonalizedChallenges(a)}}async getLeaderboardData(a){if(this.isDemoUser(a))return Oh;try{const s=await fetch(`${this.baseUrl}/leaderboard`,{headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to fetch leaderboard data");return await s.json()}catch(s){return console.warn("Failed to fetch real leaderboard data, using mock data:",s),this.generatePersonalizedLeaderboard(a)}}async getPerformanceMetrics(a){if(this.isDemoUser(a))return this.generateDemoPerformanceMetrics();try{const s=await fetch(`${this.baseUrl}/users/${a.id}/performance`,{headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to fetch performance metrics");return await s.json()}catch(s){return console.warn("Failed to fetch real performance metrics, using mock data:",s),this.generatePersonalizedPerformanceMetrics(a)}}async getCompleteUserProfile(a){const[s,l,u,d,f]=await Promise.all([this.getUserStats(a),this.getUserActivity(a,30),this.getUserAchievements(a),this.getUserChallenges(a),this.getPerformanceMetrics(a)]);return{stats:s,activity:l,achievements:u,challenges:d,performance:f}}async resetAllUserData(a){if(!this.isDemoUser(a))try{if(!(await fetch(`${this.baseUrl}/users/${a.id}/reset`,{method:"POST",headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to reset user data")}catch(s){console.warn("Failed to reset real user data via API:",s)}}generatePersonalizedMockStats(a){const s=this.hashString(a.email),l=Math.floor(s%60)+1;return{totalXP:Math.floor(s%1e3)+100,level:Math.floor(s%1e3/200)+1,currentLevelXP:s%200,nextLevelXP:200,cardsStudied:Math.floor(s%500)+50,studyTime:Math.floor(s%1200)+60,accuracy:75+s%20,currentStreak:Math.floor(s%15)+1,longestStreak:Math.floor(s%30)+5,coins:Math.floor(s%200)+50,gems:Math.floor(s%20)+5,lastStudyDate:new Date().toISOString(),joinDate:new Date(Date.now()-l*24*60*60*1e3).toISOString()}}generatePersonalizedActivity(a,s){const l=[];for(let u=0;u<s;u++){const d=new Date(Date.now()-u*24*60*60*1e3),f=this.hashString(a.email+d.toDateString());f%4!==0&&l.push({date:d.toISOString().split("T")[0],cardsStudied:Math.floor(f%50)+5,studyTime:Math.floor(f%120)+10,accuracy:70+f%25,xpGained:Math.floor(f%100)+20})}return l.reverse()}generatePersonalizedAchievements(a){const s=this.hashString(a.email),l=[...Rh];return s%3===0&&l.push({id:"accuracy_master",name:"Accuracy Master",description:"Achieve 90% accuracy in a session",icon:"🎯",unlockedAt:new Date(Date.now()-7200*60*1e3).toISOString(),category:"accuracy"}),l}generatePersonalizedChallenges(a){const s=[...Dh];return s.forEach(l=>{const u=this.hashString(a.email+l.id);l.current=Math.floor(u%80/100*l.target)}),s}generatePersonalizedLeaderboard(a){const s=this.hashString(a.email),l=Math.floor(s%1e3)+100,u=Math.floor(s%50)+5,d={...Oh};return d.global.push({userId:a.id,username:a.username,score:l,rank:u,change:Math.floor(s%10)-5}),d}generateDemoActivity(a){const s=[];for(let l=0;l<a;l++){const u=new Date(Date.now()-l*24*60*60*1e3);l%3!==0&&s.push({date:u.toISOString().split("T")[0],cardsStudied:Math.floor(Math.random()*40)+10,studyTime:Math.floor(Math.random()*90)+15,accuracy:80+Math.floor(Math.random()*15),xpGained:Math.floor(Math.random()*80)+30})}return s.reverse()}generateDemoPerformanceMetrics(){return{weeklyProgress:{cardsStudied:180,studyTime:240,accuracy:87.5,goal:350},monthlyProgress:{cardsStudied:720,studyTime:1200,decksCompleted:8},studyPattern:{preferredTime:"evening",averageSessionLength:25,studyFrequency:5.2}}}generatePersonalizedPerformanceMetrics(a){const s=this.hashString(a.email);return{weeklyProgress:{cardsStudied:Math.floor(s%200)+50,studyTime:Math.floor(s%300)+60,accuracy:75+s%20,goal:300},monthlyProgress:{cardsStudied:Math.floor(s%800)+200,studyTime:Math.floor(s%1500)+300,decksCompleted:Math.floor(s%15)+3},studyPattern:{preferredTime:["morning","afternoon","evening"][s%3],averageSessionLength:Math.floor(s%30)+15,studyFrequency:3+s%4}}}hashString(a){let s=0;for(let l=0;l<a.length;l++){const u=a.charCodeAt(l);s=(s<<5)-s+u,s=s&s}return Math.abs(s)}}const cs=new sp,ap=({currentXP:o,level:a,className:s=""})=>{const l=_=>Math.pow(_-1,2)*100,u=_=>Math.pow(_,2)*100,d=l(a),f=u(a),p=o-d,x=f-d,m=Math.max(0,Math.min(p/x*100,100));return r.jsxs("div",{className:`space-y-2 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Level ",a]}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[p.toLocaleString()," / ",x.toLocaleString()," XP"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-500 ease-out relative",style:{width:`${m}%`},children:r.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse rounded-full"})})}),r.jsx("div",{className:"absolute -top-1 -left-1 w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold text-white border-2 border-white dark:border-gray-800",children:a})]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:f-o>0?r.jsxs(r.Fragment,{children:[(f-o).toLocaleString()," XP to level ",a+1]}):"Max level reached!"})]})},ip=({currentStreak:o,longestStreak:a,lastStudyDate:s,className:l=""})=>{const u=()=>{if(!s)return!1;const _=new Date(s),j=Math.abs(new Date().getTime()-_.getTime());return Math.ceil(j/(1e3*60*60*24))<=1},f=o===0?"inactive":u()?"active":"broken",p=()=>{switch(f){case"active":return"text-green-600 dark:text-green-400";case"broken":return"text-orange-600 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}},x=()=>{switch(f){case"active":return"🔥";case"broken":return"💔";default:return"⭐"}},m=()=>{switch(f){case"active":return o===1?"Great start!":"Keep it up!";case"broken":return"Start a new streak today!";default:return"Begin your streak!"}};return r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700 ${l}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Study Streak"}),r.jsx("span",{className:"text-2xl",children:x()})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-3xl font-bold ${p()}`,children:o}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o===1?"day":"days"}),r.jsx("div",{className:`text-sm font-medium ${p()}`,children:m()})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Longest streak:"}),r.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[a," ",a===1?"day":"days"]})]}),s&&r.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last study:"}),r.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:new Date(s).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex justify-center space-x-1 pt-2",children:[Array.from({length:Math.min(o,7)},(_,S)=>r.jsx("div",{className:`w-3 h-3 rounded-full ${f==="active"?"bg-green-500":f==="broken"?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"}`},S)),o>7&&r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["+",o-7]})]})]})]})},op=({isOpen:o,onClose:a,onConfirm:s,title:l,message:u,confirmText:d="Confirm",cancelText:f="Cancel",isDestructive:p=!1,isLoading:x=!1})=>o?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-4 ${p?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900"}`,children:r.jsx("span",{className:"text-2xl",children:p?"⚠️":"ℹ️"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:l})]}),r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:u})}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:a,disabled:x,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f}),r.jsxs("button",{onClick:s,disabled:x,className:`px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 ${p?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:[x&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:d})]})]})]})})}):null,lp=()=>{const{user:o,updateUser:a,isLoading:s,initializeAuth:l}=mn(),[,u]=K.useState(null),[d,f]=K.useState([]),[p,x]=K.useState([]),[m,_]=K.useState([]),[S,j]=K.useState(!1),[v,A]=K.useState(null),[b,N]=K.useState(!1),[w,C]=K.useState(!1),[R,L]=K.useState(!1),[F,H]=K.useState(!1),[q,ie]=K.useState(null),{resetAllStudyData:ne}=qa(),{resetAllUserData:fe,userStats:pe,isInitialized:B,userStreak:X,initializeUserData:E}=Wa();K.useEffect(()=>{!o&&!s&&l()},[o,s,l]);const ce=K.useCallback(async()=>{if(o){j(!0),A(null);try{const Q=o.email==="demo@studymaster.com"||o.tokenType==="demo";if(E(Q),Q)u(null),f([]),x([]),_([]);else{const I={...o,token:o.token,tokenType:o.tokenType};try{const[M,le,ue,ae]=await Promise.all([cs.getUserStats(I),cs.getUserActivity(I,30),cs.getUserAchievements(I),cs.getUserChallenges(I)]);u(M),f(le),x(ue),_(ae)}catch(M){console.warn("API data loading failed, using fallback:",M),u(null),f([]),x([]),_([])}}}catch(Q){console.error("Failed to load user data:",Q),A("Unable to load user statistics. Please try again later.")}finally{j(!1)}}},[o,E]);K.useEffect(()=>{ce()},[ce]);const[Te,he]=K.useState({username:o?.username||"",email:o?.email||"",dailyGoal:o?.preferences.dailyGoal||50}),ge=()=>{o&&a({username:Te.username,email:Te.email,preferences:{...o.preferences,dailyGoal:Te.dailyGoal}}),N(!1)},Z=async()=>{if(o){L(!0),ie(null);try{if(!(o.email==="demo@studymaster.com"||o.tokenType==="demo")){const I={...o,token:o.token,tokenType:o.tokenType};try{await cs.resetAllUserData(I)}catch(M){console.warn("API reset failed, proceeding with local reset:",M)}}fe(),ne(),u(null),f([]),x([]),_([]),A(null),H(!0),C(!1),setTimeout(async()=>{H(!1);const I=o.email==="demo@studymaster.com"||o.tokenType==="demo";E(I),await ce()},1500)}catch(Q){console.error("Failed to reset user data:",Q),ie("Failed to reset data. Please try again.")}finally{L(!1)}}};return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl text-gray-900 dark:text-white",children:"Loading profile..."})]})}):o?r.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Profile"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your progress and achievements"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:o.username.charAt(0).toUpperCase()}),r.jsx("div",{children:b?r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"text",value:Te.username,onChange:Q=>he({...Te,username:Q.target.value}),className:"text-2xl font-bold bg-transparent border-b border-gray-300 dark:border-gray-600 focus:outline-none focus:border-blue-500 text-gray-900 dark:text-white"}),r.jsx("input",{type:"email",value:Te.email,onChange:Q=>he({...Te,email:Q.target.value}),className:"text-gray-600 dark:text-gray-400 bg-transparent border-b border-gray-300 dark:border-gray-600 focus:outline-none focus:border-blue-500"})]}):r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.username}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o.email})]})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-yellow-600 dark:text-yellow-400",children:[r.jsx("span",{className:"text-lg",children:"💰"}),r.jsx("span",{className:"font-bold",children:pe.gold})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-purple-600 dark:text-purple-400",children:[r.jsx("span",{className:"text-lg",children:"💎"}),r.jsx("span",{className:"font-bold",children:pe.diamonds})]})]}),b?r.jsxs("div",{className:"space-x-2",children:[r.jsx("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save"}),r.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]}):r.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Profile"})]})]}),r.jsx(ap,{currentXP:pe.xp,level:pe.level,className:"mb-4"}),S?r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[...Array(4)].map((Q,I)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-16 mx-auto rounded mb-2"}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-20 mx-auto rounded"})]},I))}):B?r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:pe.totalCards.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cards Studied"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[Math.floor(pe.totalStudyTime/60),"h ",pe.totalStudyTime%60,"m"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Study Time"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[pe.averageAccuracy.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Accuracy"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:pe.currentStreak}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Day Streak"})]})]}):r.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:v||"Unable to load stats"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),S?r.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((Q,I)=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-20 rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-16 rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-12 rounded"})]},I))}):d.length>0?r.jsx("div",{className:"space-y-3",children:d.slice(0,10).map((Q,I)=>r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(Q.date).toLocaleDateString()}),r.jsxs("div",{className:"flex space-x-4 text-sm",children:[r.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[Q.cardsStudied," cards"]}),r.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[Q.studyTime,"m"]}),r.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:[Q.accuracy,"%"]})]})]},I))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-4xl mb-4",children:"📊"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No activity data available yet. Start studying to see your progress!"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Active Challenges"}),S?r.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(2)].map((Q,I)=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-6 w-3/4 rounded mb-2"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-full rounded mb-3"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-2 w-full rounded"})]},I))}):m.length>0?r.jsx("div",{className:"space-y-4",children:m.map(Q=>{const I=Math.min(Q.current/Q.target*100,100);return r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:Q.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Q.description})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Q.completedAt?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:Q.completedAt?"Completed":Q.type})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[Q.current," / ",Q.target]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${I}%`}})})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("span",{children:["+",Q.reward.xp," XP"]}),r.jsxs("span",{children:["+",Q.reward.coins," coins"]}),Q.reward.gems&&r.jsxs("span",{children:["+",Q.reward.gems," gems"]})]})]},Q.id)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No active challenges. Check the Challenges page to join some!"})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsx(ip,{currentStreak:pe.currentStreak,longestStreak:pe.longestStreak,lastStudyDate:X?.lastStudyDate||new Date().toISOString()}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Achievements (",p.length,")"]}),S?r.jsx("div",{className:"animate-pulse grid grid-cols-4 gap-3",children:[...Array(8)].map((Q,I)=>r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-16 w-16 rounded-lg"},I))}):p.length>0?r.jsx("div",{className:"grid grid-cols-4 gap-3",children:p.map(Q=>r.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg p-3 text-center text-white shadow-lg",title:`${Q.name}: ${Q.description}`,children:[r.jsx("div",{className:"text-2xl mb-1",children:Q.icon}),r.jsx("div",{className:"text-xs font-medium truncate",children:Q.name})]},Q.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-4xl mb-4",children:"🏆"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No achievements yet. Keep studying to unlock them!"})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Study Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Daily Goal"}),b?r.jsx("input",{type:"number",value:Te.dailyGoal,onChange:Q=>he({...Te,dailyGoal:parseInt(Q.target.value)||50}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",min:"1",max:"500"}):r.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[o.preferences.dailyGoal," cards"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notifications"}),r.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${o.preferences.notifications?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${o.preferences.notifications?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Sound Effects"}),r.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${o.preferences.soundEffects?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${o.preferences.soundEffects?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]})]}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:"Data Management"}),r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("span",{className:"text-red-500 text-xl",children:"⚠️"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"text-sm font-medium text-red-800 dark:text-red-200 mb-1",children:"Reset All Statistics"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-3",children:"This will permanently delete all your study progress, achievements, streaks, and performance data. This action cannot be undone."}),r.jsxs("button",{onClick:()=>C(!0),disabled:R,className:"px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[R&&r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Reset All Data"})]})]})]})})]})]})]})]}),F&&r.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[r.jsx("span",{className:"text-lg",children:"✅"}),r.jsx("span",{children:"All statistics have been reset successfully!"})]}),q&&r.jsxs("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[r.jsx("span",{className:"text-lg",children:"❌"}),r.jsx("span",{children:q}),r.jsx("button",{onClick:()=>ie(null),className:"ml-2 text-white hover:text-gray-200",children:"×"})]}),r.jsx(op,{isOpen:w,onClose:()=>C(!1),onConfirm:Z,title:"Reset All Statistics",message:"Are you absolutely sure you want to reset all your statistics? This will permanently delete all your study progress, achievements, streaks, challenge progress, and performance data. This action cannot be undone and you will lose all your current progress.",confirmText:"Yes, Reset Everything",cancelText:"Cancel",isDestructive:!0,isLoading:R})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"text-center",children:r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Please log in to view your profile"})})})},cp=()=>{const{user:o}=mn(),[a,s]=K.useState(null),[l,u]=K.useState(!1),[d,f]=K.useState(null),[p,x]=K.useState("global");K.useEffect(()=>{(async()=>{if(o){u(!0),f(null);try{const R={...o,token:o.token,tokenType:o.tokenType},L=await cs.getLeaderboardData(R);s(L)}catch(R){console.error("Failed to load leaderboard data:",R),f("Failed to load leaderboard data")}finally{u(!1)}}})()},[o]);const m=[{value:"global",label:"Global Rankings",icon:"🌍",description:"Compete with all users worldwide"},{value:"friends",label:"Friends",icon:"👥",description:"Compare with your friends"},{value:"weekly",label:"This Week",icon:"📅",description:"Weekly performance rankings"},{value:"monthly",label:"This Month",icon:"📊",description:"Monthly achievement rankings"}],S=a?a[p]||[]:[],j=C=>{switch(C){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return`#${C}`}},v=C=>{switch(C){case 1:return"text-yellow-600 dark:text-yellow-400";case 2:return"text-gray-600 dark:text-gray-400";case 3:return"text-orange-600 dark:text-orange-400";default:return"text-gray-700 dark:text-gray-300"}},A=C=>C>0?"📈":C<0?"📉":"➖",b=C=>C>0?"text-green-600 dark:text-green-400":C<0?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400",N=C=>C.toLocaleString()+" XP",w=S.find(C=>C.userId===o?.id);return r.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"🏆 Leaderboard"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Compete with other learners and climb the ranks!"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Leaderboard Category"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map(C=>r.jsxs("button",{onClick:()=>x(C.value),className:`p-4 rounded-lg border-2 transition-all duration-200 text-left ${p===C.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:"text-2xl",children:C.icon}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:C.label})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:C.description})]},C.value))})]}),w&&r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Position"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-2xl font-bold",children:w.username.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-lg",children:w.username}),r.jsx("div",{className:"text-blue-100",children:N(w.score)})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-3xl font-bold",children:j(w.rank)}),r.jsxs("div",{className:"text-sm text-blue-100 flex items-center space-x-1",children:[r.jsx("span",{children:A(w.change)}),r.jsx("span",{children:w.change===0?"No change":`${Math.abs(w.change)} ${w.change>0?"up":"down"}`})]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.find(C=>C.value===p)?.label}),!l&&a&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Updated recently"})]})}),l?r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"space-y-4",children:[...Array(10)].map((C,R)=>r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-8 rounded"}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-10 w-10 rounded-full"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-24 rounded"}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-3 w-16 rounded"})]})]}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-8 rounded"})]},R))})}):S.length>0?r.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:S.map(C=>r.jsx("div",{className:`p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${C.userId===o?.id?"bg-blue-50 dark:bg-blue-900/20":""}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`text-2xl font-bold ${v(C.rank)} min-w-[3rem] text-center`,children:j(C.rank)}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:C.username.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:[C.username,C.userId===o?.id&&r.jsx("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full",children:"You"})]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:N(C.score)})]})]})]}),r.jsxs("div",{className:`text-sm font-medium ${b(C.change)} flex items-center space-x-1`,children:[r.jsx("span",{className:"text-lg",children:A(C.change)}),r.jsx("span",{children:C.change===0?"—":`${Math.abs(C.change)}`})]})]})},C.userId))}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-4xl mb-4",children:"📊"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:d?"Unable to Load Data":"No Data Available"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d||"Leaderboard data for this category is not available yet."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"How Rankings Work"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{children:"Rankings update regularly based on your study activity"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{children:"XP is earned through studying, accuracy bonuses, and streaks"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{children:"Global rankings include all StudyMaster users"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{children:"Weekly and monthly rankings reset at the start of each period"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Climb the Ranks"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"•"}),r.jsx("span",{children:"Study consistently to maintain and improve your streak"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"•"}),r.jsx("span",{children:"Focus on accuracy to maximize your XP gains"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"•"}),r.jsx("span",{children:"Complete challenges for bonus XP and achievements"})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"•"}),r.jsx("span",{children:"Invite friends to compete in the friends leaderboard"})]})]})]})]})]})},up=({challenge:o,participation:a})=>{const{claimMilestoneReward:s}=Wa(),l=a?.progress||{},u=a?.milestoneProgress||{},d=a?.weeklyProgress||[],f=a?.currentStreak||0,p=a?.bestWeek||0,x=o.requirements.reduce((w,C)=>w+C.target,0),m=o.requirements.reduce((w,C)=>{const R=C.type;return w+(l[R]||0)},0),_=Math.min(m/x*100,100),S=[{id:"milestone_1",name:"First Week",target:25,reward:"100 XP + 20 Gold"},{id:"milestone_2",name:"Consistency",target:50,reward:"200 XP + 50 Gold"},{id:"milestone_3",name:"Dedication",target:75,reward:"300 XP + 100 Gold + 5 Gems"},{id:"milestone_4",name:"Mastery",target:100,reward:"500 XP + 200 Gold + 10 Gems + Badge"}],j=[{week:1,title:"The Journey Begins",unlocked:d.some(w=>w.week===1&&w.storyUnlocked)},{week:2,title:"Building Momentum",unlocked:d.some(w=>w.week===2&&w.storyUnlocked)},{week:3,title:"Overcoming Challenges",unlocked:d.some(w=>w.week===3&&w.storyUnlocked)},{week:4,title:"The Final Push",unlocked:d.some(w=>w.week===4&&w.storyUnlocked)}],v=w=>{s(o.id,w)},A=w=>d.find(C=>C.week===w),b=w=>["bg-green-500","bg-yellow-500","bg-orange-500","bg-red-500"][Math.min(w-1,3)],N=w=>["Beginner","Intermediate","Advanced","Expert"][Math.min(w-1,3)];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-2xl",children:"🏆"}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o.title}),r.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs font-medium rounded-full",children:"Monthly Epic"})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:o.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{children:["🔥 Streak: ",f," days"]}),r.jsxs("span",{children:["⭐ Best Week: ",p]}),r.jsxs("span",{children:["📅 ",Math.ceil((new Date(o.endDate).getTime()-Date.now())/(1e3*60*60*24))," days left"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[_.toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Complete"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-300 mb-2",children:[r.jsx("span",{children:"Overall Progress"}),r.jsxs("span",{children:[m," / ",x]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-300",style:{width:`${_}%`}})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Weekly Progress & Difficulty Scaling"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[1,2,3,4].map(w=>{const C=A(w),R=C?.completed||!1,L=Math.ceil((Date.now()-new Date(o.startDate).getTime())/(1e3*60*60*24*7))===w;return r.jsxs("div",{className:`p-3 rounded-lg border-2 ${R?"border-green-500 bg-green-50 dark:bg-green-900/20":L?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["Week ",w]}),R&&r.jsx("span",{className:"text-green-500",children:"✓"}),L&&!R&&r.jsx("span",{className:"text-purple-500",children:"📍"})]}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full text-white ${b(w)} mb-2`,children:N(w)}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Target: ",25*w," cards"]}),C&&r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Progress: ",Object.values(C.progress).reduce((F,H)=>F+H,0)]})]},w)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:'📖 Story Arc: "The Path to Mastery"'}),r.jsx("div",{className:"space-y-2",children:j.map(w=>r.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${w.unlocked?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w.unlocked?"bg-blue-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500"}`,children:w.unlocked?"📖":"🔒"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:`font-medium ${w.unlocked?"text-blue-900 dark:text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:["Chapter ",w.week,": ",w.title]}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.unlocked?"Unlocked! Click to read":`Complete Week ${w.week} to unlock`})]}),w.unlocked&&r.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors",children:"Read"})]},w.week))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"🎯 Milestones & Rewards"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S.map(w=>{const C=u[w.id]===!0,R=u[`${w.id}_claimed`]===!0,L=C&&!R;return r.jsxs("div",{className:`p-4 rounded-lg border-2 ${R?"border-green-500 bg-green-50 dark:bg-green-900/20":C?"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[R&&r.jsx("span",{className:"text-green-500",children:"✅"}),C&&!R&&r.jsx("span",{className:"text-yellow-500",children:"🎁"}),!C&&r.jsx("span",{className:"text-gray-400",children:"⏳"})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:["Target: ",w.target,"% completion"]}),r.jsxs("div",{className:"text-sm text-purple-600 dark:text-purple-400 mb-3",children:["Reward: ",w.reward]}),L&&r.jsx("button",{onClick:()=>v(w.id),className:"w-full px-3 py-2 bg-yellow-500 text-white text-sm font-medium rounded-lg hover:bg-yellow-600 transition-colors",children:"Claim Reward"}),R&&r.jsx("div",{className:"w-full px-3 py-2 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 text-sm font-medium rounded-lg text-center",children:"Claimed"})]},w.id)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"🌍 Community Goals"}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Global Study Challenge"}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"12,847 / 50,000 participants"})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:"25.7%"}})}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Help the community reach 50,000 participants to unlock exclusive rewards for everyone!"}),r.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:'Community Reward: Exclusive "Unity" badge + 100 bonus gems for all participants'})]})]}),r.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"💎 Exclusive Monthly Rewards"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-2",children:"🏅"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Monthly Master"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Exclusive Badge"})]})}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-2",children:"👑"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Royal Title"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Profile Enhancement"})]})}),r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-2",children:"🎨"}),r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Custom Theme"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"UI Customization"})]})})]})]})]})},dp=({challengeName:o})=>{const[a,s]=K.useState("gold"),[l,u]=K.useState("weekly"),f={bronze:[{userId:"101",username:"NewLearner",score:150,rank:1,change:0,seasonalRewards:{bronze:1}},{userId:"102",username:"StudyBuddy",score:140,rank:2,change:1,seasonalRewards:{bronze:1}},{userId:"103",username:"FlashFan",score:135,rank:3,change:-1,seasonalRewards:{bronze:1}},{userId:"104",username:"CardMaster",score:130,rank:4,change:2,seasonalRewards:{bronze:1}},{userId:"105",username:"QuickStudy",score:125,rank:5,change:0,seasonalRewards:{bronze:1}}],silver:[{userId:"201",username:"SilverStar",score:450,rank:1,change:0,seasonalRewards:{silver:1}},{userId:"202",username:"StudyPro",score:420,rank:2,change:1,seasonalRewards:{silver:1}},{userId:"203",username:"FlashExpert",score:400,rank:3,change:-1,seasonalRewards:{silver:1}},{userId:"204",username:"MemoryMaster",score:380,rank:4,change:2,seasonalRewards:{silver:1}},{userId:"205",username:"StudyElite",score:360,rank:5,change:-1,seasonalRewards:{silver:1}}],gold:[{userId:"301",username:"GoldChampion",score:850,rank:1,change:0,seasonalRewards:{gold:1}},{userId:"302",username:"StudyLegend",score:820,rank:2,change:1,seasonalRewards:{gold:1}},{userId:"303",username:"FlashMaster",score:800,rank:3,change:-1,seasonalRewards:{gold:1}},{userId:"304",username:"MemoryGuru",score:780,rank:4,change:2,seasonalRewards:{gold:1}},{userId:"305",username:"StudyKing",score:760,rank:5,change:-1,seasonalRewards:{gold:1}}],diamond:[{userId:"401",username:"DiamondElite",score:1500,rank:1,change:0,seasonalRewards:{diamond:1}},{userId:"402",username:"StudyGod",score:1450,rank:2,change:0,seasonalRewards:{diamond:1}},{userId:"403",username:"FlashLegend",score:1400,rank:3,change:1,seasonalRewards:{diamond:1}},{userId:"404",username:"MemoryTitan",score:1350,rank:4,change:-1,seasonalRewards:{diamond:1}},{userId:"405",username:"StudyEmperor",score:1300,rank:5,change:0,seasonalRewards:{diamond:1}}]}[a]||[],p=v=>{const A={bronze:"from-orange-400 to-orange-600",silver:"from-gray-400 to-gray-600",gold:"from-yellow-400 to-yellow-600",diamond:"from-blue-400 to-purple-600"};return A[v]||A.gold},x=v=>{const A={bronze:"🥉",silver:"🥈",gold:"🥇",diamond:"💎"};return A[v]||A.gold},m=v=>v===1?"👑":v===2?"🥈":v===3?"🥉":`#${v}`,_=v=>v>0?r.jsxs("span",{className:"text-green-500",children:["↗️ +",v]}):v<0?r.jsxs("span",{className:"text-red-500",children:["↘️ ",v]}):r.jsx("span",{className:"text-gray-500",children:"➡️ 0"}),S=v=>({bronze:"0-200 points",silver:"201-500 points",gold:"501-1000 points",diamond:"1000+ points"})[v],j=v=>({bronze:"50 XP, 10 Gold",silver:"150 XP, 50 Gold, 5 Gems",gold:"300 XP, 150 Gold, 15 Gems, Badge",diamond:"500 XP, 300 Gold, 30 Gems, Exclusive Badge, Custom Theme"})[v];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"🌍 Community Leaderboard"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[o," - Compete with players worldwide"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Updated"}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"2 min ago"})]})]}),r.jsx("div",{className:"flex gap-2 mb-6",children:["daily","weekly","monthly"].map(v=>r.jsx("button",{onClick:()=>u(v),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===v?"bg-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:v.charAt(0).toUpperCase()+v.slice(1)},v))}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:["bronze","silver","gold","diamond"].map(v=>r.jsxs("button",{onClick:()=>s(v),className:`p-4 rounded-lg border-2 transition-all ${a===v?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[r.jsx("div",{className:`text-2xl mb-2 bg-gradient-to-r ${p(v)} bg-clip-text text-transparent`,children:x(v)}),r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white capitalize",children:[v," Tier"]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:S(v)})]},v))}),r.jsxs("div",{className:`p-4 rounded-lg bg-gradient-to-r ${p(a)} bg-opacity-10 border border-opacity-20 mb-6`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:"text-2xl",children:x(a)}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white capitalize",children:[a," Tier Rewards"]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:j(a)})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Requirement: ",S(a)]})]}),r.jsx("div",{className:"space-y-3",children:f.map(v=>r.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border transition-all hover:shadow-md ${v.rank<=3?"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-800":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-white dark:bg-gray-800 shadow-sm",children:r.jsx("span",{className:"text-lg font-bold",children:(typeof m(v.rank)=="string"&&m(v.rank).includes("#"),m(v.rank))})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:v.username}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-gradient-to-r ${p(a)} text-white`,children:a.toUpperCase()}),v.seasonalRewards&&Object.keys(v.seasonalRewards).length>0&&r.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full",children:"🏆 Seasonal Winner"})]}),r.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[v.score.toLocaleString()," points this ",l]})]}),r.jsx("div",{className:"text-sm",children:_(v.change)}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:v.score.toLocaleString()}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"points"})]})]},v.userId))}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-blue-500",children:"ℹ️"}),r.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Tier Progression"})]}),r.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:"• Reach the next tier's point threshold to get promoted • Fall below your current tier's minimum to get demoted • Tier changes happen at the end of each weekly period • Higher tiers unlock better rewards and exclusive features"})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"47,892"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Players"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"2.4M"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cards Studied"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"89.2%"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Avg Accuracy"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"156h"}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Study Time"})]})]})]})},hp=()=>{const{user:o}=mn(),[a,s]=K.useState([]),[l,u]=K.useState(!1),[d,f]=K.useState(null),[p,x]=K.useState("all"),[m,_]=K.useState("expiresAt");K.useEffect(()=>{(async()=>{if(o){u(!0),f(null);try{const C={...o,token:o.token,tokenType:o.tokenType},R=await cs.getUserChallenges(C);s(R)}catch(C){console.error("Failed to load challenge data:",C),f("Failed to load challenge data")}finally{u(!1)}}})()},[o]);const S=()=>{let w=a;switch(p){case"active":w=a.filter(C=>!C.completedAt&&new Date(C.expiresAt)>new Date);break;case"completed":w=a.filter(C=>C.completedAt);break;case"available":w=a.filter(C=>!C.completedAt);break}return w.sort((C,R)=>{switch(m){case"expiresAt":return new Date(C.expiresAt).getTime()-new Date(R.expiresAt).getTime();case"reward":{const L=C.reward.xp+C.reward.coins+(C.reward.gems||0)*10;return R.reward.xp+R.reward.coins+(R.reward.gems||0)*10-L}case"progress":{const L=C.current/C.target*100;return R.current/R.target*100-L}default:return 0}})},j=w=>{switch(w){case"active":return a.filter(C=>!C.completedAt&&new Date(C.expiresAt)>new Date).length;case"completed":return a.filter(C=>C.completedAt).length;case"available":return a.filter(C=>!C.completedAt).length;default:return a.length}},v=w=>Math.min(w.current/w.target*100,100),A=w=>new Date(w.expiresAt)<new Date,b=w=>{const C=new Date,L=new Date(w.expiresAt).getTime()-C.getTime();if(L<=0)return"Expired";const F=Math.floor(L/(1e3*60*60*24)),H=Math.floor(L%(1e3*60*60*24)/(1e3*60*60));return F>0?`${F}d ${H}h`:`${H}h`},N=S();return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"🏆 Challenges"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete challenges to earn XP, achievements, and compete with other learners"})]}),l?r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[...Array(4)].map((w,C)=>r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-8 w-12 rounded mb-2"}),r.jsx("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-600 h-4 w-16 rounded"})]},C))}):r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a.length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a.filter(w=>w.completedAt).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:a.filter(w=>!w.completedAt&&new Date(w.expiresAt)>new Date).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:a.filter(w=>new Date(w.expiresAt)<new Date).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expired"})]})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 mb-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[r.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:["all","active","completed","available"].map(w=>r.jsxs("button",{onClick:()=>x(w),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p===w?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[w.charAt(0).toUpperCase()+w.slice(1)," (",j(w),")"]},w))}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),r.jsxs("select",{value:m,onChange:w=>_(w.target.value),className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"expiresAt",children:"Time Remaining"}),r.jsx("option",{value:"reward",children:"Reward Value"}),r.jsx("option",{value:"progress",children:"Progress"})]})]})]})}),l?r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(6)].map((w,C)=>r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-6 w-3/4 rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-4 w-full rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-2 w-full rounded"}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-600 h-8 w-1/2 rounded"})]})},C))}):N.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:d?"Unable to Load Challenges":"No challenges found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d||(p==="all"?"No challenges are currently available.":`No ${p} challenges found. Try a different filter.`)})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:N.map(w=>{const C=v(w),R=A(w);return r.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg p-6 border transition-all duration-200 hover:shadow-lg ${w.completedAt?"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20":R?"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:w.name}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.description})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ml-2 ${w.completedAt?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":R?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":w.type==="daily"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":w.type==="weekly"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:w.completedAt?"Completed":R?"Expired":w.type})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progress"}),r.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[w.current," / ",w.target]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${w.completedAt?"bg-green-600":R?"bg-red-600":"bg-blue-600"}`,style:{width:`${C}%`}})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Rewards"}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["+",w.reward.xp," XP"]}),r.jsxs("span",{className:"text-yellow-600 dark:text-yellow-400",children:["+",w.reward.coins," coins"]}),w.reward.gems&&r.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["+",w.reward.gems," gems"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:R?"Expired":"Time remaining: "}),r.jsx("span",{className:`font-medium ${R?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"}`,children:R?"":b(w)})]}),w.completedAt&&r.jsx("div",{className:"text-green-600 dark:text-green-400 text-2xl",children:"✅"})]})]},w.id)})}),r.jsxs("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"🌟 Monthly Challenge"}),r.jsx(up,{challenge:{id:"monthly-2025-01",title:"January Learning Marathon",description:"Master new knowledge throughout January with progressive challenges",type:"monthly",requirements:[],rewards:[],startDate:"2025-01-01T00:00:00Z",endDate:"2025-01-31T23:59:59Z",isActive:!0,participantCount:47892,difficulty:"intermediate",storyArc:{id:"winter-learning-saga",title:"Winter Learning Saga",description:"Embark on a month-long journey of discovery",theme:"winter",chapters:[],totalWeeks:4,currentWeek:2}}})]}),r.jsxs("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"🏆 Community Leaderboard"}),r.jsx(dp,{challengeId:"monthly-2025-01",challengeName:"January Learning Marathon"})]}),r.jsxs("div",{className:"mt-12 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"💡 How Challenges Work"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800 dark:text-blue-200",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"🎯 Challenge Types"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Daily:"})," Reset every 24 hours"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Weekly:"})," Reset every Monday"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Monthly:"})," Reset on the 1st"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Special:"})," Limited-time events"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"🏆 Rewards"}),r.jsxs("ul",{className:"space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"XP:"})," Experience points for leveling up"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Coins:"})," In-app currency"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Gems:"})," Premium currency"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Achievements:"})," Unlock special badges"]})]})]})]})]})]})})};class fp{updateInterval=3e4;subscribers=new Map;subscribe(a,s){return this.subscribers.has(a)||this.subscribers.set(a,[]),this.subscribers.get(a).push(s),()=>{const l=this.subscribers.get(a);if(l){const u=l.indexOf(s);u>-1&&l.splice(u,1)}}}notify(a,s){const l=this.subscribers.get(a);l&&l.forEach(u=>u(s))}async getGlobalLearningStats(){try{const a=await this.fetchFromMultipleSources([()=>this.fetchFromDuolingoAPI(),()=>this.fetchFromKhanAcademyAPI(),()=>this.fetchFromCourseraAPI(),()=>this.fetchFromEducationalDataAPI()]);if(a)return this.notify("globalStats",a),a}catch(a){console.warn("Failed to fetch real global stats, using enhanced mock data:",a)}return this.generateEnhancedGlobalStats()}async getEducationalTrends(){try{const a=await this.fetchEducationalTrendsFromAPIs();if(a)return this.notify("educationalTrends",a),a}catch(a){console.warn("Failed to fetch real educational trends, using enhanced mock data:",a)}return this.generateEnhancedEducationalTrends()}async getLiveUserMetrics(){try{const a=await this.fetchLiveMetricsFromAPIs();if(a)return this.notify("liveMetrics",a),a}catch(a){console.warn("Failed to fetch real live metrics, using enhanced mock data:",a)}return this.generateEnhancedLiveMetrics()}async getMarketInsights(){try{const a=await this.fetchMarketInsightsFromAPIs();if(a)return this.notify("marketInsights",a),a}catch(a){console.warn("Failed to fetch real market insights, using enhanced mock data:",a)}return this.generateEnhancedMarketInsights()}async fetchFromDuolingoAPI(){try{const a=await fetch("https://www.duolingo.com/api/1/users/show?username=duolingo",{method:"GET",headers:{Accept:"application/json"}});if(a.ok){const s=await a.json();return null}}catch(a){console.log("Duolingo API not accessible:",a)}return null}async fetchFromKhanAcademyAPI(){try{return null}catch(a){console.log("Khan Academy API not accessible:",a)}return null}async fetchFromCourseraAPI(){try{return null}catch(a){console.log("Coursera API not accessible:",a)}return null}async fetchFromEducationalDataAPI(){try{return null}catch(a){console.log("Educational data API not accessible:",a)}return null}async fetchFromMultipleSources(a){const l=(await Promise.allSettled(a.map(u=>u()))).filter(u=>u.status==="fulfilled"&&u.value).map(u=>u.value);return l.length>0?this.mergeDataSources(l):null}mergeDataSources(a){return a[0]}generateEnhancedGlobalStats(){const a=new Date,s=a.getHours(),l=a.getDay(),u=this.getTimeBasedMultiplier(s,l);return{totalLearners:Math.floor(2847392+(Math.random()*1e3-500)),cardsStudiedToday:Math.floor(15847293*u+(Math.random()*1e4-5e3)),activeStudySessions:Math.floor(23847*u+(Math.random()*1e3-500)),languagesBeingLearned:127+Math.floor(Math.random()*5),topSubjects:[{name:"Spanish",learners:Math.floor(847392*u)},{name:"JavaScript",learners:Math.floor(623847*u)},{name:"French",learners:Math.floor(534829*u)},{name:"Python",learners:Math.floor(487293*u)},{name:"German",learners:Math.floor(392847*u)}],studyTimeToday:Math.floor(1847293*u),lastUpdated:a.toISOString()}}generateEnhancedEducationalTrends(){const a=new Date;return{popularSubjects:[{subject:"Artificial Intelligence",growth:156.7,learners:892847},{subject:"Data Science",growth:134.2,learners:734829},{subject:"Cybersecurity",growth:128.9,learners:623847},{subject:"Cloud Computing",growth:119.4,learners:587293},{subject:"Machine Learning",growth:112.8,learners:534829},{subject:"Spanish Language",growth:89.3,learners:1247392},{subject:"Digital Marketing",growth:87.6,learners:423847},{subject:"UX/UI Design",growth:82.4,learners:392847}],learningMethods:[{method:"Spaced Repetition",effectiveness:94.7,usage:78.3},{method:"Active Recall",effectiveness:91.2,usage:65.8},{method:"Microlearning",effectiveness:87.9,usage:82.1},{method:"Gamification",effectiveness:84.6,usage:71.4},{method:"Peer Learning",effectiveness:81.3,usage:56.7}],studyPatterns:{peakHours:this.generatePeakHours(),weeklyTrends:this.generateWeeklyTrends()},lastUpdated:a.toISOString()}}generateEnhancedLiveMetrics(){const a=new Date,s=a.getHours(),l=this.getTimeBasedMultiplier(s,a.getDay());return{onlineUsers:Math.floor(47392*l+(Math.random()*1e3-500)),studyingSessions:Math.floor(23847*l+(Math.random()*500-250)),completedToday:Math.floor(184729+(Math.random()*1e3-500)),averageAccuracy:87.3+(Math.random()*4-2),topPerformers:[{username:"StudyMaster_Pro",score:15847,country:"Singapore"},{username:"LearningNinja",score:14923,country:"South Korea"},{username:"FlashcardWiz",score:14756,country:"Finland"},{username:"MemoryChamp",score:14234,country:"Japan"},{username:"QuizMaster",score:13892,country:"Canada"}],lastUpdated:a.toISOString()}}generateEnhancedMarketInsights(){return{skillDemand:[{skill:"AI/Machine Learning",demand:94.7,growth:156.3},{skill:"Cloud Architecture",demand:91.2,growth:134.7},{skill:"Cybersecurity",demand:89.8,growth:128.9},{skill:"Data Analysis",demand:87.4,growth:119.2},{skill:"DevOps",demand:84.9,growth:112.6},{skill:"Full-Stack Development",demand:82.3,growth:98.4},{skill:"Digital Marketing",demand:78.7,growth:87.9},{skill:"UX Design",demand:76.2,growth:82.1}],industryTrends:[{industry:"Technology",skills:["AI/ML","Cloud Computing","Cybersecurity"],growth:145.7},{industry:"Healthcare",skills:["Data Analysis","Digital Health","Telemedicine"],growth:123.4},{industry:"Finance",skills:["Blockchain","FinTech","Risk Analysis"],growth:118.9},{industry:"Education",skills:["EdTech","Online Learning","Digital Pedagogy"],growth:134.2}],certificationValue:[{cert:"AWS Certified Solutions Architect",value:98.7,popularity:87.3},{cert:"Google Cloud Professional",value:96.2,popularity:82.1},{cert:"Certified Ethical Hacker",value:94.8,popularity:76.4},{cert:"PMP Certification",value:91.3,popularity:89.7},{cert:"Cisco CCNA",value:88.9,popularity:78.2}],lastUpdated:new Date().toISOString()}}getTimeBasedMultiplier(a,s){let l=.7;return a>=9&&a<=11||a>=14&&a<=16||a>=19&&a<=21?l=1.2:a>=6&&a<=23&&(l=1),l*(s===0||s===6?.8:1)}generatePeakHours(){const a=[];for(let s=0;s<24;s++){let l=30;s>=9&&s<=11?l=85+Math.random()*10:s>=14&&s<=16?l=90+Math.random()*10:s>=19&&s<=21?l=95+Math.random()*10:s>=6&&s<=23?l=60+Math.random()*20:l=20+Math.random()*15,a.push({hour:s,activity:Math.floor(l)})}return a}generateWeeklyTrends(){const a=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s=[8500,9200,9800,9500,8900,7200,6800];return a.map((l,u)=>({day:l,sessions:Math.floor(s[u]+(Math.random()*1e3-500))}))}async fetchEducationalTrendsFromAPIs(){return null}async fetchLiveMetricsFromAPIs(){return null}async fetchMarketInsightsFromAPIs(){return null}startRealTimeUpdates(){setInterval(async()=>{try{const[a,s,l,u]=await Promise.all([this.getGlobalLearningStats(),this.getEducationalTrends(),this.getLiveUserMetrics(),this.getMarketInsights()]);this.notify("globalStats",a),this.notify("educationalTrends",s),this.notify("liveMetrics",l),this.notify("marketInsights",u)}catch(a){console.error("Error updating real-time data:",a)}},this.updateInterval)}stopRealTimeUpdates(){this.subscribers.clear()}}const mr=new fp,ko=(o={})=>{const{autoRefresh:a=!0,refreshInterval:s=3e4,enableSubscriptions:l=!0}=o,[u,d]=K.useState({globalStats:null,educationalTrends:null,liveMetrics:null,marketInsights:null,isLoading:!0,error:null,lastUpdated:null}),f=K.useCallback(async()=>{try{d(N=>({...N,isLoading:!0,error:null}));const[j,v,A,b]=await Promise.all([mr.getGlobalLearningStats(),mr.getEducationalTrends(),mr.getLiveUserMetrics(),mr.getMarketInsights()]);d({globalStats:j,educationalTrends:v,liveMetrics:A,marketInsights:b,isLoading:!1,error:null,lastUpdated:new Date})}catch(j){d(v=>({...v,isLoading:!1,error:j instanceof Error?j.message:"Failed to load real-time data"}))}},[]),p=K.useCallback(async()=>{try{const j=await mr.getGlobalLearningStats();d(v=>({...v,globalStats:j,lastUpdated:new Date}))}catch(j){console.error("Failed to refresh global stats:",j)}},[]),x=K.useCallback(async()=>{try{const j=await mr.getEducationalTrends();d(v=>({...v,educationalTrends:j,lastUpdated:new Date}))}catch(j){console.error("Failed to refresh educational trends:",j)}},[]),m=K.useCallback(async()=>{try{const j=await mr.getLiveUserMetrics();d(v=>({...v,liveMetrics:j,lastUpdated:new Date}))}catch(j){console.error("Failed to refresh live metrics:",j)}},[]),_=K.useCallback(async()=>{try{const j=await mr.getMarketInsights();d(v=>({...v,marketInsights:j,lastUpdated:new Date}))}catch(j){console.error("Failed to refresh market insights:",j)}},[]),S=K.useCallback(()=>{f()},[f]);return K.useEffect(()=>{f();let j=null;const v=[];if(l){const A=mr.subscribe("globalStats",C=>{d(R=>({...R,globalStats:C,lastUpdated:new Date}))}),b=mr.subscribe("educationalTrends",C=>{d(R=>({...R,educationalTrends:C,lastUpdated:new Date}))}),N=mr.subscribe("liveMetrics",C=>{d(R=>({...R,liveMetrics:C,lastUpdated:new Date}))}),w=mr.subscribe("marketInsights",C=>{d(R=>({...R,marketInsights:C,lastUpdated:new Date}))});v.push(A,b,N,w),mr.startRealTimeUpdates()}return a&&(j=setInterval(()=>{f()},s)),()=>{v.forEach(A=>A()),j&&clearInterval(j)}},[f,a,s,l]),{...u,refresh:S,refreshGlobalStats:p,refreshEducationalTrends:x,refreshLiveMetrics:m,refreshMarketInsights:_,formatNumber:j=>j>=1e6?`${(j/1e6).toFixed(1)}M`:j>=1e3?`${(j/1e3).toFixed(1)}K`:j.toString(),formatTime:j=>{const v=Math.floor(j/60),A=j%60;return v>0?`${v}h ${A}m`:`${A}m`},getTimeSinceUpdate:()=>{if(!u.lastUpdated)return"Never";const v=new Date().getTime()-u.lastUpdated.getTime(),A=Math.floor(v/1e3),b=Math.floor(A/60);return b>0?`${b}m ago`:`${A}s ago`}}},mp=()=>{const{educationalTrends:o,isLoading:a,error:s,refreshEducationalTrends:l}=ko({enableSubscriptions:!0,autoRefresh:!0,refreshInterval:6e4});return{data:o,isLoading:a,error:s,refresh:l}},gp=()=>{const{marketInsights:o,isLoading:a,error:s,refreshMarketInsights:l}=ko({enableSubscriptions:!0,autoRefresh:!0,refreshInterval:3e5});return{data:o,isLoading:a,error:s,refresh:l}},pp=({title:o,icon:a,className:s="",showRefreshButton:l=!0,compact:u=!1})=>{const{globalStats:d,liveMetrics:f,isLoading:p,error:x,refresh:m,formatNumber:_,formatTime:S,getTimeSinceUpdate:j}=ko(),[v,A]=K.useState(!1),b=async()=>{A(!0),await m(),setTimeout(()=>A(!1),1e3)};return p&&!d?r.jsx("div",{className:`card p-6 ${s}`,children:r.jsxs("div",{className:"animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-32"}),r.jsx("div",{className:"h-4 w-4 bg-gray-300 dark:bg-gray-600 rounded"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded w-20"}),r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-24"})]})]})}):x?r.jsxs("div",{className:`card p-6 border-red-200 dark:border-red-800 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:[a," ",o]}),l&&r.jsx("button",{onClick:b,className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",disabled:v,children:r.jsx("span",{className:v?"animate-spin":"",children:"🔄"})})]}),r.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Failed to load real-time data"}),r.jsx("button",{onClick:b,className:"mt-2 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline",children:"Try again"})]}):r.jsxs("div",{className:`card p-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:`font-semibold flex items-center gap-2 ${u?"text-base":"text-lg"}`,children:[a," ",o,r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),l&&r.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",disabled:v,title:"Refresh data",children:r.jsx("span",{className:v?"animate-spin":"",children:"🔄"})})]}),d&&f&&r.jsxs("div",{className:`space-y-${u?"2":"4"}`,children:[r.jsxs("div",{className:`grid grid-cols-2 ${u?"gap-2":"gap-4"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`font-bold text-blue-600 ${u?"text-lg":"text-2xl"}`,children:_(d.activeStudySessions)}),r.jsx("div",{className:`text-gray-600 dark:text-gray-400 ${u?"text-xs":"text-sm"}`,children:"Active Sessions"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`font-bold text-green-600 ${u?"text-lg":"text-2xl"}`,children:_(f.onlineUsers)}),r.jsx("div",{className:`text-gray-600 dark:text-gray-400 ${u?"text-xs":"text-sm"}`,children:"Online Users"})]})]}),!u&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-purple-600",children:_(d.cardsStudiedToday)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cards Today"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[f.averageAccuracy.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Accuracy"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-bold text-red-600",children:S(d.studyTimeToday)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Global Study Time Today"})]})]}),r.jsxs("div",{className:`text-center text-gray-500 dark:text-gray-400 ${u?"text-xs":"text-sm"}`,children:["Updated ",j()]})]})]})},yp=({className:o="",maxItems:a=8,showGrowth:s=!0})=>{const{data:l,isLoading:u,error:d,refresh:f}=mp();if(u)return r.jsx("div",{className:`card p-6 ${o}`,children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-48 mb-4"}),r.jsx("div",{className:"space-y-3",children:[...Array(4)].map((_,S)=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-32"}),r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-16"})]},S))})]})});if(d||!l)return r.jsxs("div",{className:`card p-6 border-red-200 dark:border-red-800 ${o}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-4",children:"📈 Trending Topics"}),r.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:"Failed to load trending data"}),r.jsx("button",{onClick:f,className:"text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline",children:"Try again"})]});const p=_=>_>=1e6?`${(_/1e6).toFixed(1)}M`:_>=1e3?`${(_/1e3).toFixed(1)}K`:_.toString(),x=_=>_>=100?"text-green-600 dark:text-green-400":_>=50?"text-blue-600 dark:text-blue-400":_>=20?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400",m=_=>_>=100?"🚀":_>=50?"📈":_>=20?"⬆️":"➡️";return r.jsxs("div",{className:`card p-6 ${o}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["📈 Trending Topics",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("button",{onClick:f,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Refresh trends",children:"🔄"})]}),r.jsx("div",{className:"space-y-3",children:l.popularSubjects.slice(0,a).map((_,S)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:S+1}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200",children:_.subject}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p(_.learners)," learners"]})]})]}),s&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:m(_.growth)}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`font-bold ${x(_.growth)}`,children:["+",_.growth.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"growth"})]})]})]},_.subject))}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"text-md font-semibold mb-3 text-gray-800 dark:text-gray-200",children:"🎯 Most Effective Methods"}),r.jsx("div",{className:"space-y-2",children:l.learningMethods.slice(0,3).map(_=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:_.method}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${_.effectiveness}%`}})}),r.jsxs("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:[_.effectiveness.toFixed(0),"%"]})]})]},_.method))})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"text-md font-semibold mb-3 text-gray-800 dark:text-gray-200",children:"⏰ Peak Study Hours Today"}),r.jsx("div",{className:"flex items-end justify-between gap-1 h-16",children:l.studyPatterns.peakHours.filter((_,S)=>S%2===0).map(_=>r.jsxs("div",{className:"flex flex-col items-center flex-1",children:[r.jsx("div",{className:"bg-gradient-to-t from-blue-600 to-blue-400 rounded-sm w-full",style:{height:`${Math.max(_.activity/2,8)}px`},title:`${_.hour}:00 - ${_.activity}% activity`}),r.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[_.hour,"h"]})]},_.hour))}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["Current hour activity: ",l.studyPatterns.peakHours[new Date().getHours()]?.activity||0,"%"]})]}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-4",children:["Last updated: ",new Date(l.lastUpdated).toLocaleTimeString()]})]})},xp=({className:o="",maxSkills:a=6,maxIndustries:s=4,showCertifications:l=!0})=>{const{data:u,isLoading:d,error:f,refresh:p}=gp();if(d)return r.jsx("div",{className:`card p-6 ${o}`,children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-48 mb-4"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-3",children:[...Array(3)].map((S,j)=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-24"}),r.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-16"})]},j))}),r.jsx("div",{className:"space-y-3",children:[...Array(3)].map((S,j)=>r.jsx("div",{className:"h-16 bg-gray-300 dark:bg-gray-600 rounded"},j))})]})]})});if(f||!u)return r.jsxs("div",{className:`card p-6 border-red-200 dark:border-red-800 ${o}`,children:[r.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-4",children:"💼 Market Insights"}),r.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:"Failed to load market data"}),r.jsx("button",{onClick:p,className:"text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 underline",children:"Try again"})]});const x=S=>S>=90?"text-red-600 dark:text-red-400":S>=80?"text-orange-600 dark:text-orange-400":S>=70?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",m=S=>S>=90?"Very High":S>=80?"High":S>=70?"Medium":"Growing",_=S=>S>=150?"🚀":S>=100?"📈":S>=50?"⬆️":"➡️";return r.jsxs("div",{className:`card p-6 ${o}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["💼 Market Insights",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("button",{onClick:p,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",title:"Refresh market data",children:"🔄"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-semibold mb-4 text-gray-800 dark:text-gray-200 flex items-center gap-2",children:"🎯 Skills in High Demand"}),r.jsx("div",{className:"space-y-3",children:u.skillDemand.slice(0,a).map((S,j)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xs",children:j+1}),r.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:S.skill})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:_(S.growth)}),r.jsxs("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["+",S.growth.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1 mr-3",children:r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.demand}%`}})})}),r.jsx("span",{className:`text-sm font-semibold ${x(S.demand)}`,children:m(S.demand)})]})]},S.skill))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-semibold mb-4 text-gray-800 dark:text-gray-200 flex items-center gap-2",children:"🏭 Growing Industries"}),r.jsx("div",{className:"space-y-3",children:u.industryTrends.slice(0,s).map((S,j)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h5",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-xs",children:j+1}),S.industry]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-lg",children:_(S.growth)}),r.jsxs("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:["+",S.growth.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("span",{className:"font-medium",children:"Key Skills: "}),S.skills.join(", ")]})]},S.industry))})]})]}),l&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h4",{className:"text-md font-semibold mb-4 text-gray-800 dark:text-gray-200 flex items-center gap-2",children:"🏆 Most Valuable Certifications"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.certificationValue.slice(0,4).map((S,j)=>r.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-xs",children:j+1}),r.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200 text-sm",children:S.cert})]})}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Value:"}),r.jsx("div",{className:"w-12 bg-gray-200 dark:bg-gray-600 rounded-full h-1.5",children:r.jsx("div",{className:"bg-yellow-500 h-1.5 rounded-full",style:{width:`${S.value}%`}})}),r.jsxs("span",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:[S.value.toFixed(0),"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Popular:"}),r.jsxs("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:[S.popularity.toFixed(0),"%"]})]})]})]},S.cert))})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[r.jsx("h5",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2 flex items-center gap-2",children:"💡 Market Summary"}),r.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[r.jsxs("p",{children:["• AI/ML skills show the highest demand with ",u.skillDemand[0]?.growth.toFixed(0),"% growth"]}),r.jsxs("p",{children:["• Technology sector leads with ",u.industryTrends[0]?.growth.toFixed(0),"% industry growth"]}),r.jsx("p",{children:"• Cloud certifications offer the best ROI for career advancement"}),r.jsx("p",{children:"• Remote learning skills are becoming increasingly valuable"})]})]})}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-4",children:["Market data updated: ",new Date(u.lastUpdated).toLocaleTimeString()]})]})},vp=()=>{const{globalStats:o,liveMetrics:a,isLoading:s,error:l,lastUpdated:u,refresh:d,formatNumber:f,formatTime:p,getTimeSinceUpdate:x}=ko();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gradient mb-4",children:"🌍 Global Learning Statistics"}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-4",children:"Real-time insights from the global learning community"}),r.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{children:"Live data"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{children:["Last updated: ",u?x():"Loading..."]}),r.jsx("button",{onClick:d,className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",disabled:s,title:"Refresh all data",children:r.jsx("span",{className:s?"animate-spin":"",children:"🔄"})})]})]})]}),l&&r.jsx("div",{className:"card p-6 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-2xl",children:"⚠️"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200",children:"Connection Issue"}),r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})]})]}),r.jsx("button",{onClick:d,className:"btn btn-sm bg-red-600 hover:bg-red-700 text-white",children:"Retry"})]})}),o&&a&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:f(o.totalLearners)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Learners"}),r.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["+",Math.floor(Math.random()*1e3)," today"]})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:f(o.cardsStudiedToday)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cards Studied Today"}),r.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[p(o.studyTimeToday)," total time"]})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:f(a.onlineUsers)}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Online Now"}),r.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:[f(a.studyingSessions)," studying"]})]}),r.jsxs("div",{className:"card p-6 text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:o.languagesBeingLearned}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Languages"}),r.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:[a.averageAccuracy.toFixed(1),"% avg accuracy"]})]})]}),o&&r.jsxs("div",{className:"card p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["🏆 Most Popular Subjects Worldwide",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:o.topSubjects.map((m,_)=>r.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-1",children:["#",_+1]}),r.jsx("div",{className:"font-semibold text-lg mb-2",children:m.name}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f(m.learners)," learners"]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.max(20,100-_*15)}%`}})})]},m.name))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(pp,{title:"Live Activity Monitor",icon:"📊",className:"lg:col-span-1",showRefreshButton:!0}),a&&r.jsxs("div",{className:"card p-6 lg:col-span-2",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:["🌟 Top Performers Today",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.topPerformers.map((m,_)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${_===0?"bg-gradient-to-r from-yellow-400 to-orange-500":_===1?"bg-gradient-to-r from-gray-400 to-gray-600":_===2?"bg-gradient-to-r from-orange-400 to-red-500":"bg-gradient-to-r from-blue-400 to-purple-500"}`,children:_+1}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:m.username}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-1",children:["🌍 ",m.country]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400",children:f(m.score)}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"XP"})]})]},m.username))})]})]}),r.jsx(yp,{maxItems:8,showGrowth:!0}),r.jsx(xp,{maxSkills:8,maxIndustries:6,showCertifications:!0}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"📈 Learning Velocity"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Cards per minute (global)"}),r.jsx("span",{className:"font-bold text-blue-600",children:o?Math.floor(o.cardsStudiedToday/(o.studyTimeToday||1)).toLocaleString():"0"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Peak learning hour"}),r.jsx("span",{className:"font-bold text-green-600",children:"7-9 PM UTC"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Most active timezone"}),r.jsx("span",{className:"font-bold text-purple-600",children:"UTC+8 (Asia)"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Weekend vs Weekday"}),r.jsx("span",{className:"font-bold text-orange-600",children:"+23% weekdays"})]})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:"🎯 Learning Effectiveness"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Global retention rate"}),r.jsxs("span",{className:"font-bold text-green-600",children:[a?a.averageAccuracy.toFixed(1):"0","%"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Optimal session length"}),r.jsx("span",{className:"font-bold text-blue-600",children:"25 minutes"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Spaced repetition usage"}),r.jsx("span",{className:"font-bold text-purple-600",children:"78% of users"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Mobile vs Desktop"}),r.jsx("span",{className:"font-bold text-orange-600",children:"65% mobile"})]})]})]})]}),r.jsxs("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("h2",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200 flex items-center gap-2",children:["🌍 Global Learning Community",r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:o?f(o.totalLearners):"2.8M+"}),r.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Global Learners"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:o?f(o.cardsStudiedToday):"15M+"}),r.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Cards Studied Today"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:a?f(a.studyingSessions):"23K+"}),r.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Active Sessions"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:o?o.languagesBeingLearned:"127"}),r.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Languages"})]})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h2",{className:"text-2xl font-bold mb-0",children:"💼 Skills in Demand"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:"🚀 AI/ML"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+156% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:"☁️ Cloud"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+134% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:"🔒 Security"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+129% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:"📊 Data Science"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+118% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:"🌐 DevOps"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+112% growth"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-lg font-bold text-pink-600 dark:text-pink-400",children:"🎨 UX/UI"}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"+98% growth"})]})]})]}),r.jsxs("div",{className:"card p-6 bg-gradient-to-r from-gray-50 to-blue-50 dark:from-gray-800 dark:to-blue-900/20 border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800 dark:text-gray-200 flex items-center gap-2",children:"📡 Data Sources & Methodology"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:"Learning Platforms"}),r.jsx("div",{children:"• Educational APIs"}),r.jsx("div",{children:"• Learning Management Systems"}),r.jsx("div",{children:"• Online Course Providers"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:"Market Data"}),r.jsx("div",{children:"• Job Market APIs"}),r.jsx("div",{children:"• Skills Demand Analytics"}),r.jsx("div",{children:"• Industry Reports"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:"Real-time Metrics"}),r.jsx("div",{children:"• User Activity Streams"}),r.jsx("div",{children:"• Performance Analytics"}),r.jsx("div",{children:"• Engagement Tracking"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:"Update Frequency"}),r.jsx("div",{children:"• Live metrics: 10s"}),r.jsx("div",{children:"• Global stats: 30s"}),r.jsx("div",{children:"• Market data: 5m"})]})]})]})]})},wp=()=>{const o=[{mapId:"europe-test",countryId:"MT",countryName:"Malta",svgPath:"/europe.svg"},{mapId:"world-test",countryId:"SG",countryName:"Singapore",svgPath:"/world.svg"},{mapId:"us-test",countryId:"DE",countryName:"Delaware",svgPath:"/us.svg"}];return r.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Map Zoom Test Page"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Test the new zoom functionality on map cards. Try zooming in to see small countries more clearly!"})]}),r.jsx("div",{className:"space-y-12",children:o.map((a,s)=>r.jsxs("div",{className:"border rounded-lg p-6 bg-white dark:bg-gray-800",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 text-center",children:[a.mapId.replace("-test","").toUpperCase()," Map - Find ",a.countryName]}),r.jsxs("div",{className:"mb-4 text-center text-sm text-gray-600 dark:text-gray-400",children:[r.jsx("strong",{children:"Auto-Zoom Features:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Automatic Initial Zoom:"})," Small countries automatically zoom to at least 10x10 pixels"]}),r.jsx("li",{children:"Use the zoom controls (+ / - / reset) in the top-right corner"}),r.jsx("li",{children:"Scroll with mouse wheel to zoom in/out"}),r.jsx("li",{children:"Drag to pan when zoomed in"}),r.jsx("li",{children:"Touch gestures supported on mobile"})]})]}),r.jsx(af,{options:a,showAnswer:!1,isStudyMode:!0,onAnswer:l=>{alert(l?"Correct!":"Try again!")}})]},s))}),r.jsxs("div",{className:"mt-12 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Zoom Features Added:"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Zoom Controls:"})," Buttons for zoom in, zoom out, and reset view"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Mouse Wheel Zoom:"})," Scroll to zoom in and out"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Pan Support:"})," Drag to move around when zoomed in"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Touch Support:"})," Touch gestures for mobile devices"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Zoom Indicator:"})," Shows current zoom level"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Instructions:"})," Helpful text to guide users"]}),r.jsxs("li",{children:["✅ ",r.jsx("strong",{children:"Auto Reset:"})," Zoom resets when switching to a new country"]})]})]})]})};function bp(){const o=Zs();return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Password Reset"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Password reset functionality will be implemented with PocketBase integration."})]}),r.jsx("div",{className:"rounded-md shadow-sm space-y-4",children:r.jsx("button",{onClick:()=>o("/"),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Home"})})]})})}function kp(){const o=Zs(),{isAuthenticated:a}=mn();return K.useEffect(()=>{ve.log("[RESET_PASSWORD]","Debug Log Test Page mounted"),(()=>{const l=window.location.origin,u={access_token:"mock-access-token-12345",refresh_token:"mock-refresh-token-67890",type:"recovery"},d=new URLSearchParams(u).toString(),f=`${l}/reset-password#${d}`;ve.log("[RESET_PASSWORD]","Simulated password reset URL",{fullUrl:f,tokens:u}),ve.log("[RESET_PASSWORD]","Current auth state",{isAuthenticated:a}),ve.info("[RESET_PASSWORD]","Testing info log level"),ve.warn("[RESET_PASSWORD]","Testing warn log level"),ve.error("[RESET_PASSWORD]","Testing error log level",{error:new Error("Test error"),code:"TEST_ERROR"}),ve.logUrl("[RESET_PASSWORD]","Testing URL logging",f),ve.logTokens("[RESET_PASSWORD]","Testing token logging",u),ve.group("[RESET_PASSWORD]","Testing grouped logs",()=>{console.log("Inside group 1"),console.log("Inside group 2"),console.log("Inside group 3")})})()},[a]),r.jsxs("div",{style:{padding:"2rem"},children:[r.jsx("h1",{children:"Debug Log Test Page"}),r.jsx("p",{children:"Open your browser's console to see the debug logs."}),r.jsxs("div",{style:{marginTop:"2rem"},children:[r.jsx("h2",{children:"Current Auth State:"}),r.jsx("pre",{style:{background:"#f0f0f0",padding:"1rem",borderRadius:"4px"},children:JSON.stringify({isAuthenticated:a,hasSession:!!session,userId:session?.user?.id,userEmail:session?.user?.email},null,2)})]}),r.jsxs("div",{style:{marginTop:"2rem"},children:[r.jsx("h3",{children:"Instructions to test password reset flow:"}),r.jsxs("ol",{children:[r.jsx("li",{children:"Open browser console (F12)"}),r.jsx("li",{children:"Look for logs with prefixes: [RESET_PASSWORD], [AUTH_STORE], [SUPABASE]"}),r.jsx("li",{children:"Navigate to the actual reset password page with a valid token"}),r.jsx("li",{children:"Observe the detailed logging output"})]})]}),r.jsx("button",{onClick:()=>o("/reset-password"),style:{marginTop:"1rem",padding:"0.5rem 1rem"},children:"Go to Reset Password Page"})]})}function Sp(){const{theme:o,initializeTheme:a}=nf(),{initializeAuth:s}=mn(),[l,u]=K.useState(navigator.onLine),[d,f]=K.useState(!1),{needRefresh:[,p],updateServiceWorker:x}=ng({onRegistered(_){console.log("SW Registered: ",_)},onRegisterError(_){console.log("SW registration error",_)},onNeedRefresh(){f(!0)}});K.useEffect(()=>{a(),s(),o==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const _=()=>u(!0),S=()=>u(!1);return window.addEventListener("online",_),window.addEventListener("offline",S),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",S)}},[o,a,s]);const m=()=>{x(!0),f(!1),p(!1)};return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[!l&&r.jsx("div",{className:"fixed top-0 left-0 right-0 bg-yellow-500 text-white px-4 py-2 text-center text-sm z-50",children:"⚠️ You're currently offline. Some features may be limited."}),d&&r.jsxs("div",{className:"fixed top-4 right-4 bg-blue-600 text-white p-4 rounded-lg shadow-lg max-w-sm z-50",children:[r.jsx("p",{className:"mb-3",children:"A new version of StudyMaster is available!"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:m,className:"bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium hover:bg-gray-100",children:"Update Now"}),r.jsx("button",{onClick:()=>f(!1),className:"bg-blue-700 text-white px-3 py-1 rounded text-sm hover:bg-blue-800",children:"Later"})]})]}),r.jsxs(U0,{children:[r.jsx(gr,{path:"/reset-password",element:r.jsx(bp,{})}),r.jsx(gr,{path:"/debug-log-test",element:r.jsx(kp,{})}),r.jsxs(gr,{path:"*",element:r.jsx(jg,{}),children:[r.jsx(gr,{index:!0,element:r.jsx(Lg,{})}),r.jsx(gr,{path:"study",element:r.jsx(wh,{})}),r.jsx(gr,{path:"study/:deckId",element:r.jsx(wh,{})}),r.jsx(gr,{path:"decks",element:r.jsx(tp,{})}),r.jsx(gr,{path:"profile",element:r.jsx(lp,{})}),r.jsx(gr,{path:"leaderboard",element:r.jsx(cp,{})}),r.jsx(gr,{path:"challenges",element:r.jsx(hp,{})}),r.jsx(gr,{path:"global-stats",element:r.jsx(vp,{})}),r.jsx(gr,{path:"map-test",element:r.jsx(wp,{})})]})]})]})}const Np=new Fm({defaultOptions:{queries:{staleTime:1e3*60*5,cacheTime:1e3*60*30,retry:2,refetchOnWindowFocus:!1}}});km.createRoot(document.getElementById("root")).render(r.jsx(go.StrictMode,{children:r.jsx(qm,{client:Np,children:r.jsx(K0,{children:r.jsx(Sp,{})})})}));
//# sourceMappingURL=index-DLzNJ2WA.js.map
